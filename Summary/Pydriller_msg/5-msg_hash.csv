commit_id,msg
7669e92657eaef2b73e8f0e97de9171ee123e41e,git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414892 13f79535-47bb-0310-9956-ffa450edef68
cb5a3646fc8b2a620dba5bdde3a6b7a3753b1be2,"Initial check-in


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414893 13f79535-47bb-0310-9956-ffa450edef68"
c129996c75e2a98c89b0286dd93778c553822c43,"checking in appropriate svn ignores to filter out the 
eclipse project files

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414897 13f79535-47bb-0310-9956-ffa450edef68"
c15437fb5bedf76eacad431940f69ed01f7346ff,"Placeholder for the server module


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414901 13f79535-47bb-0310-9956-ffa450edef68"
1bc284136b196943e7ef7cda6c8c3e222b8f8bb8,"Placeholder for the Abdera server module

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414902 13f79535-47bb-0310-9956-ffa450edef68"
0e729431c6ead522446a1d7be898b47b8d43fc43,"Fix svn:executable silliness

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414903 13f79535-47bb-0310-9956-ffa450edef68"
3f11d6047a0a9b9f4a936de58d722958417b4ff0,"Fix svn:executable silliness

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414904 13f79535-47bb-0310-9956-ffa450edef68"
00acde5968ac8649d246f7ee59dec14f48ae6bf3,"Fixing test building. Still need to get the tests running again

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414912 13f79535-47bb-0310-9956-ffa450edef68"
66cc334fbef2eb6c5f1bda6a247afe47bcd6f9d8,"More svn ignores

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414914 13f79535-47bb-0310-9956-ffa450edef68"
4238d14bdb4f5d0ec5644f49e6bb4710785b88e3,"More svn ignores

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414915 13f79535-47bb-0310-9956-ffa450edef68"
82c40aaac1c7a9641bfe44ad72948f1596e87c72,"Incorporating Eclipse building instructions
(hat tip to Stephen Duncan for the Maven build and Maven eclipse instructions)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414942 13f79535-47bb-0310-9956-ffa450edef68"
07d285fd3b0419eed9632dccd6113fbcbcc79868,"Rename *Tests classes to *Test so that Maven will detect them up properly

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414954 13f79535-47bb-0310-9956-ffa450edef68"
984fd6085df2636d495b70c77b0706d456a87c24,"Adding .settings and target to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414957 13f79535-47bb-0310-9956-ffa450edef68"
8e8924280f7720e8bcb5521e65ef827eb0459ac5,"Fixing the ClassCastException in the FOMTest

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414973 13f79535-47bb-0310-9956-ffa450edef68"
92dd0872b2d222f9c5258df884b081f549b4bb84,"Putting the test resources in the right place

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@414974 13f79535-47bb-0310-9956-ffa450edef68"
949767181c78684c56fa00084e942194aa288035,"Adding wstx to parser/pom.xml

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415038 13f79535-47bb-0310-9956-ffa450edef68"
8ee6e6da6a9cbb1a7bf364cb8e591231e347f7e2,"Adding wstx to pom.xml

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415039 13f79535-47bb-0310-9956-ffa450edef68"
ef4e887b15357f3856d7078e9a5a6233080f4abd,"Updated build instructions

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415040 13f79535-47bb-0310-9956-ffa450edef68"
a1317b0fa980b97e3fae701d91ee7744dfc7115a,"setContentElement was not being called. (thx Stephen)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415069 13f79535-47bb-0310-9956-ffa450edef68"
a20f921c30956d97d7f39b624c8fecc8716efb2f,"Various build patches from Stephen and Garrett

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415090 13f79535-47bb-0310-9956-ffa450edef68"
e3e2f80fdccab134d29abd19652e952cb11868ce,"Get the tests running via ant.

* build/build.xml
 Add new properties, parser.test.java and parser.test.resources.
 (test): Run new test suites.
 (build): Copy test resources from the correct location.

* core/src/test/java/org/apache/abdera/test/core/TestSuite.java: New suite.

* parser/src/test/java/org/apache/abdera/test/parser/stax/TestSuite.java: Ditto.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415214 13f79535-47bb-0310-9956-ffa450edef68"
29db2cd735d1af1f0518c1e05438b88cffd393ff,"From Garrett Rooney...

Clean up our javadoc.

[in core/src/main/java/org/apache/abdera/model]

* Entry.java
 (setContentAsHtml, setContentAsXhtml,
  setRightsAsXhtml, setSummaryAsXhtml,
  setTitleAsXhtml, setTitleAsXhtml): Remove baseUri param.

* Content.java
 (getMimeType): s/@returns/@return/ 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415226 13f79535-47bb-0310-9956-ffa450edef68"
4782f5a52d70ee014339d51a04541f69f605c9ee,"From Stephen Duncan...

Prevent Maven from trying to run the TestSuites.  Added **/*TestSuite*
to exclusions in parent pom.xml 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415228 13f79535-47bb-0310-9956-ffa450edef68"
1d2dac3f2cf8f9e75552ec4dfc01dbac7173b51e,"As requested by Stephen,
  Can now pass in a reader on Parser.parse(...)
  Can now pass in a writer on Document.writeTo(...) and Element.writeTo(...)

Also, fixed a bug on Element.writeTo(...) that caused it not to output the 
complete content of the element.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415372 13f79535-47bb-0310-9956-ffa450edef68"
1af816ef390af411c05e7c162c65d2e0c6020b32,"Some test improvements.

* Moved testMinimalConfiguration to Parser tests (as suggested by Stephen)
* Provide a thorough testing of the Factory
* Fixed a few bugs made visible by the new test case (e.g., an infinite loop in Factory.getDefaultGenerator())

More to come

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415427 13f79535-47bb-0310-9956-ffa450edef68"
a428d66b787e30bf9481e020917daaeb39cf3312,"Removing unused imports

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415428 13f79535-47bb-0310-9956-ffa450edef68"
d45f2dc6eed5d57d9c753b38b2f77324b44210d1,"Roundtrip test case.. create Atom feed, serialize, parse, the verify the result

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415435 13f79535-47bb-0310-9956-ffa450edef68"
6b006f7aaa0991aba94cb28c29866a390e3caae5,"From Garrett Rooney...

Stop fetching feedparser xml files from feedparser.org at test time.

* NOTICE: Note presence of software from feedparser.

* LICENSE: Add the feedparser license for their data files.

* build/build.xml
 (compile.parser): Copy feedparser files into test tree.

* parser/src/test/java/org/apache/abdera/test/parser/stax/FeedParserTest.java
 Remove import of java.net.URI.
 (get): Removed.
 (parse): New method.
 (setUp): Removed.
 (testAtom10Namespace, testEntryAuthorEmail,
  testEntryAuthorName, testEntryContentBase64,
  testEntryContentBase642): Use parse, not get.

* parser/src/test/resources/feedparser/entry_content_base64_2.xml: New file.
* parser/src/test/resources/feedparser/entry_author_name.xml: Ditto.
* parser/src/test/resources/feedparser/entry_author_email.xml: Ditto.
* parser/src/test/resources/feedparser/atom10_namespace.xml: Ditto.
* parser/src/test/resources/feedparser/entry_content_base64.xml: Ditto. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415718 13f79535-47bb-0310-9956-ffa450edef68"
70a348847737d6e84efb3f260e89bc74c185b2ba,"Adding the javax.xml.transform Source and Result implementations

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415728 13f79535-47bb-0310-9956-ffa450edef68"
5732ec17872984926ab128d5005889d646aeeed3,"- Moved draft server interfaces and servlet implementation to trunk
- Updated the build.xml to build server.jar
- Added a dependency on geronimo-spec-servlet in deps.properties
- Added a geronimo-spec-servlet license (just copied another geronimo license in the dir)
- Removed placeholder.



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415730 13f79535-47bb-0310-9956-ffa450edef68"
b4ab4476847c7641bfba3268fa6ef06fb271479c,"- Moved draft server interfaces and servlet implementation to trunk
- Updated the build.xml to build server.jar
- Added a dependency on geronimo-spec-servlet in deps.properties
- Added a geronimo-spec-servlet license (just copied another geronimo license in the dir)
- Removed placeholder.

(sorry for disconnected commit)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415731 13f79535-47bb-0310-9956-ffa450edef68"
37b2c07493c149f9a7178ba5c7727dce8e3b052f,"Adding license block

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415733 13f79535-47bb-0310-9956-ffa450edef68"
6250f57a3ce194855dcda5395f1f506334e0450f,"Added License statement to server code.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415743 13f79535-47bb-0310-9956-ffa450edef68"
2e9bf19292e28afb44a4074e3fb811156650a93b,"moved from branch/snell_sandbox

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415753 13f79535-47bb-0310-9956-ffa450edef68"
3e93ea3bb0123765b820180a4f844a81cde56a4d,"- Minor fixed to default implementation of getBaseUri in ServletRequestContext

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415780 13f79535-47bb-0310-9956-ffa450edef68"
db828042bf03128ea9559756359448c32f2c2417,"Alternatives implementation.

Allows users to configure alternative implementations of the FOM* classes with
very little effort.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415824 13f79535-47bb-0310-9956-ffa450edef68"
4bf8913aa153c2511058e53c3332868a0667578a,"From Garrett Rooney...

Fix some javadoc problems.

* core/src/main/java/org/apache/abdera/model/Source.java
 (addAuthor, addContributor): Drop @throws tags for methods that don't
  actually throw anything.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415836 13f79535-47bb-0310-9956-ffa450edef68"
48cfbd2d616064adc3c178b684999238eb017435,"Expanded test cases and examples

* Test cases for alternatives, abderasource/abderaresult 
* Examples for xpath, xslt, parsefilter, textfilter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415842 13f79535-47bb-0310-9956-ffa450edef68"
cb4a786b391139853c5871b2b107f70d62be5ffc,"- Maven patch for server module. Submitted by Stephen

http://mail-archives.apache.org/mod_mbox/incubator-abdera-dev/200606.mbox/%3cb20ce4ed0606201705h2f40f968nd5e5de4944943423@mail.gmail.com%3e



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415860 13f79535-47bb-0310-9956-ffa450edef68"
9fb858e2c435acaa7c8a1a0965586531284082a4,"A number of general implementation improvements and API clean ups

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415861 13f79535-47bb-0310-9956-ffa450edef68"
7dec19fb43d8b290871079128ac9cc9727b8d679,"From Stephen Duncan...

Stop specifying version and scope for junit dependency.

* core/pom.xml: Remove version and scope for junit dependency.
* parser/pom.xml: Ditto.
* security/pom.xml: Ditto.
* examples/pom.xml: Ditto. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415897 13f79535-47bb-0310-9956-ffa450edef68"
d8ef5177b97ca43d032df62fb4815e7d11d59423,"From Stephen Duncan...

Updated version number from 0.1-SNAPSHOT to 0.1.0-incubating-SNAPSHOT.

* pom.xml: Updated version number.
* core/pom.xml: Updated version number, version number of parent, and
dependencies.
* parser/pom.xml: Ditto.
* security/pom.xml: Ditto.
* server/pom.xml: Ditto.
* examples/pom.xml: Ditto.
* build/build.xml: Updated version number.
* core/src/main/java/org/apache/abdera/util/Version.java: Ditto. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415898 13f79535-47bb-0310-9956-ffa450edef68"
ed8a66ba67ee21ddb4e3a5401f081dde8d99d38f,"From Garrett Rooney...

Move some of the atom conformance test data files into our tree.

* build/build.xml
 (compile.parser): Copy conformance test files into test directory.

[ in parser/src/test ]

* java/org/apache/abdera/test/parser/stax/AtomConformanceTest.java
 Import java.io.InputStream.
 (parse): New method.
 (testContentTypes, testOrder, testLink): Use parse, not get.

* resources/conformance/linktests.xml: New test file.
* resources/conformance/contentsummary.xml: Ditto.
* resources/conformance/ordertest.xml: Ditto. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@415900 13f79535-47bb-0310-9956-ffa450edef68"
d4806d0dca12bd035481c3bdb25520cbb6aca2a0,"For Garrett.. Changing <T extends Base>T clone() to Object clone();

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416041 13f79535-47bb-0310-9956-ffa450edef68"
f02df45c0da15b9100f549be331abab5471dbf58,"From Rob Yates....
""while looking at the GData stuff abdera was incorrectly 
parsing the dates. I fixed AtomDate and here's the change 
(two SS's to three SSS's for millisecond)""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416400 13f79535-47bb-0310-9956-ffa450edef68"
3ae45d4c685f62764170748014d2d28240fa1ee4,"Several API Refactorings

* Factory, Entry and Source have been refactored to simplify the various
  setContent, setTitle, setRights, setSummary and setSubtitle options.

* The various FOM* impl classes now have simple constructors so that we
  can do things like Entry entry = new FOMEntry(); (uses the default 
  configured Factory.INSTANCE)

* Updated docs, examples and tests to reflect the content and text api
  refactorings

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416512 13f79535-47bb-0310-9956-ffa450edef68"
876a8c9ac3413d45d9417aa2b88ab61fa2d33030,"From Garrett Rooney...

Move code for reading xml files off of disk into a common base class.

[ in parser/src/java/org/apache/abdera/test/parser/stax ]

* BaseParserTestCase.java: New file.

* AtomConformanceTest.java
 Extend BaseParserTestCase.
 (parse): Removed.
 (testContentTypes, testOrder, testLink): Don't call .toString() on our
  URI.

* FeedParserTest.java
 Extend BaseParserTestCase.
 (parse): Removed.
 (baseURI): New member.
 (setUp): New method, initializes baseURI.
 (testAtom10Namespace, testEntryAuthorEmail, testEntryAuthorName,
  testEntryContentBase64, testEntryContentBase642): Use our baseURI to
  resolve the actual URI, and pass it to parse. 

* build/build.xml
 (compile.parser): Copy all the contents of the resource directory. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416516 13f79535-47bb-0310-9956-ffa450edef68"
7fa80e8810f697ed8e580d13de21a2b64b7655d5,"(Eclipse hiccup)

From Garrett Rooney...

Move code for reading xml files off of disk into a common base class.

[ in parser/src/java/org/apache/abdera/test/parser/stax ]

* BaseParserTestCase.java: New file.

* AtomConformanceTest.java
 Extend BaseParserTestCase.
 (parse): Removed.
 (testContentTypes, testOrder, testLink): Don't call .toString() on our
  URI.

* FeedParserTest.java
 Extend BaseParserTestCase.
 (parse): Removed.
 (baseURI): New member.
 (setUp): New method, initializes baseURI.
 (testAtom10Namespace, testEntryAuthorEmail, testEntryAuthorName,
  testEntryContentBase64, testEntryContentBase642): Use our baseURI to
  resolve the actual URI, and pass it to parse. 

* build/build.xml
 (compile.parser): Copy all the contents of the resource directory. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416517 13f79535-47bb-0310-9956-ffa450edef68"
f235d7f676727bc7b2cd75845624df62d199198f,"Minor cleanups

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416518 13f79535-47bb-0310-9956-ffa450edef68"
afd644eecd3af38721e9cd9e7f10b142b92a4f3e,"Eclipse hiccup.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416519 13f79535-47bb-0310-9956-ffa450edef68"
180ee3739fb555a0c92083a7daf604d29de7622b,"Todo's have been resolved. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416520 13f79535-47bb-0310-9956-ffa450edef68"
90ddee9a75b182c4f9e31453851f2988993c6f02,"Use the default application/xml mimetype when 
calling setContent(""..."", Content.Type.XML);

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416528 13f79535-47bb-0310-9956-ffa450edef68"
e7a1d7565831ac7b04e39432bc7c54b4d28c09d2,"- Added accessor to requestHeaders Map in RequestOptions
- Fixed _invoke method in AtomClient to set custom request headers.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416539 13f79535-47bb-0310-9956-ffa450edef68"
a001434a9bd9cee41f906d7bd733f469a1caa63a,"- Moved AbderaServerException to .exceptions package.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416541 13f79535-47bb-0310-9956-ffa450edef68"
17ca0c03d591ba5ddc2d51b5cc6f190129b4992e,"In the process of moving the Feed thread stuff out to an extensions module.

* Remove the InReplyTo and Total interfaces from abdera.core
* Remove ThreadHelper from abdera.util
* Remove the related methods from Factory, Entry, FOMFactory and FOMEntry
* Remove the InReplyTo and Total from tests and examples

Next step is to check in the new abdera.extensions module

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416770 13f79535-47bb-0310-9956-ffa450edef68"
d37fbcd27a4b2e91cdf7b0a741b8213fb9b4e779,"Adding the extensions module with the Feed Thread support. 
Updates the ant and maven scripts to build a new extensions jar.

Uses the ExtensionFactory mechanism so that the extension is registered 
automatically simply by dropping the extensions jar into the classpath

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416772 13f79535-47bb-0310-9956-ffa450edef68"
e5716f9326ba20c1ae068f9183f3206a94daf65a,"Setting appropriate svn:ignore properties

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416773 13f79535-47bb-0310-9956-ffa450edef68"
5e74d94a6e60add62c39465c2976c41956a54a54,"Change some of the methods on ExtensibleElement to use generics... 
makes it slightly easier to use extensions with the API when using java5

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416777 13f79535-47bb-0310-9956-ffa450edef68"
2bbb820e35e4b61c3a324cba18340f93cd373ede,"- Forgot to remove AbderaServerException from server package.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@416979 13f79535-47bb-0310-9956-ffa450edef68"
a1ecf9937798817256a83a534175b9dfc7a787a7,"From Garrett Rooney...

Make xslt test work by forking off our test runs.

* build/build.xml
 (test): add fork=""yes"" to our java runs. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417478 13f79535-47bb-0310-9956-ffa450edef68"
c77ed924c960d495db3a9ea1a0b98d305feb89f4,"From Stephen Duncan...

Added abdera-parser as a dependency for the examples module.

* examples/pom.xml: Added abdera-parser as a dependency. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417482 13f79535-47bb-0310-9956-ffa450edef68"
469b67008ca479b07115d5324b3b66a1d390e60b,"Content.getValue() with type=""xhtml"" ... now returns the serialized string without the wrapper div
 Content.setValue() with type=""xhtml"" ... now automatically adds the wrapper div (regardless of whether or not the value param already has a div
 
 This automatically bubbles down to entry.getContent(...) and entry.setContent(...)
 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417652 13f79535-47bb-0310-9956-ffa450edef68"
c036b24bd7cf6570598705dff9aad01907fa0c77,"Text.getValue() with type=""xhtml"" ... now returns the serialized string without the wrapper div
 Text.setValue() with type=""xhtml"" ... now automatically adds the wrapper div (regardless of whether or not the value param already has a div
 
 This automatically bubbles down to entry.getTitle(...), entry.setTitle(...), entry.getRights(...), entry.setRights(...), as so on
 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417654 13f79535-47bb-0310-9956-ffa450edef68"
ae06c392aaf5b7dbf257fe0477f9b64f1f81518d,"From Garrett Rooney...

Check for null input streams in the parse() method.

[ in parser/src/main/java/org/apache/abdera/parser/stax ]

* FOMParser.java
 (parse): Throw an IllegalArgumentException if we are passed a null
  InputStream or Reader.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417657 13f79535-47bb-0310-9956-ffa450edef68"
7c022cee1acd4146f9f81502c898f7c29a531f97,"- Added getters/setters to response headers in ResponseContext

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417666 13f79535-47bb-0310-9956-ffa450edef68"
ada516322bd685617d05056e0a4b41adb4acb6b3,"I left a couple default access methods. Changed to public.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417668 13f79535-47bb-0310-9956-ffa450edef68"
7a5152ba92a857b5677f888f14e38c038ce0702e,"- Added support for multiple values in add/setHeader methods.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417669 13f79535-47bb-0310-9956-ffa450edef68"
b636ebc0cd3a288c29ee4c8da413393ac0e0b165,"Adding custom parser/writer support

This introduces the concept of named parsers and named writers.  For instance, if I wanted to have
a JSON serialization of a set of Abdera objects, I could do something like:

  Writer writer = WriterFactory.INSTANCE.getInstance(""json"");
  writer.writeTo(entry, outputStream);



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417828 13f79535-47bb-0310-9956-ffa450edef68"
a92d3e5fddca425196f1def1d87cb0858b0ac8dd,"Adding a getWrappedValue/setWrappedValue for returning/setting the XHTML content with the wrapper div.  
For any other type of content, this just delegates to the regular getValue/setValue.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417876 13f79535-47bb-0310-9956-ffa450edef68"
b5539a4d32d4b6e5b427d131f41bbfec40a0fde7,"Forgot to add the getWrappedValue/setWrappedValue on Text

Also, modified getBaseUri/getResolvedBaseUri/getLanguage on FOMContent and FOMText to 
do the right thing with xml:lang and xml:base when dealing with XHTML content -- 
specifically, if the container div has xml:lang, Content.getLanguage will return it's 
value.  If the container div has xml:base, Content.getBaseUri will return it's value
resolved against the Content element's own xml:base (if present).  Things just kind of
work themselves out from there.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417890 13f79535-47bb-0310-9956-ffa450edef68"
6b87fbbb33992934eb43901a71953474eb21cfca,"Whoops.  The overridden getLanguage wasn't working right.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417892 13f79535-47bb-0310-9956-ffa450edef68"
795811913549e9ac7e8525a1d99a505fd565ff2b,"Holy cut and paste errors batman... I committed with an unused import. Bad James.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417894 13f79535-47bb-0310-9956-ffa450edef68"
6a94dcda4805b35ef8829a3ebfbf42c15ec83cda,"From Stephen Duncan...

Added eclipse files to svn:ignore. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417972 13f79535-47bb-0310-9956-ffa450edef68"
44b2c5ba95e7f0746a2b928bb3bcefa9bc647dd2,"From Stephen Duncan...

Added extensions to list of modules.

 * pom.xml: Added module declaration for extensions. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@417973 13f79535-47bb-0310-9956-ffa450edef68"
1c059639a22fc3bdf9dd7e8d5dbbc7b416076189,"Fixing an infinite loop that occurs when the feed that contains an entry is set as it's source..

e.g. 

  Feed parent = Factory.INSTANCE.newFeed();
  Entry entry = Factory.INSTANCE.newEntry(parent);
  
  // this line is what causes the loop
  entry.setSource(parent);



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@418373 13f79535-47bb-0310-9956-ffa450edef68"
1536a81af108481de41ffec05485566df2c36610,"From Stephen Duncan...

Changed dependencies from geronimo implementation to geronimio-spec
for activation.

* pom.xml - Changed dependencyManagement activation dependency declaration.
* core/pom.xml - Changed activation dependency declaration.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@418438 13f79535-47bb-0310-9956-ffa450edef68"
6bcd5b589fd56a1aa66c55181a4918d4bf8e3520,"- Added ResponseContext setContentLength
- Added implementation of custom headers in AbderaServerException
- Added support for setting Allow headers in MethodNotAllowedException
- Added support in AbderaServlet to set Content-Length

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@418494 13f79535-47bb-0310-9956-ffa450edef68"
d20f31347dd3f20a3d4874092c22c6677c8a9713,"Div.setValue/Div.getValue now set/return the internal markup of the Div (it used to just return the text content stripped of any markup

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@419296 13f79535-47bb-0310-9956-ffa450edef68"
ff41f83d5b574b4bf8ef3362119a77ad42005506,"change ParserFactory.INSTANCE.getInstance(...) to ParserFactory.INSTANCE.getParser(...)
change WriterFactory.INSTANCE.getInstance(...) to WriterFactory.INSTANCE.getWriter(...)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@419345 13f79535-47bb-0310-9956-ffa450edef68"
5ffd6778db53d0b83ac8a8e1a6aee9934584ddd9,"- Renamed MethodNotAllowed to MethodNotAllowedException
- Added NotFoundException

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@419547 13f79535-47bb-0310-9956-ffa450edef68"
d2005d7e6e1d6d43b73f525abe2d6995e5eae960,"Incorporates Retroweaver into the ant build.

To run: ant -f build/build.xml retro

Both the JDK 1.5 and JDK 1.4.2 jars will be in the ""dist"" folder, with the 1.4.2 jars suffixed with ""retro"".
There is one additional dependency (retroweaver-rt-1.2.3.jar) for the 1.4.2 jars that is copied to the dist/lib directory.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@419720 13f79535-47bb-0310-9956-ffa450edef68"
89d27b0d3f30b335135049d854b344740b16acaa,"With the changes in the way XHTML is handled, Div.getValue will return escaped markup rather than automatically 
unescaping it the way it used to.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@419724 13f79535-47bb-0310-9956-ffa450edef68"
423846a98a74d5d693230dcd1af5595b53518759,"Download retroweaver dynamically so it doesn't have to live in the svn

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@419729 13f79535-47bb-0310-9956-ffa450edef68"
fed7d57bc372221e11d0017520d475ed98f04799,"Add retroweaver to the dependencies

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@419730 13f79535-47bb-0310-9956-ffa450edef68"
c448adef0cae66dd2c7278d064cc379cb8c7c510,"Whoops. It would help to create the directory before I attempt to download into it.
Also, the ""retro"" target needs to depend on the ""dist"" target.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@419731 13f79535-47bb-0310-9956-ffa450edef68"
89df7ee7256948b74fc2297c64fae7fe619e43ed,"Making it easier to get the value of a simple extension

ExtensibleElemenet.getSimpleExtension(qname) will return the string value of the extension

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420561 13f79535-47bb-0310-9956-ffa450edef68"
65bcf4aa791e72c815a9b86177a4e7d498e817c9,"Eliminating the StringElement and ExtensionElement interfaces.
All elements now support a getText/setText method for retrieving the text content of the element with markup stripped
There is a registerExtension method on Factory that allows impl classes to be associated with implementation classes 
dynamically (e.g. without requiring static registration)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420598 13f79535-47bb-0310-9956-ffa450edef68"
b109f796a476479a75492ab5133c0fc970b31cc9,"Fix for the ExtensionElement API change

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420599 13f79535-47bb-0310-9956-ffa450edef68"
9a3d213ab0d000429384263810742dd0eb24fc24,"Fixing the build doc instructions for eclipse.

 * add ""extensions""
 * mention that the ant build needs to be run to get the dependencies

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420601 13f79535-47bb-0310-9956-ffa450edef68"
1480c4eecc4aae9e74139cd1f7d23b887e942aee,"Updating the geronimo mailapi and activation dependency
One thing we need to keep in mind is that the Geronimo mailapi implementation does not currently handle RFC2047 encoding
properly.  We'll need this to properly support i18n and the APP spec's Title header.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420613 13f79535-47bb-0310-9956-ffa450edef68"
8348508f9abfa54c361731cce8826bc0e04e68de,"Updating the geronimo mailapi and activation dependency
One thing we need to keep in mind is that the Geronimo mailapi implementation does not currently handle RFC2047 encoding
properly.  We'll need this to properly support i18n and the APP spec's Title header.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420617 13f79535-47bb-0310-9956-ffa450edef68"
497d1d270d684bc68da9c30eda0ffbe5308a2871,"Factory interface simplifications
Removed most of the convenience methods that are already available via the other interfaces
Simplified the alternatives impl

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420662 13f79535-47bb-0310-9956-ffa450edef68"
e3f55ca104ff3933fd76fc274b7044e15a9ee398,"* build/build.xml: Replace literal tabs with spaces.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420687 13f79535-47bb-0310-9956-ffa450edef68"
a2b4f1989c4afbeb5cb14537214e59012ce5a681,"Add support for enough OpenSearch elements to allow you to use Abdera
to parse GData search results.

* build/build.xml: Build and run extension tests for OpenSearch.

[ in extensions/src/main/resources/META-INF/services ]

* org.apache.abdera.factory.ExtensionFactory: Add OpenSearch factory.

[ in extensions/src/main/java/org/apache/abdera/ext/opensearch ]

* OpenSearchConstants.java: New file.
* TotalResults.java: New file.
* StartIndex.java: New file.
* ItemsPerPage.java: New file.
* OpenSearchExtensionFactory.java: New file.

[ in extensions/src/main/java/org/apache/abdera/ext/opensearch/impl ]

* FOMTotalResults.java: New file.
* FOMStartIndex.java: New file.
* FOMItemsPerPage.java: New file.

[ in extensions/src/test/java/org/apache/abdera/test/ext/opensearch ]

* OpenSearchTest.java: New tests.
* TestSuite.java: New test driver.

[ in extensions/src/test/resources ]

* opensearch.xml: Test case for opensearch support.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420698 13f79535-47bb-0310-9956-ffa450edef68"
a7e02da380e3d6bbc57ecb1f5a10337b37889223,"Slightly cleaner implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420727 13f79535-47bb-0310-9956-ffa450edef68"
48b035face3b510227599cf254021406ef4fd70e,"Add a cast to keep the compiler happy.

Pointed out by: Charles Adkins <formofmind gmail.com>

[ in extensions/src/main/java/org/apache/abdera/ext/opensearch ]

* OpenSearchExtensionFactory.java
  (OpenSearchExtensionFactory.newExtensionElement): Add a cast to T.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420813 13f79535-47bb-0310-9956-ffa450edef68"
16ef5c62aa5c908014465482a21c0de3b3ca9f1c,"* README: Reformat a bit, and note the RFC for the syndication format.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420880 13f79535-47bb-0310-9956-ffa450edef68"
c9c0262be7a557424eda8619c57436724ed34b73,"* BUILDING: Don't tell people they need to run the download target, it's
  done automatically now, and add notes about the build and test targets,
  so people don't spend all their time waiting for everything in dist to
  run.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420882 13f79535-47bb-0310-9956-ffa450edef68"
d37c09dfbc55067d948fca394e532cf6cd4cb1ea,"We need a way of listing the attributes on an element, especially extension attributes

  * add Element.getAttributes() which returns a List<QName>
  * add Element.getExtensionAttributes() which returns a List<QName> minus attributes that are in the containing elements namespace

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420958 13f79535-47bb-0310-9956-ffa450edef68"
1c4448e656609ea68b0f2c18a6b170141dec01a5,"Fixing a whoopsie. I originally did not account properly for null namespaces on the element

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@420960 13f79535-47bb-0310-9956-ffa450edef68"
5f17a25d500431842612f220b920c71cb125380c,"Removing the parse(Object) options.  Custom Parser implementation can provide their own type-specific parse methods if they so desire.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421001 13f79535-47bb-0310-9956-ffa450edef68"
98d3d222ee05817646d0182ec5085576f449e6e4,"A character encoding sniffing inputstream implementation.
Later on this evening I'll plug this into the parser so that things just work correctly.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421073 13f79535-47bb-0310-9956-ffa450edef68"
aa7355f6998caf3943476d92c47fa76c9c0b0b4c,"OK, we now have better autodetection of charset encoding.
The SniffingInputStream will look first for a BOM to determine the charset.  Failing that, it will look at the XML prolog
for the charset.  The parser will use the detected charset or the one passed in via ParserOptions to initialize an
InputStreamReader used by the parser. 

To turn off charset autodetection, there is a new ParserOption.  Autodetection is on by default.

This gives us broader support for charsets, but still isn't as broad as, say, Mark Pilgrim's feedparser.

I'm sure there are ways this could be improved, but it seems to work.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421149 13f79535-47bb-0310-9956-ffa450edef68"
6da84b0a70d433dd0a034ac8766736cb7a1c0752,"Ok. it appears to be working consistently now.  I'll be checking in a number of test cases later today or tomorrow that 
test the sniffer and ensure that things continue to just work.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421317 13f79535-47bb-0310-9956-ffa450edef68"
f4887fd405356fdce4b781619b6fb20aa7211d24,"Allow a given ExtensionFactory to support multiple namespaces.

We don't currently have an ExtensionFactory that supports more than one
namespace, but it seems likely that in the future we will want to do so.

[ in core/src/main/java/org/apache/abdera/factory ]

* ExtensionFactory.java
  (ExtensionFactory.getNamespace): Rename to...
  (ExtensionFactory.getNamespaces): This.  Also, return a List<String>,
   not a String.

[ in extensions/src/main/java/org/apache/abdera/ext ]

* thread/ThreadExtensionFactory.java
  (ThreadExtensionFactory.getNamespace): Rename to...
  (ThreadExtensionFactory.getNamespaces): This.  Also build and return a
   list of namespaces.

* opensearch/OpenSearchExtensionFactory.java
  (OpenSearchExtensionFactory.getNamespace): Rename to...
  (OpenSearchExtensionFactory.getNamespaces): This.  Also build and return
   a list of namespaces.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421423 13f79535-47bb-0310-9956-ffa450edef68"
07bfe98eda6df0b9a8beaa7b01ce84c065e376e3,"As discussed on abdera-dev, remove @author tags from our javadocs.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421427 13f79535-47bb-0310-9956-ffa450edef68"
81cc11d628a18a77f3671f306e4deaf421c28888,"* build/build.xml: Fix indenting.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421434 13f79535-47bb-0310-9956-ffa450edef68"
623b08a54a12363b42547b92d0c1fa5f548c44ec,"Setting a document on the default constructors for FOMEntry, FOMFeed and FOMService

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421658 13f79535-47bb-0310-9956-ffa450edef68"
dc861222504fa9e4e27fa24fd60bd8ec663e7dbd,"Security module can now be conditionally built
set the ABDERA_XMLSECURITY environment variable to ""yes"" or ""true"" prior to running the Ant build

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421667 13f79535-47bb-0310-9956-ffa450edef68"
06df79ced339086a0e3e5e70793e7213f715e57b,"Produce javadocs for more than just the core interfaces

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421673 13f79535-47bb-0310-9956-ffa450edef68"
a9d63353c9c58fa30ff833d6eb9ec04a1c55abe9,"Make it possible to register extension factories dynamically

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421675 13f79535-47bb-0310-9956-ffa450edef68"
f6275f88fe5f66e2c0403dcc9b5e08d1a438b1e7,"Clone was broken for FOMContent.We need some clone unit tests.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421676 13f79535-47bb-0310-9956-ffa450edef68"
bc87dc1e6985ea34e5565c422ba6a81d0536f139,"Clone and Writeto improvements.  

Document.clone wasn't working completely correctly
The writeTo methods were suboptimal

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421693 13f79535-47bb-0310-9956-ffa450edef68"
40d4a7116cfae2b171f7206e619c0129bc94d511,"This is a big update. Many of the model interfaces have been simplified.  For instance, all of the model interface
methods with URI input parameters have been removed in favor of their String counterparts (e.g. instead of 
having both a Author.setUri(URI) and Author.setUri(String), it's now just Author.setUri(String).  Lots of other methods
have been removed.

This change also introduces FOMList, a java.util.List impl based on an internal iterator that is incrementally consumed 
as the list is used.  This allows us to more efficiently consume the underlying parser without sacrificing the benefits of
using java.util.List versus java.util.Iterator.

A number of other improvements and simplifications have been made to the parser implementation.  More work is likely
necessary but this is, at least, a step in the right direction.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421809 13f79535-47bb-0310-9956-ffa450edef68"
6166e4ad085caeb004ea0d725b0e72b1c54799d3,"Removing the one jar condition

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421921 13f79535-47bb-0310-9956-ffa450edef68"
c4838bcf2397f78e35ca4d3a28cbe60a907fefec,"Use a consistent FOM* naming scheme for the various utility classes

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421924 13f79535-47bb-0310-9956-ffa450edef68"
5761ef00330f24d59d2f4db18d78bcd11126012f,"RFC4287 states that all of the metadata elements in atom:feed should come before the list of atom:entry elements.  
Before this change, if I did feed.addEntry(); feed.addCategory(""foo"");, it would produce invalid atom.  Now it checks
to make sure that the category is being inserted before the list of entries.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421928 13f79535-47bb-0310-9956-ffa450edef68"
22b4d1139f060f1dcbec708c4e4d6fdd735e6d5d,"Updating the documentation that ships with the dist image.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421948 13f79535-47bb-0310-9956-ffa450edef68"
904d740fc34794bbf63f459f78b7964c773f8ad3,"Fixing up the build script so that the produced dist zips are correct
Better handling of the security conditional build
Three zips will be created, one for the jdk1.5, one for jdk1.4.2 and one for source
Updated some of the build documentation
Exclude the zips from the svn image

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421979 13f79535-47bb-0310-9956-ffa450edef68"
3ba3a77462900d50253d6300532b2927482e8726,"FOMContent was being a bit too helpful for it's own good.
Only set the content type if it's hasn't already been set.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@421996 13f79535-47bb-0310-9956-ffa450edef68"
b5a60dd947bbe93b5392c881a669b0d8c51e914e,"entry.getContent() used to throw a NPE when XML or XHTML content is empty. 
Strictly speaking, this is ok, but it's not really necessary.  Fixed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422009 13f79535-47bb-0310-9956-ffa450edef68"
b80d9477f2dc9ce4bcd94c9c4d14ac919286599d,"New parser options to tell the parser to ignore formatting whitespace, PIs, comments and Doctype declarations.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422030 13f79535-47bb-0310-9956-ffa450edef68"
7a967a3ff633b1b499e62eb44da6c0542a2e0597,"Added an Atom JSON writer and included some code from JSON.org that was made available to us via the Apache License by Douglas Crockford.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422034 13f79535-47bb-0310-9956-ffa450edef68"
0e7897fef110e1b50f439a338cd419c8d9ff1110,"Added an Atom JSON writer and included some code from JSON.org that was made available to us via the Apache License by Douglas Crockford.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422035 13f79535-47bb-0310-9956-ffa450edef68"
9174de079cacd55e4996eb3d3fb39cf5f68e441a,"Added an Atom JSON writer and included some code from JSON.org that was made available to us via the Apache License by Douglas Crockford.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422036 13f79535-47bb-0310-9956-ffa450edef68"
02da16fbb82609d428ce0c8a377545b9c2d6470c,"Clean up the javadocs for ExtensionFactory.

[ in core/src/main/java/org/apache/abdera/factory ]

* ExtensionFactory.java: Add some html markup to the javadocs...


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422045 13f79535-47bb-0310-9956-ffa450edef68"
088c29436a6c020337b7103a76caca1017cc9e84,"[ in core/src/main/java/org/apache/abdera/factory ]

* ExtensionFactory.java: Fix typo in javadocs.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422047 13f79535-47bb-0310-9956-ffa450edef68"
d7a7132458530e34736509cd6c6b300d55d822e2,"- Removed non org.apache.* code from extensions and checked it into dependencies folder.
- TODO: ask help for glue code to integrate with the build.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422051 13f79535-47bb-0310-9956-ffa450edef68"
50b7ea58bdaf1b9e7aef2e841f7dd8a0b912ed92,"Add some build glue for the new JSON dependencies.

* build/build.xml
  (dependencies.work,
   dependencies.src,
   dependencies.src.java,
   json.jar): New properties.
  (compile.dependencies): New target, builds the dependencies and jars up
   the json stuff.
  (compile.extensions): Depend on compile.dependencies.
  (clean): Remove new build artifacts.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422060 13f79535-47bb-0310-9956-ffa450edef68"
b77b9b7ea43fc804cf66e1de8078ab1cce02db54,"Clean up some more javadocs.

[ in core/src/main/java/org/apache/abdera ]

* model/IRI.java: Stop referring to this as IRIElement.

* model/Text.java: Remove an extraneous /**.

* factory/Factory.java: Wrap the <code> section in <p> tags.

* parser/Parser.java: Ditto.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422067 13f79535-47bb-0310-9956-ffa450edef68"
0e23054f76246ddd1c2de5772bd16e83f1657653,"Clean up some unneccessary code in the JSONWriter class.

* extensions/src/main/java/org/apache/abdera/ext/json/JSONWriter.java
  (JSONWriter.toJSON): Remove some redundant toString() calls.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422074 13f79535-47bb-0310-9956-ffa450edef68"
7aeded17b68074cc69c2788b7f77668fb96ec1b8,"Turn off charset autodetect by default.  It works inconsistently with different StAX implementations.
e.g, it works with the Woodstox parser, but not the reference impl.  
We need to explore how to make this Just Work

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422080 13f79535-47bb-0310-9956-ffa450edef68"
248e8d01d66253cdddd82de57cdec459b5faf048,"The internal document reference wasn't right, which was stopping DTD, comments and PI's at the document level to be dropped.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422082 13f79535-47bb-0310-9956-ffa450edef68"
ba1b966bd3cb50596e19a62ac8f32a25205a97c9,"Clean up a private method in FOMParser.

* parser/src/main/java/org/apache/abdera/parser/stax/FOMParser.java
  (FOMParser.getDocument): Drop options argument, it's not used.
  (FOMParser.parse): Update call to getDocument.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422084 13f79535-47bb-0310-9956-ffa450edef68"
5f26c11b6b56940cb14d62cc030dbce34f81429b,"* dependencies: Add work subdirectory to svn:ignore.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422090 13f79535-47bb-0310-9956-ffa450edef68"
df3215dee7f55080f4e30e3183d7483c82735999,"Add IDEA projects/workspaces to svn:ignore


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422091 13f79535-47bb-0310-9956-ffa450edef68"
4e23ee64922d3a5b29993248a4b206e48a67a9b3,"Clean up Content interface.

[ in core/src/main/java/org/apache/abdera/model ]

* Content.java
  (Content.Type): Drop extraneous semicolon.
  (Content.setDataHandler): Remove incorrect @throws javadoc.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422113 13f79535-47bb-0310-9956-ffa450edef68"
6f535d3ca6d00dbbe7ad71db3f7c1e683d692725,"Clean up AbderaSource a bit.

[ in core/src/main/java/org/apache/abdera/util ]

* AbderaSource.java
  (AbderaSource.getInputStream): Move the 'return null' into the catch
   block so that tools that warn about empty catch blocks are satisfied.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422115 13f79535-47bb-0310-9956-ffa450edef68"
bd10120aae94a821c0d503ee28e9039a69eda809,"Clean up the FOMFactory implementation a bit.

[ in parser/src/main/java/org/apache/abdera/parser/stax ]

* FOMFactory.java
  Import some more specific exceptions.
  (FOMFactory.newDocument): Add an @SuppressWarnings(""unchecked"").
  (FOMFactory.newContent,
   FOMFactory.newDefaultGenerator): Catch a more specific exception, and
   add a comment to indicate that the exception case can't actually happen.
  (FOMFactory.newCategory, FOMFactory.newContent,
   FOMFactory.newContent, FOMFactory.newID,
   FOMFactory.newLink, FOMFactory.newSource,
   FOMFactory.newText, FOMFactory.newElement,
   FOMFactory.newControl, FOMFactory.newPublished,
   FOMFactory.newUpdated, FOMFactory.newIcon,
   FOMFactory.newLogo, FOMFactory.newUri,
   FOMFactory.newAuthor, FOMFactory.newContributor,
   FOMFactory.newTitle, FOMFactory.newSubtitle,
   FOMFactory.newSummary, FOMFactory.newRights,
   FOMFactory.newName, FOMFactory.newEmail): Stop casting null to something
   else, it's not necessary to call the correct method in these cases.
  (FOMFactory.newExtensionElement,
   FOMFactory._newInstance): Remove an unnecessary cast.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422121 13f79535-47bb-0310-9956-ffa450edef68"
0965240acd19e3f27b1db49e59efcf10281c4382,"Clean up the Entry interface a bit.

* core/src/main/java/org/apache/abdera/model/Entry.java
  (Entry.setContent): Drop extraneous semicolons.
  (Entry.addAuthor): Remove bogus @thows.
  (Entry.addContributor): Ditto, plus fix actual javadoc content.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422123 13f79535-47bb-0310-9956-ffa450edef68"
1f6d68b9025f478777fc9a18fda9e2c505520a0e,"Tweak formatting in AbderaServlet.

[ in server/src/main/java/org/apache/abdera/server/servlet ]

* AbderaServlet.java
  (AbderaServlet.doOutput): Make the 'space-before-paren' policy consistent
   throughout this method.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422132 13f79535-47bb-0310-9956-ffa450edef68"
1d261a114dc298741b96da02d772b6f0e702e6f6,"* build/build.xml
  (docs): Use some brute force to remove the annoying timestamps from
   generated javadoc output, so the web site doesn't change quite so
   much when we update the javadocs.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422134 13f79535-47bb-0310-9956-ffa450edef68"
70027c314190f227e6043b23e9a73d10f91d5a35,"* build/build.xml
  (docs): Oops, fix regexp.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422135 13f79535-47bb-0310-9956-ffa450edef68"
e4c3cb240e7adb8d9a029edeadcb748702d8b5a9,"- Added Apache License to JSONWriter class.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422137 13f79535-47bb-0310-9956-ffa450edef68"
981a23a84a4d3e044036c74e238da63e5f06e215,"- Removed enum that constrained us to use only HTTP 1.1 method names.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422141 13f79535-47bb-0310-9956-ffa450edef68"
ed7ca3b6b32ac900eb06077d7ed87fdb6877cb38,"Changing from a BufferedInputStream to a PushbackInputStream allows the sniffer to work
with the StAX reference implementation (and likely others).  To make things a bit easier,
I'm using a PeekAheadInputStream impl that, while incuring a minor additional performance cost,
allows the PushbackInputStream to have a dynamically sized internal buffer that is deallocated
as soon as it is consumed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422148 13f79535-47bb-0310-9956-ffa450edef68"
91df089fa5123ba7b27d29c601dd19c90b7092f8,"Exclude dependencies jars from source zip image

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422155 13f79535-47bb-0310-9956-ffa450edef68"
14ecb87d28e3f1889ebc46db17dadc98a279280b,"Add bin dir to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422259 13f79535-47bb-0310-9956-ffa450edef68"
4d6fd1cf8993568e22b4920bf2a4071c19fc5e85,"More wierdness with the PushbackInputStream.  If we don't call available() within read(byte[],int,int), the amount of bytes
read off some streams may be incorrect, which leads to an incorrect pushback, breaking the xml parse.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422263 13f79535-47bb-0310-9956-ffa450edef68"
a9c748ccc0179d51e8fa06526ec1229793d091cb,"Let the JSONWriter support writing out Document instances

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422264 13f79535-47bb-0310-9956-ffa450edef68"
e9295dd4fe1eda22f832acf42427fa796ddee27e,"From Stephen Duncan...

Changed dependency groupId from ""wstx"" to ""woodstox""

* pom.xml - Fixed groupId in dependencyManagement.
* parser/pom.xml - Fixed groupId in dependencies.
* extensions/pom.xml - Fixed groupId in dependencies. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422269 13f79535-47bb-0310-9956-ffa450edef68"
1c6bd6b304b368b7a5826d7117a7e0fa9b217595,"Remove the alternatives stuff from the Factory
While we're at it, improve the way dynamic extensions are registered

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422773 13f79535-47bb-0310-9956-ffa450edef68"
d5cb00ceb3292b76533193d94e8aa4a20f4e0215,"Different stax impls produce different test results
For instance, with the woodstox parser, FOMDiv.getValue() would return something like ""&lt;title>"" while the stax reference
implementation returns ""&lt;title&gt;"".  They are semantically equivalent, but the fact that different parsers act differently
can and will cause some definite issues down the line, especially when we try to use the XML digital signature support. 
Someone (most likely me but I won't complain if someone else steps up) needs to go through and do a comprehensive comparison
of Stax implementations to see what works and what doesn't, what the differences are, etc.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422775 13f79535-47bb-0310-9956-ffa450edef68"
6c80641e19d4ba4c9d1cbb2d2316fea411c6d47e,"Moving json into it's own directory in the dependencies module (as suggested by Stephen)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422811 13f79535-47bb-0310-9956-ffa450edef68"
18144fab5a21b9dbd88c0e88bd025d1af6e825bd,"Subsclipe screwed up on moving the classes.  

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422816 13f79535-47bb-0310-9956-ffa450edef68"
839714084988583a0ae3a452e4032a78e8349ea6,"Removing one level of indirection in the parse input stream option

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422830 13f79535-47bb-0310-9956-ffa450edef68"
e392fbc6ac86a0457ba388ed10b69d1ee4e93ddc,"Axiom provides some caching of XMLInputFactory objects we want to take advantage of

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422847 13f79535-47bb-0310-9956-ffa450edef68"
d86c91509ad391d720048300de13d0b68194ae44,"It's a mystery to me why enum does not automatically expose the ordinal value for it's members

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422926 13f79535-47bb-0310-9956-ffa450edef68"
54d25560ff53502df9c052239d1d737f7b8f9594,"- Fixed NPE bug in category

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422930 13f79535-47bb-0310-9956-ffa450edef68"
f1b7908f2f2acab5f3441c97040c5e0267b112e3,"Back out the enum constants.... although, it may prove useful to put these back in if it would make life easier for
folks running jdk1.4.2.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422954 13f79535-47bb-0310-9956-ffa450edef68"
e624f1b2578d466d3fbb017171f9efb74b660a43,"- Removed debug-time e.printStackTrace() call.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@422955 13f79535-47bb-0310-9956-ffa450edef68"
97024adf574d61b3162bd4da256dbc12c0e509c1,"From Stephen Duncan...

Fixed build to provide JSON as a dependency for the Extensions module
to build.  Also added a 1.0 version to the Ant build to match the
Maven build.

* pom.xml: Added JSON as a module to be built.
* build/build.xml: Added JSON version property and added it to JSON jar name.
* extensions/pom.xml: Added JSON dependcncy.
* dependencies/json: Added svn:ignore properties for Eclipse and Maven files.
* dependencies/json/pom.xml: Added POM for Maven build of JSON. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@423136 13f79535-47bb-0310-9956-ffa450edef68"
92e536bcda3736d18bdd8a039cccfcca142d5c4a,"Make sure the source zip doesn't include retroweaver or other build time tools

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@423153 13f79535-47bb-0310-9956-ffa450edef68"
57ea74817e580822b395b9e178122a60b920169b,"Sets up a Cache interface for server side caching.  This will be used by
an abstract CachingRequestHandler impl that I'm working on.  This is a 
work in progress.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@423309 13f79535-47bb-0310-9956-ffa450edef68"
e4614233cab3e0a109018ec4852ab34437138ca0,"Google's gdata api supports the notion of tunnelling PUT and DELETE requests via POST using
a X-Method-Override request header in order to deal with scenarios in which PUT and DELETE 
are being blocked at the firewall.  

This change moves support for the X-Method-Override header into the ServletRequestContext 
implementation so that implementations can optionally use the mechanism.  

This is a work in progress.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@423311 13f79535-47bb-0310-9956-ffa450edef68"
4a0462510ef1fc3e182696e9134c120bc336b780,"Enable X-Method-Override by default.  Not sure if we should enable this by default, but for now, it doesn't hurt.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@423313 13f79535-47bb-0310-9956-ffa450edef68"
020015f7b5897d0e9db458cea463d1a7ed37d40d,"Removing tabs. Tabs suck. Don't use tabs.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@423361 13f79535-47bb-0310-9956-ffa450edef68"
ae62f34bb1fe097a86b4a692d666841c63241b6f,"Building friendly zips

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@423987 13f79535-47bb-0310-9956-ffa450edef68"
e6887117afbe6cd33b0895f805e88c011c03cc22,"The json version fix hadn't been applied to the trunk.
Sync'ing with the 0.1.0 branch

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@423993 13f79535-47bb-0310-9956-ffa450edef68"
35aff432f3f7bd9f9bb79b6e41dc8fa6cd8869c4,"When calling entry.getContent() for the Atom tests at [1], the serialized XHTML content incorrectly 
omitted the xlink namespace declaration.  Now it works.  I'll be adding these tests into our test 
suite in the next day or so.

[1] http://feedparser.cvs.sourceforge.net/feedparser/feedparser/tests/wellformed/namespace/

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@424509 13f79535-47bb-0310-9956-ffa450edef68"
8046b440068d3f70f684d22389ce9e30e95d04b6,"changed my mind, post tunneling doesn't belong here

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@425267 13f79535-47bb-0310-9956-ffa450edef68"
f2d32b47e3dedc4dd7e345b1ae3e27fa119f78de,"Adding the Retroweaver license to the legal folder

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@425452 13f79535-47bb-0310-9956-ffa450edef68"
45a6a55113c4f93558fde25d6876dc331edbac40,"* security/src/test/java/Placeholder: Removed, this is Subversion, we
  don't need placeholder files to have a directory in the repository.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@426985 13f79535-47bb-0310-9956-ffa450edef68"
2e5ae0181d1d3008c6b0408d52c24f1299d01d4c,"Add Apache License blocks to a number of files that didn't have it.

This doesn't include any test data or the properties files used at
runtime, since I'm not yet sure if it makes sense to have them there.

Pointed out by: Robert Burrell Donkin <robertburrelldonkin gmail.com>

* build/build.xml
* extensions/src/main/java/org/apache/abdera/ext/thread/impl/FOMTotal.java
* extensions/src/main/java/org/apache/abdera/ext/thread/Total.java
* extensions/pom.xml
* dependencies/json/pom.xml
* server/src/main/java/org/apache/abdera/server/exceptions/NotFoundException.java
* server/pom.xml
* security/pom.xml
* core/src/main/java/org/apache/abdera/writer/NamedWriter.java
* core/pom.xml
* docs/building.html
* docs/index.html
* docs/gettingstarted.html
* pom.xml
* parser/pom.xml
* examples/pom.xml
  Add license blocks to files we created.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@426988 13f79535-47bb-0310-9956-ffa450edef68"
257b8f2862d6982c463771e4e3f571f11d5a3117,"Make the various zip files unpack to different directory names.

* build/build.xml
  (zip): Use different directory names for the jdk142 and src zips.  Also
   fix some indenting while I'm in the area.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@426989 13f79535-47bb-0310-9956-ffa450edef68"
bae0f9f3cf3ee7ed93d09e51dfe4f5fa66784776,"* BUILDING: Note that we require maven 2.x.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@426990 13f79535-47bb-0310-9956-ffa450edef68"
997cedc29246f5c66e2b34097cd8a1d9beaf18f3,"Adding license/notice files to the built jars as suggested by Robert Burrell Donkin...

  * there are no license or notice files in the jars distributed in the
    binary. though this is not necessarily a blocking issue, these
    artifacts cannot be distributed as raw jars without them. therefore
    these jars cannot be distributed through maven. if you want to do
    this, you must include LICENSE and NOTICE files in the jars.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@427176 13f79535-47bb-0310-9956-ffa450edef68"
08a399072d385c2cf795daee2c1b72a3a6a1e3fd,"Creating a better MANIFEST.MF file.  Probably need to check on what Maven does.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@427181 13f79535-47bb-0310-9956-ffa450edef68"
fc8a58e1be65c859ae6b50a0fddc513cfaaa34de,"Remove unnecessary console output

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@427185 13f79535-47bb-0310-9956-ffa450edef68"
30436ff6b65ce874c408a83ce526f68535ddaa7a,"Remove unnecessary complexity from the getFomFactory method

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@427186 13f79535-47bb-0310-9956-ffa450edef68"
d565326db7483b16c4759e824776ba832afc19db,"Synchronizing access to the stream.  

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@428055 13f79535-47bb-0310-9956-ffa450edef68"
ebe1bd5046536eaf55f7bef9ba601c7c4f14681d,"Move the extensions test suite from org.apache.abdera.test.ext.opensearch
to org.apache.abdera.test.ext, since sooner or later we will have tests
that don't live in the opensearch package.

[ in extensions/src/test/java/org/apache/abdera/test/ext ]

* opensearch/TestSuite.java: Rename to...

* TestSuite.java: This, and tweak package name to match.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@428173 13f79535-47bb-0310-9956-ffa450edef68"
e3e391b926557a6a1cfc01460ddca98ab12afadf,"Oops, should have committed this along with the class renaming.

* build/build.xml
  (test): Update name of the extensions test suite class.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@428174 13f79535-47bb-0310-9956-ffa450edef68"
90bb3bcc81742c0d80648e77c67934ea5c60b8ac,"This still needs LOTS of work to complete.  The client itself is rather straightforward and complete, conditional gets, 
cache-control, gzip/compress/zip compression is supported and enabled by default, extension HTTP methods (e.g. COPY) 
can be used with nominal effort..

The part that really needs the most work is the client side HTTP cache.  It's generally functional but still needs lots of 
refinements, testing, tweaking... and a generally-better-all-the-way-around implementation.  The goal is to provide a functionally
complete client-side private cache that supports most of the nuances of HTTP caching (e.g. Vary headers, max-stale, min-fresh, 
no-cache and private headers, and so on).  Use of the cache can be controlled via the RequestOptions interface 
(e.g. options.setNoCache(true) to disable the use of the cache via the Cache-Control header).

I had imagined ultimately shipping three cache implementations with this.  An in-memory LRU cache, A write-to-disk cache, and a
JCS-backed cache implementation.  Other impls are possible (e.g. derby-based, etc).

The client code currently depends 100% on the Apache Commons HTTP Client. Changing the http stack would require fairly significant
changes to this code.  


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@428793 13f79535-47bb-0310-9956-ffa450edef68"
e163248551b9ec946a10698fa2cd3f8a81720c3a,"Adding the client module to the ant build

Now Garrett can do his ""svn up && ant -f build/build.xml"" :-)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@428825 13f79535-47bb-0310-9956-ffa450edef68"
d95d4fea093935f407043c81cb2ba4fbb08d5287,"Adding addProcessingInstruction, addStylesheet and addComment methods.

Document<Feed> doc = Factory.INSTANCE.newDocument();
doc.addStylesheet(""/foo.xslt"", ""screen"");
doc.addProcessingInstruction(""foo"", ""bar);
doc.addComment(""foo"");


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429215 13f79535-47bb-0310-9956-ffa450edef68"
444e929a96ce33dd660fd9a0c14c694870fcd35e,"Clean up some nits that IDEA was complaining about in the client caching
code.

[ in client/src/main/java/org/apache/abdera/protocol/cache ]

* CachedResponseBase.java: Remove an extraneous semicolon.

* lru/LRUCache.java
  Import java.util.Map, not java.util.Map.Entry.
  (LRUCache): Refer to Map.Entry instead of just Entry, since LinkedHashMap's
   Entry class is protected and IDEA gets confused about which one you're
   talking about.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429220 13f79535-47bb-0310-9956-ffa450edef68"
f932abef42a03d1f3d0d01f17bfca1bc9a9b2cce,"Ignoring eclipse project files

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429384 13f79535-47bb-0310-9956-ffa450edef68"
ee7c6b6baa467b8c91137fcc3185720e720da492,"Fixing up the in-memory buffer.  I had originally been experimenting with a buffer that would be incrementally filled as 
the original request consumed the stream.  Unfortunately, this doesn't work because of the way the Stax parser incrementally
consumes the stream.  If a second request against the cache was executed before the first request completely processing, the
second would either block until the first completed or would end up overrunning the cached buffer.  Not good.  So, for now, 
we'll consume and buffer the stream immediately upon creating the in-memory cached response, and from that point on simply serve
out ByteArrayInputStreams.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429386 13f79535-47bb-0310-9956-ffa450edef68"
472d88b14f1d255056c42cefe1fad242629af24e,"Had a bit of a brain fart on the bitwise operators

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429409 13f79535-47bb-0310-9956-ffa450edef68"
6c989d6f90037e953ed78c150ab243033375179a,"Honor no-cache and no-store cache-controls on the request
Also, get rid of the log4j warning


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429411 13f79535-47bb-0310-9956-ffa450edef68"
ce04358b644cb4ccc67f837ad7126e233a81de92,"First couple of unit tests for the caching.  There will be more.  For now, these are based on Mark Nottinghams
set of caching tests, but we'll need to set up our own test endpoint (hopefully soon).  

no-cache, no-store and max-age are tested.

Also, we need to check to see if the cache can store responses when the request is no-store.  

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429422 13f79535-47bb-0310-9956-ffa450edef68"
fbe986240218739d1870b6ac90286cec81791981,"Add an option for disabling the local cache independently of the Cache-Control header

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429427 13f79535-47bb-0310-9956-ffa450edef68"
574d38850cc5702d7fd98b2e18245a8d67b13fc4,"Only use the local cache for methods that do not lead to a change in server state (specifically, GET, HEAD and OPTIONS).

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429436 13f79535-47bb-0310-9956-ffa450edef68"
bc7fc0401a88e6148594303d23c15ad0cf08b52b,"Filter out hop-by-hop headers from the cached response

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429437 13f79535-47bb-0310-9956-ffa450edef68"
8afaba5278163fde3269b2081a7154b953759eba,"Bubble authentication up to the surface of the Client interface.  This puts a direct dependency on HttpClient in the interface
for setting auth credentials, registering alternative auth schemes, and declaring the auth priority preferences.  There's not 
much we can do about it unless we create an abstraction over the HttpClient AuthScheme and Credentials interfaces... 
which would be silly.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429443 13f79535-47bb-0310-9956-ffa450edef68"
ff8dc33ecb7db20643cf1283462e39f3f167f4ba,"Just moving a couple of things around so that the arrangement is a bit more logical

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429445 13f79535-47bb-0310-9956-ffa450edef68"
1a7691009e2a108fcb3539212631dde70e598caa,"I'm either going to stop making silly stupid little mistakes today or I'm going to take the rest of the day off.
Fixing an oops on the in-memory buffer

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429447 13f79535-47bb-0310-9956-ffa450edef68"
6dea94224e226b1fe75140496a5dcc96f82d2a26,"It's a bit inefficient, but let's clear an entry from the cache for every non-idempotent method.  There's a better way to do this,
but for now, this works.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429453 13f79535-47bb-0310-9956-ffa450edef68"
24345ad18ee1da2e592c5dd4453c88f9d5057313,"Fix a NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429454 13f79535-47bb-0310-9956-ffa450edef68"
2856c54d318b0edd1ed81da9062659feb3a26541,"Fix an NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429471 13f79535-47bb-0310-9956-ffa450edef68"
d07c3eb48d8bcf2dac3e8767426ef091d88c0972,"A minimal safe content white list parse filter for use with XHTML content.
We'll still need to provide a filter for HTML content.  This is based on the 
safe markup subset used by the Universal Feed Parser.

To use:

  InputStream in = ...
  URI uri = ...
  ParserOptions options = ...
  options.setParseFilter(new SafeContentWhiteListParseFilter());
  Parser.INSTANCE.parse(in, uri, options);

Will add in the safe MathML and SVG subsets used by Universal Feed Parser later

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429473 13f79535-47bb-0310-9956-ffa450edef68"
04307d675bab238e5066481d07319a24861a4b77,"Better handling of qnames on element creation

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429482 13f79535-47bb-0310-9956-ffa450edef68"
93320a00d1452b2c50a306df6313878ec28ecd5c,"Don't crash if the server doesn't send back a Date header.

[ in client/src/main/java/org/apache/abdera/protocol/cache ]

* CachedResponseBase.java
  (getCachedTime): Don't dereference a null pointer if there's no Date
   header in the response.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429514 13f79535-47bb-0310-9956-ffa450edef68"
9c6941c91fe6cf7e125cfee73b7fe1b1015dc6ca,"Revert r429514, and fix it in a more http-spec friendly way.

Suggested by: jmsnell

[ in client/src/main/java/org/apache/abdera/protocol ]

* cache/CachedResponseBase.java
  (getCachedTime): Revert previous change.

* client/ResponseBase.java
  (now): New member, initialized to creation time for the response.
  (getServerDate): Default to creation time for the response if the
   server didn't send us a Date header.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429521 13f79535-47bb-0310-9956-ffa450edef68"
da4024891689ca43ef5b2ac687c7b8a20c6e6f16,"Don't delete the working directory for the dependencies.  There's no
reason we should keep rebuilding the json code every time the build is
run.

* build/build.xml: Don't delete ${dependencies.work}.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429532 13f79535-47bb-0310-9956-ffa450edef68"
e218b1e0370c886302136658e28f73a0f2dfbb01,"A number of general implementation clean ups to make it easier to manage.
Also, base the decision on what responses to cache based on the status code 
(per RFC2616 13.4) and cache-control headers.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429538 13f79535-47bb-0310-9956-ffa450edef68"
9ee595e061680d23df47d6b78fa83e0fb3e7536a,"A simple compound parse filter. Allows us to apply multiple parse filters at 
once in a parse.  Various conditions are allowed (e.g. ACCEPTABLE_TO_ALL,
ACCEPTABLE_TO_ANY, UNACCEPTABLE_TO_ALL, UNACCEPTABLE_TO_ANY).

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429559 13f79535-47bb-0310-9956-ffa450edef68"
cdc2c629ba15ba5ffeaec8e6e57ca3605c33e00e,"Moving BaseRequestEntity to protocol.util

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429564 13f79535-47bb-0310-9956-ffa450edef68"
42017edb45b4d99a92833ae6b4b2652d3719447c,"Adding methods to client so we can get a parsed Document instance from the Response

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429577 13f79535-47bb-0310-9956-ffa450edef68"
456d713b25a8b46c0bb214ef4d7fb4f31ef3a24f,"Add a Parser.setDefaultParserOptions(...)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429578 13f79535-47bb-0310-9956-ffa450edef68"
d8fca71ccde728cf8e2cef728239c1caa8720520,"Some use case optimizatations...

useful constructors that allow us to optimize for common usage patterns... 

examples: 

// no-cache request
client.get(""foo"", new RequestOptions(true));

// if-modified since
client.get(""foo"", new RequestOptions(new Date()));

// if-none-match
client.get(""foo"", new RequestOptions(""entity-tag""));



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429583 13f79535-47bb-0310-9956-ffa450edef68"
d51e24f380bf0c347d325cfb5de10c573b3afed3,"From Ugo Cei...

  * add setContent(URI uri, String mediaType) to Entry
  * impl setContent(URI uri, String mediaType) in FOMEntry
  * add example of setContent(URI uri, String mediaType) to the simple example

Thanks Ugo!

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429786 13f79535-47bb-0310-9956-ffa450edef68"
0640dc58f9ca77b340852af764d018f455dc4ab1,"Use the default namespace for Atom, XHTML, APP and Pub control namespaces 
(e.g. instead of <atom:feed xmlns:atom=""...""/> it's <feed xmlns=""...""/>

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429805 13f79535-47bb-0310-9956-ffa450edef68"
5931ad4536701861255594a1025e939f9303edb8,"Utility method for generating UUID urn's for use with atom:id. 

e.g.entry.setId(FOMHelper.generateUuid());

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429835 13f79535-47bb-0310-9956-ffa450edef68"
afe5a8e8728dc44966f7e50f97cb3ea78133ebda,"Fix tests by making the FOMParser hand out copies of its default
ParserOptions, not a reference to the underlying default options.

Also, while I'm here make FOMParser's handling of its options
thread safe.

* parser/src/main/java/org/apache/abdera/parser/stax/FOMParser.java
  (options): Note how to correctly synchronize access to this field.
  (getDefaultParserOptions): Make synchronized, return a clone of the
   options.
  (setDefaultParserOptions): Make synchronized.

* core/src/main/java/org/apache/abdera/filter/ParseFilter.java
  Implement Cloneable.
  (clone): Implement so we can make this public.

* core/src/main/java/org/apache/abdera/filter/TextFilter.java
  Implement Cloneable.
  (clone): Implement so we can make this public.

* core/src/main/java/org/apache/abdera/parser/ParserOptions.java
  (clone): Add to interface so implementations are required to implement
   it.

* core/src/main/java/org/apache/abdera/util/AbstractParserOptions.java
  Implement Cloneable.
  (clone): Implement, so that we can provide deep copies of the filters.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429840 13f79535-47bb-0310-9956-ffa450edef68"
96dd7348b1aa466a492a6a0efaa05f012e2f26b7,"Bug: wasn't setting the URI for post, put and extension methods

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429841 13f79535-47bb-0310-9956-ffa450edef68"
8b0518babcad40cb2e90d8a724beab369ea6b4b1,"Tweak the behavior of get/set DefaultParserOptions for sanity and thread
safety.

* parser/src/main/java/org/apache/abdera/parser/stax/FOMParser.java
  (getDefaultParserOptions): Note why we're cloning the options, and
   if we get a CloneNotSupportedException just throw a RuntimeException,
   since that's really a bogus ParserOptions impl, and we shouldn't let
   it silently continue to suck.
  (setDefaultParserOptions): Make a defensive copy of the options, so
   that we remain thread safe even if the calling thread later messes
   with it.  Comment about why, and add the same exception handling we
   use in the previous method for the same reasons.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429850 13f79535-47bb-0310-9956-ffa450edef68"
a0463848875b3931b539cb202f54b1167455f889,"Make the new cache tests use an embedded Jetty server instead of hitting
Mark Nottingham's web site.  This defaults to port 8080, but that can be
overridden via a property.

* build/build.xml: Add the new Jetty stuff, and build the client tests.

* dependencies/deps.properties: Add Jetty jars/urls.

* client/src/test/java/org/apache/abdera/test/client/cache/CacheTests.java
  Import a bunch of Jetty and Servlet classes.
  Update javadoc.
  (PORT_PROP, PORT): New fields.
  (CHECK_CACHE_INVALIDATE): Remove initial setting.
  (static): Initialize PORT and CHECK_CACHE_INVALIDATE.
  (setUp): Lazily set up our Jetty server.
  (Servlet): A trivial little servlet that handles our server side work.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429853 13f79535-47bb-0310-9956-ffa450edef68"
f17c47fb99e56d966b40d632ebd30b48e2bbf1ff,"Bug: using the default namespace interferes with the namespace mappings in the XPath,
change AbstractXPath to not use default namespaces

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429864 13f79535-47bb-0310-9956-ffa450edef68"
ac299063ea194615bd4adc6e6e4b8d25be15fdc4,"Add the client tests to the ""test"" target in our ant build.  This is a
pretty ugly hack, so if someone more adept with JUnit has a better way to
shut Jetty down when it's done it'd be great.  This is also slower than
I'd like it to be, mainly because Jetty appears to have this irritating
""hey, lets sleep for a while while the threads stop"" behavior that isn't
avoidable as far as I can tell.  Alternate solutions ot this problem are
also welcome ;-)

* build/build.xml: Add the client test suite to the tests.

* client/src/test/java/org/apache/abdera/test/client/TestSuite.java: New file.

* client/src/test/java/org/apache/abdera/test/client/cache/CacheTests.java
  (NUM_TESTS, testsRun): New static fields.
  (static): Put server initialization here.
  (setUp): Removed.
  (tearDown): If we're the last test run, shut down the server so we don't
   hang at shutdown.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429892 13f79535-47bb-0310-9956-ffa450edef68"
36bb4802844b1ae97300a172662add802d9e2fca,"Make an attempt to get the client module building with maven.

It's quite possible that this is all totally wrong ;-)

* pom.xml: Add client module.

* client/pom.xml: New pom for the client module.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429915 13f79535-47bb-0310-9956-ffa450edef68"
9f821909f06cfce91d74a1b7d0152daf935c2fac,"Update svn:ignore properties to ignore stuff generated by maven driven
IDEA builds.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429916 13f79535-47bb-0310-9956-ffa450edef68"
544978cf5f5bcf8f8ab8f07abfde874284e94f26,"Rename CacheTests.java to CacheTest.java to make the maven build happy.

[ in client/src/test/java/org/apache/abdera/test/client/cache ]

* CacheTests.java: Rename to...

* CacheTest.java: This.  Also adjust internals where needed.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@429934 13f79535-47bb-0310-9956-ffa450edef68"
fc047f90e8ce37ee0992ec787331d62c22d70bb2,"Oops, fix build...

* client/src/test/java/org/apache/abdera/test/client/TestSuite.java
  (TestSuite): Chase rename of CacheTests to CacheTest.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@430204 13f79535-47bb-0310-9956-ffa450edef68"
db38f0339f1146d7b025f255c6432e7618e177bb,"Add some javadocs to the client code.

* client/src/main/java/org/apache/abdera/protocol/client/Client.java
  (Client,
   getDefaultRequestOptions,
   addCredentials,
   setAuthenticationSchemePriority,
   execute,
   registerScheme): Document, at least a little.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@430207 13f79535-47bb-0310-9956-ffa450edef68"
5e167f24138fea4bbc1495f1c61d60bf5797b05f,"If authentication is used, add a requestoptions to force the cache to revalidate
Add test checking to make sure the requestoption works
Add tests for checking response no-cache, no-store and maxage=0

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431393 13f79535-47bb-0310-9956-ffa450edef68"
4d7ac23d841a32eb61f55fe2e74d38a090524c1d,"remove extra debugging code

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431402 13f79535-47bb-0310-9956-ffa450edef68"
5b1bdf7067762cb7daead2795d993113bd2c4448,"Use variable arguments syntax (e.g. String... accept) instead of array syntax.  
simplifies programming api for java5 impls. jdk142 impls are unaffected.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431411 13f79535-47bb-0310-9956-ffa450edef68"
118d91fe8fe3c5e48e67aea3be4936ff03ae22ca,"Create a JettyTest base class that handles the Jetty setup and tear down
Create an APP client test that exercises the basic functions of the Atom Publishing Protocol

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431443 13f79535-47bb-0310-9956-ffa450edef68"
d6407c450fd866fb6ba779b2863474346c11f13e,"The Cache-control header wasn't being properly carried over to the cached response

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431447 13f79535-47bb-0310-9956-ffa450edef68"
e0de76eda08909913f2feeeed01b833a041151e8,"check for null input to parseCacheControl(String,ResponseBase)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431448 13f79535-47bb-0310-9956-ffa450edef68"
c0d21cbe61fac93507d93c48d93e22ce81c78ea5,"Add test to ensure that the must-revalidate directive is properly handled

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431449 13f79535-47bb-0310-9956-ffa450edef68"
bc41d2dcdb36b623dde191acd808e2642f831109,"A global Jetty instance. This isn't all that great, but it works.  

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431707 13f79535-47bb-0310-9956-ffa450edef68"
44711090c6d17df13060da6283b9d8ed5d5a7d43,"Ignore *.md5 files in the trunk

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431742 13f79535-47bb-0310-9956-ffa450edef68"
091509f9a709a56bc96c691cf63418db1a9df2e3,"Rather than add the feedvalidator tests to our SVN, let's just go out and check them 
out during the build (if they're not already checked out) and run those tests locally.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431748 13f79535-47bb-0310-9956-ffa450edef68"
0fbb6309b7d003ad1f1cccd37fc6dc743d5dcae4,"Add a method for returning an appropriate java.util.Locale based on the value of xml:base

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431757 13f79535-47bb-0310-9956-ffa450edef68"
17eb22dbf402943a4c96362d20a46bf529e784e3,"Fill in more of the feed validator test case implementations

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431758 13f79535-47bb-0310-9956-ffa450edef68"
2cd826a1bdb812063ca89598422c09d2a291c4ca,"Removing unused import

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431760 13f79535-47bb-0310-9956-ffa450edef68"
3963eddf4e93887e7b1d1fc9e07428b3a06204b9,"have the getLogo and getIcon methods return the fully qualified url

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431790 13f79535-47bb-0310-9956-ffa450edef68"
901ca9d5e024f257692ab2801dd7a0638b560f9c,"More feed validator test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@431801 13f79535-47bb-0310-9956-ffa450edef68"
6fee28098de61ae1b350eb03f7575f4e91d548cf,"Fix a NPE that occurs when text type == XHTML and no div is present

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432030 13f79535-47bb-0310-9956-ffa450edef68"
97b65440c375cee01cf900ad46c1b697625712fd,"Filling in the rest of the feed validator tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432033 13f79535-47bb-0310-9956-ffa450edef68"
29aac2ea35ee9db87c13f65fa83e057a814ca6d4,"Add getEditMediaLink() to Entry and FOMEntry to support APP media link entries
Add get*LinkResolvedHref() methods to Entry and Feed as a shortcut

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432043 13f79535-47bb-0310-9956-ffa450edef68"
960d971645ef744ea63e6d38d8280e1af5ac753a,"Add a getContentSrc() attribute to Entry to support easier access to the content/@src attribute

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432046 13f79535-47bb-0310-9956-ffa450edef68"
ca9fe63344476cb56ca1ea04bc6d88124eb0bf38,"Fixing an NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432657 13f79535-47bb-0310-9956-ffa450edef68"
938aee0206f978396fab5b8d2cfa6323b596a861,"Tell the commons client not to do its own authentication when the 
user sets the authorization header explicitly

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432718 13f79535-47bb-0310-9956-ffa450edef68"
46180b29e61ed576586b3447c0a1e0dea4007363,"Add a way of sorting entries by atom:updated value as suggested by Danny Ayers

Add new sortEntriesByUpdated() and sortEntries() methods.  

Lists of entries provided by Feed are not sortable using Collections.sort() because of the 
underlying iterator implementation of FOMList and Axiom.  So this gives us essentially the 
same thing but implemented in a way that does work for Axiom.

I wouldn't recommend trying to sort really large collections of entries, however.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432762 13f79535-47bb-0310-9956-ffa450edef68"
1d0206573bff5dcdaa0837a6fe78bf359659a221,"Adding Feed.getEntry(String id) as suggested by Danny Ayers.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432767 13f79535-47bb-0310-9956-ffa450edef68"
c41ac7331b11b982790fcbe59758d61faa1fe35a,"- Fixed bug which had atom:content type attribute values uppercased
- Added quote() call in entry.content.value
- Removed redundant code and turned it into functions.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432780 13f79535-47bb-0310-9956-ffa450edef68"
65da17397a8ca6d8e7641891112d3b4e3f4a7f84,"Let FindBugs have its way with FOMEntry.

* parser/src/main/java/org/apache/abdera/parser/stax/FOMEntry.java
  (setContent): Remove useless conditional, we were doing the same thing
   in both cases anyway.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432838 13f79535-47bb-0310-9956-ffa450edef68"
d520c257fcc1bd334816aee6adb2a11af424c2b0,"More fun with FindBugs.

* parser/src/main/java/org/apache/abdera/parser/stax/FOMXPath.java
  (getXPath): Use Map.entrySet() when we need both the keys and values.

* server/src/main/java/org/apache/abdera/server/servlet/AbderaServlet.java
  (doOutput): Ditto.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432839 13f79535-47bb-0310-9956-ffa450edef68"
5eb5bd0b81d0d0e54a0f4e149cf7972da5af16b0,"Silence some warnings from FindBugs and IDEA.

[ in server/src/main/java/org/apache/abdera/server/exceptions ]

* MethodNotAllowedException.java
  (setAllow): Remove spurious .toString() calls on items that are already
   Strings, and don't use + to concatenate two strings inside a call to
   StringBuffer.append().


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432854 13f79535-47bb-0310-9956-ffa450edef68"
9f81138d4f23dc55b94c54e899a74ebd4a9a4ec2,"Fix indenting...

[ in server/src/main/java/org/apache/abdera/server/exceptions ]

* MethodNotAllowedException.java
  (setAllow): Oops, indented a bit too far.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432855 13f79535-47bb-0310-9956-ffa450edef68"
ee261cef58c2a7dd8f0a193636d817fe96e39237,"- Reformatted to add spaces after 'if'

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@432872 13f79535-47bb-0310-9956-ffa450edef68"
1fdf5ce392ed0b2887c42477305c5ca06a7ee49e,"Fix NPE's and remove attributes is value == null

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@433333 13f79535-47bb-0310-9956-ffa450edef68"
0da5fbd4ab7319e15c171f29971b37ee5f11b154,"If an element already contains a child, don't add it again.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@433345 13f79535-47bb-0310-9956-ffa450edef68"
ec67148fa8ae1dd054c75976caf3a84d442ae5fe,"Remove some useless casts.

* parser/src/main/java/org/apache/abdera/parser/stax/FOMFactory.java
  (newExtensionElement): Remove unnecessary casts to OMContainer.
  (newElement): Remove unnecessary casts to OMElement.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@433383 13f79535-47bb-0310-9956-ffa450edef68"
5d0839d9d302d05d849b898db190221fbc10ab5b,"Changing the redundant add check into an assert.  It will only be active if assertions are 
enabled on the runtime (e.g. calling java with the ""-ea"" param)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@433386 13f79535-47bb-0310-9956-ffa450edef68"
43e54fa8fb1e71396046187f717145ed31e66848,"Backing the parent check back out.  Digging into Axiom further, it appears that there is no
efficient way of doing the equivalent to a contains(...) and OMNodeImpl sets the parent in
the constructor just prior to adding the child, so that doesn't work either.  ""Just don't 
do that"" solution stands.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@433405 13f79535-47bb-0310-9956-ffa450edef68"
05a6aa90af6e989fa75389eae41b8fe3f518141a,"More fun found by FindBugs.

* parser/src/main/java/org/apache/abdera/parser/stax/FOMDiv.java
  (setXhtmlClass): Use a StringBuffer instead of appending to a string
   in a loop.

* parser/src/main/java/org/apache/abdera/parser/stax/FOMCollection.java
  (setAccept): Ditto.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@433435 13f79535-47bb-0310-9956-ffa450edef68"
b412a723e74607c576476ed18c319b4d912ede35,"Fix some obscure problems noticed by FindBugs and IDEA.

* core/src/main/java/org/apache/abdera/util/ServiceUtil.java
  Import java.io.IOException.
  (locate, checkConfigProperties): Explicitly note that we're doing
   nothing in the catch blocks so IDEA will shut up.
  (checkMetaInfServices, _loadimpls): Close our input streams in the
   case of an exception, so we don't accidentally leak file handles.
   Also explicitly note that the empty catch blocks are desired.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@433438 13f79535-47bb-0310-9956-ffa450edef68"
d1c992a66c2bc2faf64a94d3593f40593ba92e87,"Another nit found by FindBugs.

* client/src/main/java/org/apache/abdera/protocol/client/RequestOptions.java
  (combine): Use a StringBuffer instead of appending to a string in a loop.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@433439 13f79535-47bb-0310-9956-ffa450edef68"
0f137fa84db93a3db8f4d10073e5399b1823d9a2,"The old implementation always used chunked requests.  Some proxies and servers, however,
require the Content-Length header and no chunking of the request.  Add a flag to the
BaseRequestEntity utility class to enable non-chunked requests.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@433505 13f79535-47bb-0310-9956-ffa450edef68"
5bc535fb55a2620d66f1f00cb49de39be787977b,"Thread safety and classpath improvements.

 * Don't store the class loader in a static variable, ServiceUtil.getClassLoader() always
   returns the context class loader

 * Cache resolved implementation classes for various ids (thread local)

 * Attempt to fallback to classpath if classes and resources cannot be loaded from the 
   context class loader

 * Use the context class loader to load the config bundle (allows webapps to provide their
   own abdera configurations even if the abdera jars are in the server classpath instead
   of the webapp classpath.

 * Don't store config options in static variables. Since we're caching resolved classes, 
   we don't need this anyway



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@433716 13f79535-47bb-0310-9956-ffa450edef68"
1b0b78dca265e2636e9352f08a104c04a7b6b4e7,"Big update.

Replace the nnn.INSTANCE mechanism with a new Abdera class.  The static configuration model
is replaced to improve thread safety and better deal with class loaders.  

instead of 

  Parser.INSTANCE.parse(...)

you'll now do:

  Abdera abdera = new Abdera();
  abdera.getParser().parse(...)

or

  Abdera.getNewParser().parse(...)

Included in this are also a number of fixes to the tests.  I know it's bad practice to roll
multiple updates into one, but I wanted to make sure all of the tests were passing when I
checked this in.

The Cache Tests have been disabled because of a problem running the tests from Ant.
The cache tests work great in Eclipse, but don't seem to work properly from Ant. Not sure
why.

This is likely just a first step.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@433823 13f79535-47bb-0310-9956-ffa450edef68"
3b4cb505bfdb9045802bfa2f6c7dd5e9da7f160b,"Fix the client test suite.

there were several issues here.

 * Change all of the requests so that keep-alive connections are not used.  The jetty
   server hangs on shutdown until all open connections timeout, using Connection: close
   resolves the problem.

 * It appears that in some cases, Jetty will actually use the same writer / outputstream
   for different requests, causing the output from the previous request to be sent to 
   subsequent requests!!  This looks like a bug, but we're able to work around it by
   explicitly closing the writer in the servlet after we write to it.

 * The way I was starting and stopping the server was just wrong.  I change it, but this
   change currently means that the only reliable way to run the client tests is via the
   TestSuite class.  That should be ok for now, but we'll want to revisit to see if we 
   can make this better.

 * Commented out the Auth Cache test.  It's testing incorrect behavior.  I need to fix 
   up the cache code so that authenticated requests are properly handled.  Specifically,
   authenticated requests must only be cached if the response is explicitly marked as 
   being cacheable (e.g. using Cache-Control: public)


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@434117 13f79535-47bb-0310-9956-ffa450edef68"
2c4217cbcd37135d80f53fc2e2e316832b2f02db,"Add some documentation to the Factory interface.

* core/src/main/java/org/apache/abdera/factory/Factory.java
  Add javadocs.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@434198 13f79535-47bb-0310-9956-ffa450edef68"
4075aba77cc9d5bfa5de86f52b36885ed702a8b6,"Remove some redundant null checks found by FindBugs.

[ in parser/src/main/java ]

* org/apache/abdera/parser/stax/FOMCategory.java
  (setScheme): Remove redundant check for null scheme.

* org/apache/abdera/parser/stax/FOMDateTime.java
  (setValue,
   setDate,
   setCalendar,
   setString): Remove redundant null checks.

* org/apache/abdera/parser/stax/FOMElement.java
  (getResolvedBaseUri): Remove useless null check and block that could never
   be run.

* org/apache/abdera/parser/stax/util/FOMExtensionIterator.java
  (isQNamesMatch): Don't dereference elementQName and then later on
   check for it to be null.

[ in client/src/main/java ]

* org/apache/abdera/protocol/cache/CacheBase.java
  (getDisposition): Move check for null options up before we dereference it.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@434209 13f79535-47bb-0310-9956-ffa450edef68"
5ea9be0d29bdbb0a1656718d39453ee58e28a169,"Current StAX cursor model implementations inconsistently handle DTDs.  
Woodstox, for instance, does not provide a means of getting to the complete
doctype declaration (which is actually valid according to the spec, which 
is broken).  The StAX reference impl returns the complete doctype declaration
despite the fact that doing so is apparently against the spec.  We can get
to the complete declaration in Woodstox if we want to use their proprietary
extension APIs.  It's unclear how other Stax impls handle this. So.. for now,
we're just going to ignore the DTD.  The DTD will still be processed as far
as entities are concerned, but we will not be able to reserialize the parsed
document with the DTD.  Since very few folks actually use DTD's in feeds 
right now (and we should likely be encouraging folks not to do so), this 
shouldn't be that big of a problem

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@434233 13f79535-47bb-0310-9956-ffa450edef68"
25e1a90154bcb67abea728a158c709a084432ba2,"Be more consistent about synchronization.  This doesn't correct all
the potential thread safety issues in Abdera and AbderaConfiguration,
but it's a step.

For the curious, the remaining problem seems to be that if the Abdera
class is going to be safe to use from multiple threads we're going to
have to figure out how to deal with concurrent threads accessing the
AbderaConfiguration object.  Not sure how best to deal with that yet.

* core/src/main/java/org/apache/abdera/util/AbderaConfiguration.java
  (getDefault): synchronize this, since it lazily initializes a static
   variable.

* core/src/main/java/org/apache/abdera/Abdera.java
  (getParser,
   getXPath,
   getParserFactory,
   getWriterFactory,
   getWriter): Mark as synchronized, just like getFactory was, since
   they lazily initialize some members and synchronization is needed
   to ensure proper publication of the object.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@434239 13f79535-47bb-0310-9956-ffa450edef68"
c2dae7edb186d23b3ff48d77e9c2f9b5f4af79a8,"Some cleanups on the existing parse filter mechanism.  This is the first step towards a 
more efficient implementation that can efficiently and effectively strip unsafe content 
from parsed feeds.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@434249 13f79535-47bb-0310-9956-ffa450edef68"
a0920d3e63dac2a32cf227a0cccd9ff99c229f10,"Don't allow javascript: or mailto: uris to be used in xml:base

Add utility methods to URIHelper for detecting javascript and mailto URIs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@436846 13f79535-47bb-0310-9956-ffa450edef68"
719fe440170ae07a175dda4456a2021abb98469f,"There is no sane reason for atom:icon and atom:logo elements to use javascript or mailto
links.  Have the getLogo() and getIcon() methods return a null if either of these schemes 
are used.  getLogoElement() and getIconElement() continue to work as before.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@436849 13f79535-47bb-0310-9956-ffa450edef68"
528d47f00965b571180eca130c5a93e96ce1372f,"Update the version number to 0.2.0-incubating-SNAPSHOT

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@436883 13f79535-47bb-0310-9956-ffa450edef68"
a3ab26508b410e9108a468bb1a1a44bac0681acd,"Move the various setIgnoreFoo/getIgnoreFoo methods to the parse filter mechanism instead of
parser options.  Provide a abstract parse filter impl that handles the methods. Remove the
setIgnoreDoctype/getIgnoreDoctype methods.  Because of the bugs in the Stax parsers DTD 
handling, we're always ignore DTDs.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@436925 13f79535-47bb-0310-9956-ffa450edef68"
729f8785e735fd4a221fe9cf249a97181f265164,"Javadoc Fixes. Factory and Parser still showed the old nnn.INSTANCE API. 
ListParseFilter and TextFilter needed some javadocs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@436930 13f79535-47bb-0310-9956-ffa450edef68"
37aacdab9d57a557c60468a9ec4e0c90a11e9dbe,"Missed one. Update the version number to 0.2.0-incubating-SNAPSHOT

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@436938 13f79535-47bb-0310-9956-ffa450edef68"
133bf4b457444ae6ad8add272c2305179f9386fe,"Adding abdera-client to the dependencies

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@436940 13f79535-47bb-0310-9956-ffa450edef68"
1146888e0263e6cb0b1a898a3a0bf67158d169b5,"A few minor cleanups to make the code a bit easier to manage

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@437010 13f79535-47bb-0310-9956-ffa450edef68"
b474657090923844a8f12212723af9723f26390d,"Pretty Printing!  NamedWriter that will output the XML with line breaks and indents

Example use:

  Abdera abdera = new Abdera();
  Factory factory = abdera.getFactory();

  Entry entry = factory.newEntry();
  entry.setId(FOMHelper.generateUuid());
  entry.setUpdated(new java.util.Date());
  entry.addAuthor(""James"");
  entry.setContent(""<a><b><c><d>foo</d></c></b></a>"", Content.Type.XML);
  
  Writer pw = (Writer)abdera.getWriterFactory().getWriter(""PrettyXML"");
  pw.writeTo(entry,System.out);

The output produced looks like;

  <?xml version=""1.0"" encoding=""UTF-8""?>
  <entry xmlns=""http://www.w3.org/2005/Atom"">
    <id>urn:uuid:...</id>
    <updated>...</updated>
    <author>
      <name>James</name>
    </author>
    <content type=""application/xml"">
      <a>
        <b>
          <c>
            <d>foo</d>
          </c>
        </b>
      </a>
    </content>
  </entry>

The width of the indent is currently hard coded at 2 spaces.  We could make that 
configurable.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@437742 13f79535-47bb-0310-9956-ffa450edef68"
75e5297eae4755e92957da37da58a9a9f5eb0c55,"NamedParser and NamedWriter names should not be case sensitive

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@437746 13f79535-47bb-0310-9956-ffa450edef68"
43fae3a0bb450895042bf0825f11fbf39832e830,"Returning to the server code.

* refactoring the AbderaServerException stuff to eliminate multiple classes that 
  aren't really necessary

* refactor the API of the RequestContext and ResponseContext server apis

* provide an abstract base impl of ResponseContext for use by the AbderaServerException
  and other impls

* refactor the way the Cache-Control response header is handled

* move CacheControlParser to core.. it is used by both the client and server components
  depending on how much shared code we end up with between the client and server
  components, we may want to introduce a new ""protocol"" component.

* optionally pull the server host and port from the AbderaConfiguration instead of
  the servlet request.  If not specified in the AbderaConfiguration, use the servlet
  request as a fallback.

More to come.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@437871 13f79535-47bb-0310-9956-ffa450edef68"
59f8fd5d5cfe7e77aeb78fb4265b03d5f54eb927,"Adding default allowed methods for edit-media uri's
Adding HEAD and OPTIONS as allowed methods to all uri's

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@437875 13f79535-47bb-0310-9956-ffa450edef68"
37888807cf6d1faa94cad4c2ea42f3fb697e58d3,"* Add the ability to lookup NamedWriter instances by the media type of the output
  format they support (e.g., WriterFactory.getWriterByMediaType(""application/json""); )

* Create an abstract base impl for NamedWriters

* Modify the JSON and PrettyXML writers to use the abstract base impl

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@437876 13f79535-47bb-0310-9956-ffa450edef68"
29bbaf8573a440033de2c3a85437fb1d588adf7c,"Clean up ServletRequestContext a bit.

[ in server/src/main/java/org/apache/abdera/server/servlet ]

* ServletRequestContext.java
  (getPathInfo): Add a space after the if.
  (get_ccp): Don't call getCacheControl() twice when we don't need to,
   and add a space after the for.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@437883 13f79535-47bb-0310-9956-ffa450edef68"
5268f9d4c2e8481cfcbc114aefc4e3a86ce8e9f5,"Utility methods for selecting a NamedWriter instance based on the value of the Accept 
header.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@437885 13f79535-47bb-0310-9956-ffa450edef68"
e9e39bdc0f86b4a0e7df21d42ad85fb3bc34e3cc,"* Utility class for helping with determining which resource the client is requesting.
  Specifically, regex patterns are specified for the uris of each of the various 
  Atom resource types (e.g. collection, entry, service doc, etc).  The target class
  checks the passed in request uri and returns an appropriate TargetMatcher for the
  type of resource.

  e.g.,

    Target target = new Target();
    target.addPattern(ResourceType.INTROSPECTION, ""/atom"");
    target.addPattern(ResourceType.COLLECTION, ""/atom/([^/#?]*)"");
    target.addPattern(ResourceType.ENTRY, ""/atom/([^/#?]*)/([^/#?]*)"");
    target.addPattern(ResourceType.ENTRY_EDIT, ""/atom/([^/#?]*)/([^/#?]*)\\?edit"");
    target.addPattern(ResourceType.MEDIA,""/atom/([^/#?]*)/([^/#?]*)\\?media"");
    target.addPattern(ResourceType.MEDIA_EDIT,""/atom/([^/#?]*)/([^/#?]*)\\?edit-media"");
    
    TargetMatcher tm = target.getTargetMatcher(""/atom"");
    System.out.println(tm.getType());
    System.out.println(tm.getToken(2));

* Move the resource type enum that was in BaseRequestHandler out to it's own class so
  it can be easily reused without depending on BaseRequestHandler.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@437896 13f79535-47bb-0310-9956-ffa450edef68"
791842e37c5d119af4f1feec6c7a5ac81818c919,"Ignoring some Eclipse development artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438109 13f79535-47bb-0310-9956-ffa450edef68"
d813e22426b1f3945861eeb70cbf724d9795e6b0,"Setting the default type for text and content

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438303 13f79535-47bb-0310-9956-ffa450edef68"
34c4cfc628fd81aba5b6ee0beaa67ceb64286e09,"Create a document container on clone

Add a method for setting the document

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438304 13f79535-47bb-0310-9956-ffa450edef68"
0f822d71fedfc464b94939475be41b64dadb6fa0,"The Atompub working group just completed another consensus call round with a number
of changes.  

 * A new app:categories element has been introduced to provide a listing of 
   atom:categories available.  

   - Created new Categories interface and FOMCategories impl
   - Added methods to Factory and FOMFactory for creating Categories/FOMCategories
   - Added methods to Collection and FOMCollection for supporting the new element

 * pub:control and pub:draft now use the main APP XML namespace

More coming.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438306 13f79535-47bb-0310-9956-ffa450edef68"
dd62d84d5b5df6b5abd8613a28d8e3812e589b81,"Add support for the new Slug header introduced in the latest consensus call round.
The Slug essentially takes the place of the Title header.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438308 13f79535-47bb-0310-9956-ffa450edef68"
96ced7cc704dfede34e04999d9ba86ad43fd2ceb,"Delete the comment so Garrett has less to complain about  ;-P

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438310 13f79535-47bb-0310-9956-ffa450edef68"
23b760ac2abf63b5321a221860ae78b1fa095315,"The latest consensus call round introduced a new app:modified element to augment
the atom:updated element.  

The short story is: the value of atom:updated may not change when an entry in an 
APP collection is modified, depending on whether or not the server considers the 
modification to be significant.  The app:modified element, on the other hand, if
used must be changed for every modification, whether it is considered to be a 
significant change or not.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438314 13f79535-47bb-0310-9956-ffa450edef68"
54e701bdf9d12173f7f13862ad4f698e227f7c98,"Continued work on the server implementation.

 * Refactor the new Target to be a bit more flexible.  TargetResolver and Target
   are now interfaces in the org.apache.abdera.server.target package.  Specific
   deployments of the AbderaServlet can specify a TargetResolver implementation.
 
 * RegexTargetResolver and RegexTarget implementation for specifying targets 
   based on regular expression matching
   
 * RequestHandlerFactory ... pass in AbderaServer when creating a RequestHandler
 
 * RequestContext ... Method to get the resolved Target for this request
 
 * AbderaServerException ... Constructors and methods for setting the content of
   the error response from a string, URL or other DataSource
   
 * Rename the old BaseRequestHandler and BaseResponseContext to 
   AbstractRequestHandler and AbstractResponseContext
   
 * Create a new BaseResponseContext that extends AbstractResponseContext and 
   handles the details of returning Feed Object Model objects (e.g. entry, feed,
   and service documents)
   
 * Create a new EmptyResponseContext for returning empty responses
 
 * Abdera Servlet... resolve the TargetResolver from the Servlet init params
   or abderaconfiguration... pull the RequestHandlerFactory from the init
   params or abderaconfiguration.  Store both the TargetResolver and
   RequestHandlerFactory in the servlet context once resolved. Don't return
   a customized status text message (for now). 
   
 * ResourceType... rename ""INTROSPECTION"" to ""SERVICE"" per a change in the 
   APP spec.  ""Introspection docs"" are now referred to as ""Service docs""

More to come

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438533 13f79535-47bb-0310-9956-ffa450edef68"
e5e95f5432127f1347737c1904f13df92ae1a712,"Fixing a NPE that occurs when inserting an entry created from the Factory.

e.g.

feed.insertEntry(factory.newEntry());
feed.insertEntry(factory.newEntry()); // caused a NPE in Axiom

Explicitly setting the inserted entries parent prior to the insert resolves the problem

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438567 13f79535-47bb-0310-9956-ffa450edef68"
1d5ac22677995981c4c2ec69c4f62dc6fd79131f,"Declare the APP namespace on the entry level when the app:modified element is used

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438583 13f79535-47bb-0310-9956-ffa450edef68"
a008e66ca1fe8f6c90b6d427758420fb019e34cc,"Removing the cache stuff from AbstractRequestHandler. 
Will likely be refactoring caching in the near future

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438601 13f79535-47bb-0310-9956-ffa450edef68"
d94f385fca161a3357223d25cf7e9e71df0810af,"some initial refactoring of the server cache code.  the goal is eventually to get
the client and server sharing the same interfaces

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438602 13f79535-47bb-0310-9956-ffa450edef68"
fbeee6fec1cf2f239a9d4bdfced9f39940b8358d,"Refactoring the package names so they're consistent with the client module
(e.g. client uses org.apache.abdera.protocol.client.* have the server use 
org.apache.abdera.protocol.server.*)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438603 13f79535-47bb-0310-9956-ffa450edef68"
e616cfb20ed3acac3a88aeb05c09dcaf40d1dd6d,"Remove the org.apache.abdera.server package (missed this one in the previous commit)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438605 13f79535-47bb-0310-9956-ffa450edef68"
f4f901343fa13f6f55f0b0bb76374a0fe09db866,"Step 1: Adding a new protocol module to hold the common protocol code that will be 
shared by both the client and server modules

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438639 13f79535-47bb-0310-9956-ffa450edef68"
1e9ee4ae9c7e5458a34505bcf538ad4f73df235a,"Ignoring eclipse specific artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438643 13f79535-47bb-0310-9956-ffa450edef68"
c999229f272eedc03f576ee3dece314f57a30a38,"The Client and Server modules share many similiar APIs and code.  Refactor each so
that they extend from a common code base, allowing us to use the same APIs and
utility code on both the client and server.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438654 13f79535-47bb-0310-9956-ffa450edef68"
db450abb8224dea188df331ccf57f4afd0ffdd13,"Removing org.apache.abdera.protocol package from core module

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438655 13f79535-47bb-0310-9956-ffa450edef68"
1753779f9c63aeda6ac95ed5fb4bafaba38bac97,"Support for the APP Slug header on both the client and server, in both request and 
responses

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438660 13f79535-47bb-0310-9956-ffa450edef68"
e5a9f232cbb6dbcf97bf69819f74988a71eb34e4,"Renaming the cache, cache.lru and util packages in client to use the protocol.client 
pattern, matching the server module

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438663 13f79535-47bb-0310-9956-ffa450edef68"
3aace5333540f7105efe5bf5001b1e3aac55492a,"Removing the empty protocol.cache package

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438664 13f79535-47bb-0310-9956-ffa450edef68"
6645609c94426beed454cf04bdaa828095c670e0,"Remove the server.cache package.  This really isn't needed here. If specific 
implementations want to do caching, they can do so using whatever means they 
find appropriate, otherwise, there are other server side caching technologies 
that can be used as an alternative.  In other words, this package really didn't
help us with anything.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438667 13f79535-47bb-0310-9956-ffa450edef68"
6e653a8edd0454befd4d67af997acacdc4a4f1dd,"Move the AbstractRequestHandler, AbstractResponseContext, BaseResponseContext and 
EmptyResponseContext classes over the the util package, which is consistent with 
where these types of things are placed in the other modules. Remove the impl package

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438671 13f79535-47bb-0310-9956-ffa450edef68"
6d9fc451463f03c95a2885ddef47b3d06eab1722,"Move the ServerConstants class to the util to be consistent with the location of 
the other Constants classes in other modules

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438675 13f79535-47bb-0310-9956-ffa450edef68"
bbcfd625594bbb68c616e769964800652434fb51,"Adding the protocol module to the build

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438689 13f79535-47bb-0310-9956-ffa450edef68"
d7b8b65e5bc0788a2b31e26d019be1ab736ba917,"Initial simple APP Server implementation example.  This is not complete, but its 
generally functional.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438696 13f79535-47bb-0310-9956-ffa450edef68"
05ad48e15b444a5267a7a562ba51f9640ae798e9,"Check for null/empty input

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438697 13f79535-47bb-0310-9956-ffa450edef68"
71c6a9ddd62921bc5a050edfb7cce4b6d62fd59b,"Ignoring eclipse development artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438701 13f79535-47bb-0310-9956-ffa450edef68"
555fbbe27c2394f6972161a1e952c4f5841f1175,"Ok, this is likely a bit premature, and against the advice of one of the co-chairs
of the APP working group but, there was a proposal on the table to use atom:title in 
app:workspace and app:collection instead of a title attribute.  It received a lot
of support and the co-chair indicated that the proposal would be considered accepted
unless folks stepped forward in the next couple of days and made an argument about 
why it is a bad thing.  So far, no one has stepped forward to argue it, but several
folks that were previously against an old version of the proposal have now indicated
support for it.  So here's the change.  We can easily roll this back if the decision
to accept the spec change is rescinded by the chairs.

Instead of...

  <collection title=""foo"" href=""..."" />

It is now...

  <collection href=""..."">
    <atom:title>foo</atom:title>
  </collection>



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@438711 13f79535-47bb-0310-9956-ffa450edef68"
aceb88cc93bafd4e5f149153fcba220854c1c18e,"Fix a bug that caused the @type attribute to be reset when calling Content.setValueElement
with XML content

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@439031 13f79535-47bb-0310-9956-ffa450edef68"
9e624ce9904ec24af84b5ae7d9294a2ecf0c6edb,"Return a copy of the default namespaces, not a shared instance of those

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@439035 13f79535-47bb-0310-9956-ffa450edef68"
8f3ec880102876d495897eb2db0c8153ac5b7244,"don't use an enum for this.  implementations may want to extend the types of resources
targeted for the implementation.  For instance, Queso provides a history feed resource.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@439106 13f79535-47bb-0310-9956-ffa450edef68"
4f56e4c1d3f6ebadfa438fed6cf92cadc549cf5f,"don't use an enum for this.  implementations may want to extend the types of resources
targeted for the implementation.  For instance, Queso provides a history feed resource.

(missed this on the previous commit.. update AbstractRequestHandler to the new
ResourceType impl)


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@439107 13f79535-47bb-0310-9956-ffa450edef68"
631ba3fda9f24941fa746defb94b1a2f78ef300f,"Fixing compile errors

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@439517 13f79535-47bb-0310-9956-ffa450edef68"
3dc46465573271241a8b76705656be3a8528c7de,"Adding security module tests.

 * Test XML digital signature creation, verification, roundtrip
 * Test XML Encryption roundtrip


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@440769 13f79535-47bb-0310-9956-ffa450edef68"
1c8ee32af59f7097bb0af92659862090c78b3c92,"Adding digital signature third party verification test using Verisign's test endpoint
(http://signedping.com/wiki/index.php/Signed_Ping_interop)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@440782 13f79535-47bb-0310-9956-ffa450edef68"
f58335e8af24af113f918d16c5f45d1c2f8db709,"API improvements for the Signature interface

* Eliminate the separate sign(entry...) and sign(feed...) variations in favor of a
  single (T extends Element)sign(T...) generic approach

* Introduce a new API for extracting X509Certificates from valid signatures contained
  by a feed or entry (necessary if we want to determine if the signature is trustworthy)

* Update the digsig test case to make sure the X509 cert is extracted properly

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@440857 13f79535-47bb-0310-9956-ffa450edef68"
39ae0ad7ad867fdd1fd8c4c7b56fb187aed2c162,"Adding a HTTP Servlet Filter implementation that will add an XML Digital Signature to 
served Abdera documents

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@440877 13f79535-47bb-0310-9956-ffa450edef68"
588667cc1ee724a49a5cd1608705267dedbdaec2,"Ignore eclipse created artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@440878 13f79535-47bb-0310-9956-ffa450edef68"
1cfce851191cc8d35143d0cc7d277f0f1a4b52b3,"Set content-type on the response context

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@440881 13f79535-47bb-0310-9956-ffa450edef68"
d961602ee6045d6fbae77d920180fcb134061361,"Make Factory.newElement() return an instance of FOMExtensibleElement to make 
extension support easier.. e.g., we can now do:

  ExtensibleElement element = (ExtensibleElement)factory.newElement(...)

Before, factory.newElement(...) would return an instance of Element that did not
implement the ExtensibleElement interface, making it harder to add extension elements
dynamically

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@440886 13f79535-47bb-0310-9956-ffa450edef68"
76fe0deef4862c76596f9f851ed4568a88b8c3c1,"Add a newUuidUri method to Factory.  This is helpful when setting the value of atom:id
to some random value (e.g. like when we're sending off a new entry to an Atom Publishing
Server).

Previously, the method was in FOMHelper and required the users depend on a parser 
implementation specific helper class rather than on the core API.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@440891 13f79535-47bb-0310-9956-ffa450edef68"
e575fc282e18beb54d881143eddddc91fbd0f673,"don't use lazy instantiation of the singleton objects.  This moves the slight 
performance hit taken when discovering the configured implementation to the 
start and removes the need to synchronize the various get___ method calls.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441181 13f79535-47bb-0310-9956-ffa450edef68"
69baa2742893f3d8049b00c11fb61c135a97c03c,"Improvements to the thread safety of AbderaConfiguration

Make the creation of the ParserFactory, WriterFactory and Writer components consistent
with the Parser, Factory, etc.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441195 13f79535-47bb-0310-9956-ffa450edef68"
deaa7e527af1da5745e6406e1f4dd1581e876a07,"No reason for the internal value to be ""protected""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441196 13f79535-47bb-0310-9956-ffa450edef68"
5cd305ceb44a61bb88afcaca66331e0e4df29440,"Make the code used to determine the mime type of Abdera objects reusable

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441207 13f79535-47bb-0310-9956-ffa450edef68"
673655de651b093de53b7b92575721eff5423e42,"Add an abstract NamedParser base implementation.  
Add support for checking to see if a NamedParser can handle a given media type
Make the name and format lists of both AbstractNamedParser and AbstractNamedWriter immutable

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441213 13f79535-47bb-0310-9956-ffa450edef68"
9caa07a2f7a5232a97e8f221bde0affc2f079cf4,"Make the Abdera instance in AbstractParser immutable

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441214 13f79535-47bb-0310-9956-ffa450edef68"
6068c43f28f0e90709b6b599c47cd1dba46d2c3b,"Removed unused code.
Add a statement that AbstractParserOptions is not thread-safe

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441218 13f79535-47bb-0310-9956-ffa450edef68"
287ed39a73b24342b49de1d0cf60e401346bef64,"Enhancements to the XPath api

 * Use generics to reduce the need to cast explicitly in Java1.5
 * Make the default namespaces immutable, but allow subclasses of AbstractXPath
   to pass in their on default namespaces maps

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441221 13f79535-47bb-0310-9956-ffa450edef68"
ce8dba69a9618b5bf93be3af50a66c515c8b98f2,"Use the constant for ""application/xml""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441222 13f79535-47bb-0310-9956-ffa450edef68"
ad14f7e6b0001e02d8a9d8b71a8dbd4b8a227808,"Silly goof

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441225 13f79535-47bb-0310-9956-ffa450edef68"
c94e96adfd40b1eea25e97916688a076ee1177e6,"Some API improvements for Java 1.5 to reduce the number of explicit casts necessary. 
No effect for Java 1.4.2 users

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441226 13f79535-47bb-0310-9956-ffa450edef68"
4482b3fd9032ae771d6edda8415c328297e7eca8,"Rollback a change that breaks some compilers

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441273 13f79535-47bb-0310-9956-ffa450edef68"
b1af8eddc8660a39f0e930e788f2349458528d73,"Rollback a change that breaks some compilers

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441280 13f79535-47bb-0310-9956-ffa450edef68"
b242b0acc652eaf1f615f2e690dd79e463b79a9a,"Rollback a change that breaks some compilers

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441281 13f79535-47bb-0310-9956-ffa450edef68"
4fd06a9893a90d6bbc5b243001e3f65a7f9d679c,"Threadsafety, API and implementation improvements the various Filter helpers

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441282 13f79535-47bb-0310-9956-ffa450edef68"
065f3774e866b8f63dac499d703aaf0ba10db8ac,"General improvements by making some fields immutable, reducing some of the lazy instantiations

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441299 13f79535-47bb-0310-9956-ffa450edef68"
eee2317281096c2383c5f00924c43702a82d27a5,"Improvements to the base protocol classes

Use an enum of cache control directives instead of two hashsets for 
more efficient processing.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441309 13f79535-47bb-0310-9956-ffa450edef68"
97400973f0fe8656e427e3b9af2a8789b0a127dd,"A method moved

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441310 13f79535-47bb-0310-9956-ffa450edef68"
8a895de28531159573f17a2c7c70678c7f046cf4,"removing the zip content-encoding option (just stick with gzip and defate)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441312 13f79535-47bb-0310-9956-ffa450edef68"
0447bd75379bd890855fb2d42f7c8269ef10dd4f,"Move the code for supporting Content-Encodings (e.g. gzip, deflate) to a utility class
in the protocol module.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441315 13f79535-47bb-0310-9956-ffa450edef68"
6a2b63cb5de3442161bcdc416a3a539d36a17338,"General implementation improvements to improve threadsafety, reuse common code
and make things generally more robust

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441330 13f79535-47bb-0310-9956-ffa450edef68"
1aa3b3dfa44aecaa96979797878aed72a71950ee,"Per http://jakarta.apache.org/commons/httpclient/threading.html

Use MultiThreadedHttpConnectionManager as recommended by the Commons HTTP Client docs.

Provide an implementation of an InputStream that will auto-release the HTTPMethod 
object.  This hasn't been plugged in anywhere yet as it has the nasty side effect of
making all of the headers in the response also disappear.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441333 13f79535-47bb-0310-9956-ffa450edef68"
a4c758c26747e7378b8575d883a3ad3a37d05d54,"General code improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441334 13f79535-47bb-0310-9956-ffa450edef68"
979b278a5b627beaa2b1edeac44e08361ebcdffa,"Fixup dependencies in the maven poms

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441530 13f79535-47bb-0310-9956-ffa450edef68"
cf0e65c6332555e91fb3d29c9539b4129a8d52f3,"Don't die immediately if various subcomponents are not available (e.g. like xpath)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441548 13f79535-47bb-0310-9956-ffa450edef68"
725e489d4ce6f70fafb933c68bdb1f300045c7de,"Continuing a number of general implementation improvements.

* Improve thread safety by using immutable fields
* Move X-HTTP-Method-Override support out of the RequestContext and into a servlet filter.
  This simplifies the servlet filter code and separates concerns. It also makes it 
  easier to administratively enable/disable POST tunneling.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441551 13f79535-47bb-0310-9956-ffa450edef68"
584a71bd0d0d1ec28fff374f732ae0e542a860d5,"Fix for an API change.

setPattern is more descriptive of the 1-to-1 relationship

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441552 13f79535-47bb-0310-9956-ffa450edef68"
50613b481eb52ea5df05c71335a162350e1034dc,"make a field immutable

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441553 13f79535-47bb-0310-9956-ffa450edef68"
ac1b69a0a99d7e05eb0472de727153cb67c94c5f,"Fix SignedResponseFilter so that it doesn't throw exceptions on error responses

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441581 13f79535-47bb-0310-9956-ffa450edef68"
39dd74366473a17df6dd906c2caf2111acea2502,"RequestHandlers should be stateless and thread safe.  
In order to make things a bit more efficient, introduce a pooling model for 
RequestHandlers and provide an AbstractRequestHandlerFactory implementation
that provides a simple stack-based pool.  There's no max-instance limit on this
so folks in high-transaction environments should be careful.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441582 13f79535-47bb-0310-9956-ffa450edef68"
1e505ed1dd6cf5075311e916a419672d6f8a7035,"Make Target implement Iterable to provide another way of getting to the parsed target tokens

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441618 13f79535-47bb-0310-9956-ffa450edef68"
ee90de131fe7916e521fa3adb3ca788f6fbe5859,"Make Target implement Iterable to provide another way of getting to the parsed target tokens

(forgot this one)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441619 13f79535-47bb-0310-9956-ffa450edef68"
0b2235fde8409d0d52990aace593f2aa5e383962,"Provide a new SubjectResolver that can be used to resolve a javax.security.auth.Subject
from the authenticated Principal provided by the HttpServletRequest.  This allows 
APP server implementations the ability to configure their own user profile mapping
implementation and have the authenticated identity passed down through the 
RequestContext.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441629 13f79535-47bb-0310-9956-ffa450edef68"
a43e96870267833d9bee4980ed8595f64d2d232c,"Initial attempt at separating the RequestHandler from the backend storage provider.

The model here is that a server may actually pool up multiple request handlers, all
of which may share the same Provider instance.  It's the RequestHandlerFactory's job
to figure it all out.  

Use of the separate Provider model is optional but recommended.

More work needs to be done to develop this further.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441673 13f79535-47bb-0310-9956-ffa450edef68"
eac7a2b4b6b2f1846456f2da6818b3188cb8af91,"AbstractProvider implementation to provide as base for common provider functions

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441675 13f79535-47bb-0310-9956-ffa450edef68"
ca1b5c50f56b46018da45cbd07f07da63e7be4fa,"Fixing javadoc example

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441676 13f79535-47bb-0310-9956-ffa450edef68"
c56345858ff19d40ce82ef1b7f5b9b81b475c0a3,"From Ugo Cei...

Fixing the maven dependencies

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441800 13f79535-47bb-0310-9956-ffa450edef68"
a4b6ba846fcafee79d1b97c4ae17ecd82518a440,"we're not actually using javamail at all. it's an axiom dependency
but we're not uing that part of axiom

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@441892 13f79535-47bb-0310-9956-ffa450edef68"
f2ae1b645a7ce50cdc9e5db455f18a797c908071,"Rename isTrue to booleanValueOf to be consistent with the valueOf and numericValueOf methods

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442040 13f79535-47bb-0310-9956-ffa450edef68"
8902ea378bc933d49477564ac620961e1b8bb5ca,"Rename isTrue to booleanValueOf to be consistent with the valueOf and numericValueOf methods

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442041 13f79535-47bb-0310-9956-ffa450edef68"
2a3be48eacc179b3fcb56e7ad569aa3bc0a07f13,"Provide a mechanism for providing custom XPath functions and variables (jaxen specific)
Provide a custom abdera xpath function for resolving relative URI references

  XPath xpath = abdera.getXPath();
  System.out.println(xpath.evaluate(""abdera:resolve(/a:entry/a:author/a:uri)"", entry);

We can plug in other helpful Abdera specific functions as needed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442063 13f79535-47bb-0310-9956-ffa450edef68"
c62410b00f74235e6c2c0076065d45cf9901ad32,"Provide an implementation of the GoogleLogin authentication scheme used by GData APP
services like Blogger and Google Calendar.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442090 13f79535-47bb-0310-9956-ffa450edef68"
abf842765c2f4840bec6c70fe43a226b03d203d3,"Provide a GoogleLoginAuthCredentials implementation of the commons client Credentials 
interface to make it possible to reuse the gdata auth token for multiple requests.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442096 13f79535-47bb-0310-9956-ffa450edef68"
81e0a23bb9b76c6a21ea299e1e1ee55dbfcad0b1,"The Commons client documentation recommends explicitly tearing down the multithreaded
connection manager when we're all done with it.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442106 13f79535-47bb-0310-9956-ffa450edef68"
635d6c30fd33d1eb0344d30d6a938c4aa06a459d,"Make Target serializable.

Because Matcher is not serializable, implement custom serialization for 
RegexTargetResolver$RegexTarget

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442254 13f79535-47bb-0310-9956-ffa450edef68"
17aa12fa4884a47b156c925de88e80f99e4531a1,"Properly implement equals and hashCode for RegexTargetResolver

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442256 13f79535-47bb-0310-9956-ffa450edef68"
993f592c3d5d67540b9f8474440cf11d299b4521,"RegexTarget toString implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442259 13f79535-47bb-0310-9956-ffa450edef68"
5b1df8359bac19d3f24521edba54d0dd4130cea4,"Make target cloneable

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442264 13f79535-47bb-0310-9956-ffa450edef68"
3d0fc072fc789181a76705de88b1997f0e802ba2,"Make SimplePrincipal and AnonymousPrincipal serializable

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442270 13f79535-47bb-0310-9956-ffa450edef68"
a8cedacb89495c3de31a5b58f4cce52c69e6be92,"Use hasValue on hasNext instead of testing for null

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442271 13f79535-47bb-0310-9956-ffa450edef68"
775369f81d1e69d0ba2ca4ac7ac5c92b35d66afe,"Provide a way of autoincrementing the ordinal when adding a new resource type
Check to make sure a new resource type does not duplicate the ordinal or name of 
an existing one.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442276 13f79535-47bb-0310-9956-ffa450edef68"
59c2297c601df1baebb990cccd860898ae77f84c,"The underlying Axiom objects are not actually serializable. Remove the serializable marker 
from the FOM interfaces until we can actually make 'em serializable

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442278 13f79535-47bb-0310-9956-ffa450edef68"
c38cae83d3f3f4d12f1f17e42bc04d4b721e7adf,"More incremental improvement.
Shift stuff around to eliminate unnecessary packages
Use a pool model for Providers and Request Handlers
Call it RequestHandlerManager and ProviderManager instead of a *Factory.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442370 13f79535-47bb-0310-9956-ffa450edef68"
2e978ab347bfd1d267a3e2a02f8d92bbd0bd7cfc,"Add isAtom and isApp checks

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442777 13f79535-47bb-0310-9956-ffa450edef68"
babb6c8e99746531174073ebd2bce291d18770f4,"Ok, so the server code was coming along but it was getting rather difficult to manage
and was quickly becoming complicated and way too overabstracted.  So, I decided to 
simplify things a bit.  This is a big update that greatly improves the overall design 
of the server code.

RequestHandlers have been refactored to depend directly on the servlet api and a 
default implementation provided.  End developers should only have to worry about 
implementing a RequestHandler if they are extending the core APP methods (e.g. if 
someone wants to support COPY, etc).  RequestHandler's are pooled by default.

Provider has been fleshed out more and is the primary interface for interacting with 
a backend Atom Store.  

AbderaServer has been replaced by a much more improved ServiceContext element that is
accessed from a Singleton ServiceManager.

TargetResolver is still there are pretty much does the same thing it did before except
with a relatively minor API change.

SubjectResolver is still there and I have successfully tested it with third party auth 
tools like Acegi.

A new EntityTag class is provided that implements strong and weak entity tags, checking 
for matches between entity tags, etc.  The client and server code has been modified to 
use this new class.

The example APP server has been updated to demonstrate the new design.

A test suite for the server component has been started, but has not yet been plugged into
the build.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442792 13f79535-47bb-0310-9956-ffa450edef68"
5381dd47b49fc73deddfad237aa84216932c9242,"APP Draft -10 introduces a new APP Categories Document Type

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442796 13f79535-47bb-0310-9956-ffa450edef68"
283adbc759d9ed211136810542730c2a0367c17a,"APP Draft 10. Collection and Workspace elements now use atom:title elements.  Earlier,
it looked as if multiple atom:title's would be allowed. The spec currently says only
ONE atom:title

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442998 13f79535-47bb-0310-9956-ffa450edef68"
808a145a4410a7ac737a864c9acf36224eeaeecf,"For Media Link Entries, it is very helpful to have an easier way of getting to the 
media type of <content type=""..."" src=""..."" /> style content elements.  Adds a 
getContentMimeType() method

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@442999 13f79535-47bb-0310-9956-ffa450edef68"
1dfb5caa50a543d99ca826f012c49dc8892bc7dd,"Provide a addCategories(String href) method to make it easier to add Out Of Line 
Categories doc references (per Draft -10)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443000 13f79535-47bb-0310-9956-ffa450edef68"
51a10370946c5527263424589b6cb5e1d3bbc2a7,"From Draft -10, Section 7.2.1

   If an app:category child element has no ""scheme"" attribute it
   inherits the attribute from its app:categories parent.  An app:
   category child element with an existing ""scheme"" attribute does not
   inherit the ""scheme"" value of its ""app:categories"" parent element.

Add a getCategoriesWithScheme() method that returns a copy of an app:categories
list of atom:category elements with the scheme attribute properly set.  This creates
a clone of the categories listing so that the original set of atom:category elements 
are not modified.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443005 13f79535-47bb-0310-9956-ffa450edef68"
b19396472ce87cdfa6e65893f5d402d12b5bd686,"When calling addCategory(Category), make sure that if the Category is from a Categories
element, we clone it before adding it to the entry or feed/source, otherwise Axiom will
remove the category element from the categories parent.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443009 13f79535-47bb-0310-9956-ffa450edef68"
a19c060b9b73a6ba6a9be7db133c5276fe211b62,"Per APP Draft -10 Section 8.2.3.1: 

   The app:collection element MAY appear as a child of an atom:feed or
   atom:source element in an Atom Feed Document.  Its value identifies a
   Collection by which new entries can be added to appear in the feed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443011 13f79535-47bb-0310-9956-ffa450edef68"
03efab0f5dd4fd8de7912a38cdbad90e9b5d271c,"Add a method for getting directly to the app:accept element

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443014 13f79535-47bb-0310-9956-ffa450edef68"
85bcb35311325a6c9b0e62646979947dbee4fd41,"Draft -10 updates

 * There is no longer any distinction between the member uri (ENTRY) and it's edit uri 
   (ENTRY_EDIT).  

 * Add a method for retrieving the Categories document

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443018 13f79535-47bb-0310-9956-ffa450edef68"
74935349fbdee0bc88dc1adbd9e709164cacc9f1,"Set the ContentLocation header on create response as suggested by Draft -10

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443034 13f79535-47bb-0310-9956-ffa450edef68"
2e78dc04678797299c9e4ee8205f44211f41b2dd,"Per APP Draft -10,

   Clients MAY send non-ASCII characters in the Slug entity-header,
   which they MUST encode using ""encoded-words"", as defined in
   [RFC2047].  Servers SHOULD treat the slug as [RFC2047] encoded if it
   matches the ""encoded-words"" production.

Add a method that allows the charset to be specified when setting the Slug header.

  request.setSlug(""foo"", ""utf-8"");

Modified request.getSlug() so that it always attempts to decode, just in case the value
is RFC2047-encoded.

Add methods for allowing any header to be encoded/decoded



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443047 13f79535-47bb-0310-9956-ffa450edef68"
4ef66ffe48ca901e12e2e57f9350cc7f8f833706,"Per RFC4287 and APP Draft -10 section 11.2, alternate and edit-media links may be selected by 
a combination of the hreflang and type attributes. Provide getAlternateLink and getEditMediaLink 
alternatives that select the link based on hreflang and type.

Fix the algorithm in MimeTypeHelper.isMatch so that wildcards (e.g. */*, text/*, etc) are properly
supported.



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443068 13f79535-47bb-0310-9956-ffa450edef68"
bcf216eee85a300c33c459d953b30a3ef6f45d5d,"Provide convenience methods for setting an entry as a draft per APP Draft -10 section 12.1.1

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443088 13f79535-47bb-0310-9956-ffa450edef68"
c4e4dc67618687ae5e084a6b1d900f8aa2e0e2fb,"WILDCARD as a static.  Unfortunately the MimeType constructor throws an exception we need to catch
so we have to have a method to create the wildcard.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443090 13f79535-47bb-0310-9956-ffa450edef68"
582a9eb9bac69a6deb002ed3d96d8c12e644aba9,"BUG: java.util.Arrays.hashCode(...) is not supported under JDK 1.4.2 and retroweaver does not migrate it.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443094 13f79535-47bb-0310-9956-ffa450edef68"
6058f9f7dc92e91dc95831da46fede0d9acb79f2,"Per APP Draft -10, 

   The ""app:accept"" element value specifies a comma-separated list of
   media-ranges (see [RFC2616]) identifying the types of representations
   that can be POSTed to the URI of a Collection.  Whitespace separation
   of the media-range values is considered insignificant and MUST be
   ignored.

   The app:accept element is similar to the HTTP Accept request-header
   [RFC2616] with the exception that app:accept has no notion of
   preference.  As a result, the value syntax of app:accept does not use
   ""accept-params"" or ""q"" arguments as specified in [RFC2616], section
   14.1.

   The order of media-ranges is not significant.  The following lists
   are all equivalent:

     <app:accept>image/png, image/*</app:accept>
     <app:accept>image/*, image/png</app:accept>
     <app:accept>image/*</app:accept>

   A value of ""entry"" may appear in any list of media-ranges in an
   accept element and indicates that Atom Entry Documents can be posted
   to the Collection.  If the accept element is omitted or empty,
   clients SHOULD assume that only Atom Entry documents will be accepted
   by the Collection.

The MimeTypeHelper.condense(...) method will condense an array of media types into the most generic 
form. e.g., [image/png, image/*] condenses to [image/*], [image/png, image/*, application/atom+xml, entry] 
condenses to [image/*, application/atom+xml, entry], etc.

Have Collection.getAccept() always return the condensed form.

Fix Collection.accepts(...) so that it properly understands the ""entry"" token.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443116 13f79535-47bb-0310-9956-ffa450edef68"
3f387860c34253a7afe2a29705e1ce9bd06ec37b,"Not exactly sure what I was thinking with the first rev of this. Fix the method up a bit

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443117 13f79535-47bb-0310-9956-ffa450edef68"
435851da1c453d18d869dc01c7c1ee82d6b900ad,"Utility methods for checking to see if a Categories element contains a given category.

This is useful for APP in that if the categories are fixed and clients use a category that is not
listed in the categories element the server can reject the request.  This gives us a simple means 
of determining whether or not a given collection can be used.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443121 13f79535-47bb-0310-9956-ffa450edef68"
e7f896d5467f98b2e673404282929858f4d5ea06,"per RFC2616, Entity Tags must not contain quotes. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443128 13f79535-47bb-0310-9956-ffa450edef68"
c095a0486291f4b8121660e072a1066d5790fcbb,"Some additional validation for entity tags

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@443129 13f79535-47bb-0310-9956-ffa450edef68"
54e7654dfdb309b1d3082a4cd156a4529fdf3091,"Helpful ProviderManager implementation that makes it easier
for an implementation to provide a single Provider instance
for all handlers

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@447929 13f79535-47bb-0310-9956-ffa450edef68"
e9b8cea97bd0378f9d4f6fe5a141dfe3e1125d89,"Bug reported by Steven Isaacson. Caused by a limitation some java1.5 compilers have when handling 
generics.  

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@448099 13f79535-47bb-0310-9956-ffa450edef68"
233b373fe751605f07b57ae3a7d51fba060284bc,"The default function and variable contexts were being overwritten causing the standard xpath functions
like count and concat to be lost. Thanks to Hugo Duncan for pointing it out.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@448233 13f79535-47bb-0310-9956-ffa450edef68"
fe3045fee4ded0979f0e5e48f503a3bf45b57336,"Added commons-codec to Maven build to allow protocol module to compile.

Submitted by: Hugo Duncan <hugh_duncan@yahoo.com>

* pom.xml: Added commons-codec to dependencyManagement.
* protocol/pom.xml: Added commons-coded as a dependency.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@448420 13f79535-47bb-0310-9956-ffa450edef68"
9cd9009620343530a60710d53bcd95a29ef099c3,"Added generated files and folders to svn:ignore property.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@448421 13f79535-47bb-0310-9956-ffa450edef68"
14189bdb28499ca9f9721c808cb55dbf402c9313,"Initial check in of the IRI/IDN support.  I had originally thought this would land in the parser project,
but then I remembered that we'll likely need to surface the IRI and Lang objects provided by this package
in the core model api... at least at some point.  Not sure how we should ultimately package this, but
we can work on those details later.

* Unicode 3.2.0 Normalization implementation.  We likely need to update to Unicode 4.0,or at least check
  to make sure this code will work with either

* Punycode/Nameprep/IDNA implementation.  This is fundamental to IRI support and the most significant
  hole in the java.net.* stuff.  This code implements support for both the ToASCII and ToUnicode algorithms

* IRI implementation. API is similar to java.net.URI, provides conversion to and from URI/URL, provides
  custom scheme support, scheme specific equivalence checking, bunch of other stuff.

* Language tag implementation, e.g. parsing and validating the syntax of things like en-US

* Bunch of IO utility classes including a CodepointIterator that converts surrogate chars into 
  supplementary codepoints from byte arrays, char arrays, charsequences, charbuffers, etc. Also 
  some InputStream implementations that extend things like PushbackInputStream with dynamic buffer
  management,etc. Some of these currently exist in the parser module, but it made sense to move
  them around and keep them with the other new io stuff.

Test cases are included.

The org.apache.abdera.util.unicode.data package contains the gzip compressed binary representation of the
Unicode Character Database (version 3.2.0).  The Unicode license forbids us from storing the source
text files but we can store a binary represenation used to enable our impl.  I'll be working a process
into the build that will download the source files and generate the ucd.res file during the build process.

None of the Abdera code has been modified to use these new classes yet

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@448818 13f79535-47bb-0310-9956-ffa450edef68"
b6f919f03d8cb0acc1373955d3069f7226278212,"Exclude inner classes named ""Test"" from junit tests.

 * pom.xml: Added exclusion for **/*$Test*

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@449129 13f79535-47bb-0310-9956-ffa450edef68"
49f36a9aaaf2bdf6b61b3814b00ee64087d71800,"Added POM metadata.

* pom.xml - Corrected url, added organization, issueManagement, mailingLists, licenses, and scm
* Each modules pom.xml - Set the url and scm information (otherwise the artifactId is incorrectly added on)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@449509 13f79535-47bb-0310-9956-ffa450edef68"
cf9a24b91eaa1b64d28450a96e4f5e0a82826648,"Added more generated files to svn:ignore properties

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@449510 13f79535-47bb-0310-9956-ffa450edef68"
b68497d890497edd8ce2f75982713e6fd8509b9b,"Added reporting to the pom to be generated during site creation.

* pom.xml - Added javadoc, source cross-referencing, and test result reporting

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@449513 13f79535-47bb-0310-9956-ffa450edef68"
02e8bf8d464a9d5465029456d90118678487c552,"Added cobertura test coverage reporting to the pom

* pom.xml - Added test coverage report and build configuraiton to ensure clean coverage files.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@449515 13f79535-47bb-0310-9956-ffa450edef68"
ebd274e0162dbc0f3aa52508ee1fb276bec0a2ba,"FOMWriter needs to implement NamedWriter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@449858 13f79535-47bb-0310-9956-ffa450edef68"
e38307e4fc9a9895f62ea547f64e9bd5e2e59741,"Close only flips the buffer if it hasn't already been flipped

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@449859 13f79535-47bb-0310-9956-ffa450edef68"
14c7b025ce1392ad627181dd30b2ea5621c4eb66,"Variety of fixes and improvements to the server code.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@449861 13f79535-47bb-0310-9956-ffa450edef68"
53e437e23601738d4916ba254b87b07239d068db,"Add a method for transfering the buffer to another channel (similar to FileChannel.transferto)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@451367 13f79535-47bb-0310-9956-ffa450edef68"
6dea94dc2565726a6d2f6c26f806200e86cf0495,"Rename model.IRI to model.IRIElement in preparation of integrating the new IRI impl code

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@451368 13f79535-47bb-0310-9956-ffa450edef68"
fba928104d5c9f9369468785d49738565436214a,"Oops, IRISyntaxException wasn't public

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@451369 13f79535-47bb-0310-9956-ffa450edef68"
a7724f57b1ed9f7e36f7b511e06e7dbc231182d4,"Big update.  Replacing URI with the new IRI implementation in the core package.  Everywhere in the API
where URI and URISyntaxException was used now uses IRI and IRISyntaxException.  The IRI impl is largely
a drop in replacement for URI with with similar, and in some respects identical methods to java.net.URI. 
The number of classes affected by this update is too large to list here in the summary.  

The IRI/IDNA/Unicode test cases have been added to the core test suite and all of the test cases are 
passing... at least on my system :-) 

Please please please run your own tests.  The Unicode and IRI implementation is brand new and largely 
untested beyond our own limited test suite.  We need to exercise this code thoroughly to make sure it
is working properly.  Test even the most basic URI stuff as the IRI impl contains it's own new IRI/URI
parsing code that could very well contain bugs.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@451450 13f79535-47bb-0310-9956-ffa450edef68"
1fc9fb34ad6b128b8eceeac9e5f26df078cd1ab0,"whoops, forgot one

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@451458 13f79535-47bb-0310-9956-ffa450edef68"
9b0d7411403781e9040b1dd1871cb53d7f1035dd,"Make the ChangeControlParser work on 1.4 JVMs.

Submitted by: Steven Isaacson <spisaacs gmail.com>

[ in protocol/src/main/java/org/apache/abdera/protocol/util ]

* CacheControlParser.java
  (select): Use String.replaceAll, not String.replace, since replaceAll
   exists in Java 1.4.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@452065 13f79535-47bb-0310-9956-ffa450edef68"
22033c4b00f724221e4c1a49f6bfd977337f7436,"Explicitly set the charset 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@452084 13f79535-47bb-0310-9956-ffa450edef68"
d8b43715781f48aac2596610b88be69f19ca2913,"Ok, *hopefully* this will fix the issues Ugo and Garrett are seeing with the IRI code.  Please test
and let me know.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@452169 13f79535-47bb-0310-9956-ffa450edef68"
16fd1657d7733f01424d3df36651282c35cb6f58,"More stinkin' charset issues.  the badchars test fails depending on what the default charset of the JVM is.
Hardcode the char codes instead of relying on the JVM to figure it out.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@452174 13f79535-47bb-0310-9956-ffa450edef68"
d94c0455ec8f1e8c746be76594a25fb66bcb2b55,"Silly bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@452232 13f79535-47bb-0310-9956-ffa450edef68"
6580b907df3b9abe21dfbc91fff42beaee6c6fd6,"Resolution for http://issues.apache.org/jira/browse/ABDERA-9

This is largely a patch up.  We will need to revisit this (and the IRI parsing code in general) to ensure
that it can work with as broad a range of IRI/URI schemes as possible.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@452589 13f79535-47bb-0310-9956-ffa450edef68"
24b405d7ce0afcd2fe8eb4b7570fe148522a1b9f,"Much better IRI parsing based on the regex given in RFC3986.  This should make the parse more efficient
support for non-typical URI schemes much easier and more robust.  All the tests still pass (at east on
my machine).  Please give the IRI test cases a run through to ensure that no new charset issues have
crept up.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@452619 13f79535-47bb-0310-9956-ffa450edef68"
c3d7db8480a5e86653c4fbc75c9aefae4a61736f,"Add a test for various uri schemes

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@452626 13f79535-47bb-0310-9956-ffa450edef68"
3f3ec408e6706f6cb20037085eaea28181afc320,"Additional bidi support designed to make it easier to work with bidi strings.

For instance, if you'd like to insert right-to-left plain-text characters in the title of an entry,
you can do so using:

  entry.setTitle(CharUtils.bidiRLM(""text with right-to-left characters""));



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@452642 13f79535-47bb-0310-9956-ffa450edef68"
660e0a204d3f0b0b3878f2210bc62a422266c6de,"Initial support for Mark Nottingham's Feed History specification. The current draft has entered last-call
status making it important to get some interop testing done.  This code does not perform reconstruction
of feed state but it does provide easier access to the various extensions and relevant links.

(http://ietfreport.isoc.org/all-ids/draft-nottingham-atompub-feed-history-07.txt)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@452996 13f79535-47bb-0310-9956-ffa450edef68"
35a617afcadde78f9b10172e669853f804fc7a35,"Applying the patch provided by Ugo Cei. (http://issues.apache.org/jira/browse/ABDERA-10)

This allows us to specify whether to use chunked encoding via the request options.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@453378 13f79535-47bb-0310-9956-ffa450edef68"
196331e92ace69f2ea21832696faf586a60d1220,"There are some inconsistencies in the way various GData services implement the GoogleLogin scheme. Blogger,
for instance, will return the Gdata service name in the auth challenge while Calendar does not.  This means
that we need to pull the service name from the GoogleLoginAuthCreds when we're using Calendar.  It also 
means that we cannot use the UsernamePasswordCreds when using Calendar.  I'll come up with a better 
solution for this later.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@454073 13f79535-47bb-0310-9956-ffa450edef68"
18b0768add1806186b226a73914652529b81c50e,"[ In examples/src/main/resources/org/apache/abdera/examples/appserver ]

* web.xml: Replace tabs with spaces.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@463797 13f79535-47bb-0310-9956-ffa450edef68"
75de569b9da35bafb86f73ebbbcbb19adc5adc48,"Cache the parsed document

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@464603 13f79535-47bb-0310-9956-ffa450edef68"
7f3c944c61f9bfeabde3b93b33c1aab13b7efcd9,"Initial preliminary checkin of bidi support.  BidiHelper can be used to determine the directionality
of text in a feed based on the presence of a dir attribute (in a variety of namespaces).

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@465012 13f79535-47bb-0310-9956-ffa450edef68"
3f24b16bceed841124fa4bef9019510cc37fcdba,"In the current draft of APP, app:modified became app:edited

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@465078 13f79535-47bb-0310-9956-ffa450edef68"
973793f0b260c889896457a9e741c644ec3f2fce,"Fix an odd compile problem in the Feed History extension.  I have no idea
why this isn't working, and I can only assume it's some weirdness with the
generics implementation in Sun's javac.

[ in extensions/src/main/java/org/apache/abdera/ext/history ]

* FeedHistoryHelper.java
  (setComplete, setArchive): Put the Element into an explicit variable
   to avoid weird compile error.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@466166 13f79535-47bb-0310-9956-ffa450edef68"
da9edce4862b83cb3f13707c74b314610b628d3a,"Add a new test for some concurrency issues that show up in 0.1.0 but are
fixed in trunk.

Submitted by: Ugo Cei <ugo apache.org>
              (Tweaked by me.)

Issue: ABDERA-12

[ in parser/src/test/java/org/apache/abdera/test/parser/stax ]

* ConcurrencyTest.java: New test.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@466167 13f79535-47bb-0310-9956-ffa450edef68"
b622b8bb75e726d153264aeff6d5d987a306ce7a,"The interface wasn't marked as being clonable.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@466232 13f79535-47bb-0310-9956-ffa450edef68"
1e5c744eff48171eff77199c542fa18c9a056715,"Adding some convenience shortcut methods.  These make it a bit easier for folks creating feeds and entries.

instead of:

  Abdera abdera = new Abdera();
  Feed feed = abdera.getFactory().newFeed();

it's: 

  Abdera abdera = new Abdera();
  Feed feed = abdera.newFeed();


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@466246 13f79535-47bb-0310-9956-ffa450edef68"
4c7b5eeae9057f7da686ff9c1bfe33a3e2d9f438,"Javadoc enhancements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@466248 13f79535-47bb-0310-9956-ffa450edef68"
1524aa1c32beff3aaea17c8e78144e324c89a808,"Javadoc improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@466298 13f79535-47bb-0310-9956-ffa450edef68"
d7aa2a33265625c92382d436fb66a6e34f76cb84,"http://issues.apache.org/jira/browse/ABDERA-13

From Ugo Cei:

  The following code from CommonsClient.java:

  122: options.setIfNoneMatch(cached_response.getEntityTag().toString());

  throws an NPE when running tests because cached_response.getEntityTag() returns null. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@467039 13f79535-47bb-0310-9956-ffa450edef68"
0d457ffe776b4ba1730f8a9f637c93b1d556b23f,"Download the bouncy castle provider during the download as suggested by Ugo Cei.  I didn't use Ugo's
patch because I did not want to introduce a Maven dependency in the Ant build, at least not right now.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@467395 13f79535-47bb-0310-9956-ffa450edef68"
db8ea6396dbd2d24819b7e84357449039205182d,"Apply Ugo's patch to download bouncycastle in maven (https://issues.apache.org/jira/browse/ABDERA-15).

Note: there is a version discrepency.  The Ant build uses version -134, maven uses -124.  I'm not sure if
the newer version is available in the Maven repos or not.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@467399 13f79535-47bb-0310-9956-ffa450edef68"
309de7cd12ecc5cd94bca1c9621abf8dc3bcbe52,"Update Javadocs.
Remove unnecessary throws statements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@468540 13f79535-47bb-0310-9956-ffa450edef68"
5ded3791db854fd15a4bca6d3d1059e77f335bb7,"Javadoc improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@468558 13f79535-47bb-0310-9956-ffa450edef68"
0f4880e3983c4a27e4fdfea06fa0935002efa4c8,"Javadoc improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@468560 13f79535-47bb-0310-9956-ffa450edef68"
e586623d822266e82ea01047fc3933b7cdc2f139,"Javadoc improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@468562 13f79535-47bb-0310-9956-ffa450edef68"
20c4c568ffd02bba63ff6d34da57839301d99257,"Add a method for explicitly declaring XML namespaces on an Element

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@468593 13f79535-47bb-0310-9956-ffa450edef68"
19c8bdb557a43b9c497cb35154027e03fb27e8ee,"Ok, that was my duh moment for the day. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@468594 13f79535-47bb-0310-9956-ffa450edef68"
9c4910ea81ae8de4d172bb93768d66279fbf33c8,"OpenSearch v1.1 feed extension element implementation.  This demonstrates an alternative approach
to handling extension elements that is independent of the underlying Axiom implementation. The 
other OpenSearch v1.0 stuff should be refactored to match this.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@468598 13f79535-47bb-0310-9956-ffa450edef68"
4b5ae5c1e80cd0a7907b44c917e8bd6c32b06e69,"Revised Extension model that allows extensions to be developed based on a wrapper/delegation model that
is decoupled from the underlying parsing infrastructure.

 * Add ElementWrapper and ExtensibleElementWrapper to the model APIs
 * Modify ExtensionFactory to return an ElementWrapper for a given Element
 * Modify FOMBuilder and FOMFactory to use the new ExtensionFactoryMap
 * Modify the Feed Thread and OpenSearch extensions to use the new model
 * Add a new extension sample

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@469180 13f79535-47bb-0310-9956-ffa450edef68"
72790591c978ed56c6c10958feb407fadc978f8f,"Remove the org.apache.abdera.ext.opensearch.impl package, it's now empty.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@469290 13f79535-47bb-0310-9956-ffa450edef68"
acca43145fb3aecd02094d1e87092a1bc484fa97,"Make the new extension code build on Sun's compiler.  Have I mentioned
lately how much the differences in generics support between the Eclipse
Java compiler and the Sun Java compiler annoy me?

[ in core/src/main/java/org/apache/abdera ]

* model/ExtensibleElementWrapper.java: Add necessary casts to T.

* model/ElementWrapper.java: Ditto.

* factory/ExtensionFactoryMap.java: Ditto.

[ in parser/src/main/java/org/apache/abdera/parser/stax ]

* FOMDocument.java: Ditto.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@469295 13f79535-47bb-0310-9956-ffa450edef68"
9de2997147caa0bbfdff22f0b9f009cf71637af8,"Better diagnostics. Stack trace is output and logged.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@470891 13f79535-47bb-0310-9956-ffa450edef68"
6e168d037d7d911789fdc090a04208dd68d7293d,"Log objects returned by ServiceUtil for debugging the configuration.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@470892 13f79535-47bb-0310-9956-ffa450edef68"
8bfa738e864b2d85b0a677a3f7ac6186920b1f84,"Server depends on JCL.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@470901 13f79535-47bb-0310-9956-ffa450edef68"
7d9d083bdc7db0602000eaf1400a4644d0b6c1dd,"Pull out TextFilter. This is something we can add back in fairly easily later if it becomes useful.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@470973 13f79535-47bb-0310-9956-ffa450edef68"
8399f5b4361ad139b9c5eeb086ebfa418913bb92,"Minor update. Provide a method for setting the value of the dir attribute and updates to javadocs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@471001 13f79535-47bb-0310-9956-ffa450edef68"
558435d973b914042ac1bb3b08375a30c083a5f8,"The Feed History spec has been renamed to ""Feed Paging and Archiving"". 
Rename the FeedHistoryHelper appropriately.
Add some javadocs
Plug the junit test into the test suite

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@471003 13f79535-47bb-0310-9956-ffa450edef68"
a1ab95f3de1508169736cbd75903ee0d05f7f988,"Consolidating the Feed Thread interfaces / impl classes.
Adding a simple Feed Thread test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@471008 13f79535-47bb-0310-9956-ffa450edef68"
553a8aefcaf3c696aa19f09ab36531fe748a5868,"impl package is empty

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@471009 13f79535-47bb-0310-9956-ffa450edef68"
9dd073037d14310581733a9b9e7797b260e77bde,"Javadoc improvements
Add the ability to list additional references in the digital signature

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@471019 13f79535-47bb-0310-9956-ffa450edef68"
a658739b7dc26a154ddc21d625572448d050914d,"Javadoc improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@471036 13f79535-47bb-0310-9956-ffa450edef68"
2f2a733d5b86a76971de1c149e1f559850e0145b,"Let's give this a shot.  In previous testing I'd noticed problems with the commons client losing headers
after releasing; however, I haven't been able to duplicate those results and things seem to actually be 
working rather well.

The AutoReleasingInputStream will release the HttpMethod as soon as the InputStream has been read fully

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@471048 13f79535-47bb-0310-9956-ffa450edef68"
8aad28061068fa0d0f9f0b940a8a55b4edef5e91,"Use the commons http client's browser compatibility mode for cookie handling.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@471052 13f79535-47bb-0310-9956-ffa450edef68"
998d795bd00823fad9a1a22e33a20c15ab7f349e,"Don't swallow exceptions without at least logging them.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@471718 13f79535-47bb-0310-9956-ffa450edef68"
c88ab655ef76954043a4a0ddc00b1840aa4da361,"Test case for ABDERA-22.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@471722 13f79535-47bb-0310-9956-ffa450edef68"
34373548b60496f043d88b07f73cea3532f6cfe7,"Expected value should always be first argument in assertEquals.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@471746 13f79535-47bb-0310-9956-ffa450edef68"
491f2fe41a7771811ac95cc8adbc28f589df0c09,"Fix ABDERA-22, calling the Parser#parse(Reader r) method without passing in
a base argument always throws a NullPointerException.

[ in parser/src/main/java/org/apache/abdera/parser/stax ]
* FOMParser.java
  (parse): Don't pass a null base into IRI's constructor, instead recognize
   it and pass a null base IRI into getDocument.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@472152 13f79535-47bb-0310-9956-ffa450edef68"
1c47699ecad7edcede45ab73e0eec5a8a5c3c63c,"Fix hangs in client tests.  This is based on Ugo's initial patch, but rather
than just sticking a response.release() whenever we were done with a response
I went a bit further and used try/finally, as you would expect a real caller
to do.  I figure having our tests match the style a real client would use may
inspire us to find a better API ;-)

[ In client/src/test/java/org/apache/abdera/test/client/app ]

* AppTest.java
  (testAppClient): Apply liberal doses of try/finally in order to ensure
   that responses are released before returning.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@472298 13f79535-47bb-0310-9956-ffa450edef68"
7666f6831b2e0e3f445513679f572231b44fcaf6,"Fixing Javadoc as reported by Andrei Filimonov.

thanks Andrei!

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@472562 13f79535-47bb-0310-9956-ffa450edef68"
44829d3407eabdd1b422ad6d301669d7e5fcd790,"Add the ability to toggle debugging in the ant build, defaulting to on.

* build/build.xml: Pass a debug parameter in to all javac invocations.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@472759 13f79535-47bb-0310-9956-ffa450edef68"
522f3a1935d5b3e5d0c8cdb6a96e1b3b9a2b5542,"An implementation of the Yahoo Media RSS extensions.  I put these together as a proof that RSS
extensions work just fine within Atom.  These also demonstrate how simple it is to use the new
enhanced extension stuff.  These were put together in less than about two hours.  Expect some 
bugs as I haven't fully tested everything yet. I'll check in some test cases tomorrow.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@473189 13f79535-47bb-0310-9956-ffa450edef68"
4e8f23c752a9414d70dcc5013c972b01ca62ff54,"MediaRSS extensions test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@473429 13f79535-47bb-0310-9956-ffa450edef68"
91ecc6c104c66d39ffe09ac26c09301ff63b8c38,"A place to keep track of known issues with the distribution.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@473434 13f79535-47bb-0310-9956-ffa450edef68"
9c1785b4097b9fa1be8a406ad903c8ffd38d2f81,"Improved Javadocs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@473441 13f79535-47bb-0310-9956-ffa450edef68"
8bee1cd05443b71675b32cda7b12c2c4c00fdf3a,"Fixing a silly build bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@473457 13f79535-47bb-0310-9956-ffa450edef68"
57562b151902b6e1d061218af5ac755908ed8bd3,"Ignoring a the bouncy castle jar

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@473458 13f79535-47bb-0310-9956-ffa450edef68"
70e9e28b3f9449b73e2c878dc77811ee9a2ff390,"Specify a namespace prefix for the feed paging extension

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@473465 13f79535-47bb-0310-9956-ffa450edef68"
147d6c46165b6dfa0ab92bcaff5b0672c4d71a84,"ExtensionFactory should not return a null

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@473466 13f79535-47bb-0310-9956-ffa450edef68"
d84e30dee24971738c5ecf8891a356becf71e3da,"Add media test to suite

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@473467 13f79535-47bb-0310-9956-ffa450edef68"
805d0c683747e3843eb706c2d97b9ded27d5bbdb,"Add a null check to ExtensionFactoryMap to defend against misbehaving ExtensionFactory implementations

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@473468 13f79535-47bb-0310-9956-ffa450edef68"
da8e855204177ec5c6e922fd73945124d758d4a6,"Sometimes it's entirely too simple to do really silly things. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@473469 13f79535-47bb-0310-9956-ffa450edef68"
104c4d614e9cb46f50ea1d6e8ca20f738ead76a3,"Fix for https://issues.apache.org/jira/browse/ABDERA-20

The problem is that FOMParserOptions was creating a new Factory instance rather than using the default
instance.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@473486 13f79535-47bb-0310-9956-ffa450edef68"
22ac25be688c72e5e54870edf98543c6aa27e3d5,"Pull out the referenced resource test until we can put together a more reliable test
(this was failing for Ugo)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474442 13f79535-47bb-0310-9956-ffa450edef68"
a54300fc32d960148486592468d4f4cb3bf02271,"Adding security tests to the build.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474501 13f79535-47bb-0310-9956-ffa450edef68"
9ecc4ea1390fee735ddfda4fb1b673cad3454f73,"getting rid of an extra space

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474506 13f79535-47bb-0310-9956-ffa450edef68"
541b76437709d41f13710b769bb18fccf80d9c79,"Need to init the crypto provider in a way that doesn't bind us to any particular provider at compile-time

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474510 13f79535-47bb-0310-9956-ffa450edef68"
215ec57b89254de1a1762cf743fac9396b04171e,"Making sure that the security tests pass

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474516 13f79535-47bb-0310-9956-ffa450edef68"
c5dc6bed985d825b7424f71168ef67ef0b52efb3,"Add the examples to the distribution zip.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474583 13f79535-47bb-0310-9956-ffa450edef68"
7e8d71a3e4e8f77b146022af7fa38ef96bb2e0cf,"Fixing a bunch of Javadoc errors

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474587 13f79535-47bb-0310-9956-ffa450edef68"
855e603f7bff68f01b5d3a8416956f6f9a4e114a,"Clarifying comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474590 13f79535-47bb-0310-9956-ffa450edef68"
97d0893d71eb1a4fdb6f25154c5e762eebdf2003,"Use factory.newUuidUri() instead of using FOMHelper

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474591 13f79535-47bb-0310-9956-ffa450edef68"
19810a60cca00976b50f4e0a39e9b5813ee2105f,"Whoops. eliminate unused import

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474592 13f79535-47bb-0310-9956-ffa450edef68"
6b8a4912875db251c477fddcfbe70cc0b3dba14d,"Simple example showing the dynamic extension API

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474606 13f79535-47bb-0310-9956-ffa450edef68"
031352b72225fc9cdd7588ace6fb25d4a3745f28,"Clarifying docs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474607 13f79535-47bb-0310-9956-ffa450edef68"
dbc6f5082abd6db1b3ffacb9bfa46c9b1eb0be04,"Add simple security examples

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474614 13f79535-47bb-0310-9956-ffa450edef68"
2fb766781b92d3bb2ed8058ea4fe35dd2e928f40,"Atom publishing client examples from a recently published developerWorks article

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474644 13f79535-47bb-0310-9956-ffa450edef68"
0e95c02092b627d782d35f974ccc44b50fbc2cb0,"Examples now depend also on security and extensions. Fix maven build.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474715 13f79535-47bb-0310-9956-ffa450edef68"
b7a0cfe811fdada95592cfebf7fa8ffb8c5d7c71,"Don't depend on test classes from other modules, as this will break the Maven build.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@474716 13f79535-47bb-0310-9956-ffa450edef68"
f7e0e12622869a1937a2c74f504215e71a57be6d,"Fix for the example build issues
Update the Ant build so that the example code is confirmed to compile

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@475052 13f79535-47bb-0310-9956-ffa450edef68"
f4be0113e692db161a9805311790d796c44e0f71,"We don't need to ship all of the jars

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@475083 13f79535-47bb-0310-9956-ffa450edef68"
7a0f9283dd82009f2ebc128926d928e5a26bdc36,"Add the json and xmlsec license files (trunk)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@475834 13f79535-47bb-0310-9956-ffa450edef68"
c375df3acea88120af7ff4ecb845413bcd51b18e,"Eclipse created this file with the executable bit set for some reason

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@475837 13f79535-47bb-0310-9956-ffa450edef68"
e15d7ae0886d1fdb2d25befab5c4c5d5ed7bdff0,"Exclude md5 files from the source zip
Remove md5 files when cleaning
(trunk)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@475838 13f79535-47bb-0310-9956-ffa450edef68"
cccfae75f6438a5625528ab80355ad92079f07fb,"Exclude security examples if abdera_xmlsecurity is not set
Generate the md5 checksums during the build
(trunk)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@475858 13f79535-47bb-0310-9956-ffa450edef68"
43ef0952a19eb35f33123249ae6392bd34c083e2,"Add the wstx.asl license and notice to the legal dir

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@475863 13f79535-47bb-0310-9956-ffa450edef68"
eeb514d57a2c44828ec3fc841d50a13c34155cf4,"No need to ship the feedvalidator.org test cases in the src image

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@475899 13f79535-47bb-0310-9956-ffa450edef68"
f806a23ee15c67497f7b1261c01f69034e8263b6,"* core/src/main/java/org/apache/abdera/util/iri/IRI.java: Add missing
  license header.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@476443 13f79535-47bb-0310-9956-ffa450edef68"
fd110778f78782b8992e9ebeb5461136fa635a5c,"Add some more license headers.  Thanks RAT!

[ in core/src/main/java/org/apache/abdera/util/io ]

*ReadWriteByteChannel.java: Add missing license header.

[ in server/src/main/java/org/apache/abdera/protocol/server/util ]

* AbstractSingletonProviderManager.java: Add missing license header.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@476448 13f79535-47bb-0310-9956-ffa450edef68"
b76f92e193b76e36060340964fd790a425b1ffd6,"* examples/src/main/ruby/parse.rb: New file, shows how to use Abdera
  to parse feeds from JRuby.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@476978 13f79535-47bb-0310-9956-ffa450edef68"
9fbfc7473cc9083461d727040f992e8a26809ef6,"http://issues.apache.org/jira/browse/ABDERA-23

Reported by Adam Constabaris

org.apache.abdera.test.iri.TestLang includes (implicitly) tests for the locale parsing routine 
initLocale() in org.apache.abdera.util.lang.Lang, but those tests check that the calculated 
Locale yields up certain hardcoded values that don't match the results obtained in the above 
environment.  This issue appears to affect both trunk and the .20 branch.

Using new Locale(""en"", ""US"", ca"") on Sun 1.5 and 1.6 JREs for Linux yields ""US"" for displayCountry, 
while the existing test checks for equality with the literal value ""United States"".

Proposed fix: it seems that the desired behavior is really that the intiLocale() method yield up 
the right Locale.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@477033 13f79535-47bb-0310-9956-ffa450edef68"
e6389c710dff322ac3c0fe54cf6a4fb8c5606f22,"Remove json source from the svn
Download and build json on the fly (ant and maven)
Don't ship the json source in the source zip

(trunk)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@477915 13f79535-47bb-0310-9956-ffa450edef68"
e3e9c1fc412cd7f342343c28e21ba71d2d10e680,"Ignore the autodownloaded json src dirs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@477921 13f79535-47bb-0310-9956-ffa450edef68"
901f88b891fb5df47d8fd487c7f7ef0382392d77,"Revised bidi code to sync up with http://www.ietf.org/internet-drafts/draft-snell-atompub-bidi-01.txt

This draft puts the dir into the Atom namespace.  Again, this is experimental and should not be used
for production code as it is still under discussion by the atom wg.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@477984 13f79535-47bb-0310-9956-ffa450edef68"
a3130dcf95f0a49fbb4aa3e7792c534c147e9b17,"Make sure the json pom.xml is in the source distribution (trunk)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@479707 13f79535-47bb-0310-9956-ffa450edef68"
18d37b7cf2ad98953f84b864e80dd16f3eb427ee,"public key was being included twice

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@481709 13f79535-47bb-0310-9956-ffa450edef68"
96c7e567023009a9417d687b106c44bb88dab2cf,"Adding an Encryption Filter.  Will encrypt an Atom document when a client cert with a 
RSA key is provided (e.g. SSL Mutual Auth).  

Fix the DSig impl so that the signing algorithm is configurable

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@482003 13f79535-47bb-0310-9956-ffa450edef68"
77bdc0d7cd440ebb718af4392439d04224464317,"Supporting SSL with Abdera client is a bit suboptimal right now.
This change makes it possible to register a secure socket factory capable of SSL Client Auth

  ClientAuthSSLProtocolSocketFactory factory = 
    new ClientAuthSSLProtocolSocketFactory(
      ""/home/jasnell/mykeystore.jks"", ""JKS"", 
      ""storepass"", ""TLS"", ""ibmx509"", null);
  CommonsClient.registerFactory(factory, 8443);
  CommonsClient client = new CommonsClient(new Abdera());
  Document<Element> doc = client.get(""https://example.org/test"").getDocument();
  ...

Assuming the keystore contains a cert trusted by the server, 
the factory will use it to do SSL auth as requested by the server.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@482291 13f79535-47bb-0310-9956-ffa450edef68"
b946bb705e19019fa1b0c9e413cbdad98df8b4dc,"Add a Diffie-Hellman Encrypted Response Filter. See the javadocs for details

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@482390 13f79535-47bb-0310-9956-ffa450edef68"
c3c6e08e89a1b9f4e2ee0fb548ca598b7b1dcc34,"Servlet filter that checks for valid XML DSig's in Atom documents PUT or POST to the server.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@482415 13f79535-47bb-0310-9956-ffa450edef68"
3a5628688ebed3f08e7d5ecab8d2966171997d64,"Corrected Maven distribution configuration

* pom.xml - Corrected the SNAPSHOT and release repository configuration in the distributionManagement section, based on input from Dan Diephouse.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@482821 13f79535-47bb-0310-9956-ffa450edef68"
3fdff595021339ab64cf3925df661ab5cf276d61,"Corrected Maven distribution configuration

* dependencies/json/pom.xml - Corrected the SNAPSHOT and release repository configuration in the distributionManagement section, based on input from Dan Diephouse.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@482827 13f79535-47bb-0310-9956-ffa450edef68"
12252375ed24f9c470f6c9e6abd29de3e486a645,"Updating trunk version numbers to 0.3.0-incubating-SNAPSHOT

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@482838 13f79535-47bb-0310-9956-ffa450edef68"
010b6b33b1d4a48b719cce559a89e55ff86b9c64,"Fix for http://issues.apache.org/jira/browse/ABDERA-24

Don't try to wrap a null.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@483191 13f79535-47bb-0310-9956-ffa450edef68"
430ae176ffcb96c5394f27d074a00f935528dbdd,"Updating to the latest bidi draft

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@483340 13f79535-47bb-0310-9956-ffa450edef68"
8a71e9b1850133781d437eb8329a33b70b6bd1db,"Fix for http://issues.apache.org/jira/browse/ABDERA-27

Doh! We also need to fix the branch and recut the 0.2.0 jars

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@486488 13f79535-47bb-0310-9956-ffa450edef68"
a23d28b606b0d0fb2bb665f22f9564e6a15ed9a9,"Add a test case to test for regression on ABDERA-227
Add it to the test suite
Turns out that ConcurrencyTest wasn't in the test suite either

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@486686 13f79535-47bb-0310-9956-ffa450edef68"
59120e4fe03c0ec305456b0fa33e74a55b464918,"Stupid inconsistent generics handling....  
Fix so it compiles with ant.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@486693 13f79535-47bb-0310-9956-ffa450edef68"
a5b0d9b4e628c94aa6c20b32469ee8da18865857,"* client/src/test/java/org/apache/abdera/test/client/JettyUtil.java
  (addServlet): Reverse argument names, to match actual usage and the
   definition of addServletWithMapping.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@488477 13f79535-47bb-0310-9956-ffa450edef68"
477ae6cb0c5c6546b66ea5cb2dbf02f8fce10f71,"Fix for https://issues.apache.org/jira/browse/ABDERA-30

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@488500 13f79535-47bb-0310-9956-ffa450edef68"
b789020268d0bc5dfcb76afe7f516bd53d1e4a78,"Test case for https://issues.apache.org/jira/browse/ABDERA-30

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@488502 13f79535-47bb-0310-9956-ffa450edef68"
f0836a4a33809131dd1ff6506ec3a789635495d2,"Fixing a NPE the occurs when getting a null simple extension

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@488837 13f79535-47bb-0310-9956-ffa450edef68"
7f1fc1136590d6a475b6cadeebdc2662a499e446,"Test case for simple extension fix

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@488839 13f79535-47bb-0310-9956-ffa450edef68"
358575edf8ef1e4bf2de7fb9216d75788d51d66b,"fixing a silly error when setting date headers. 
The code was missing an ""else"" clause

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@491139 13f79535-47bb-0310-9956-ffa450edef68"
b9a8049697f47164b8be23089bd40a00314f2922,"Test case for the RequestOptions set date header bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@491141 13f79535-47bb-0310-9956-ffa450edef68"
63880630c7fbb238a7df80b0ade1faebc1283d63,"Code cleanup
A couple of fixes
 * Setting the charset on InputStream reader wasn't happening correctly
 * Attempting to get the charset from the parser after parsing doesn't work with all stax impls


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@493105 13f79535-47bb-0310-9956-ffa450edef68"
1a481596c20426412c116b9b51cae73aa358cc3c,"Set the default charset detect to true

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@493106 13f79535-47bb-0310-9956-ffa450edef68"
915bbed70aa072be5e6c9cc209388279f406f9a4,"For some unknown reason, not all Stax parsers work consistently with Axiom's getText method implementation.
This overrides the axiom impl with one that will work consistently.  This currently duplicates the behavior 
we see when using the Woodstox and Stax Ref impl parsers.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@493109 13f79535-47bb-0310-9956-ffa450edef68"
8179993a4be6113508c17a0dd820f43f1dbffea8,"Cleanup on parsed document initialization.  Not all stax implementation allow accessing the doc charset 
and xml version properties after the first start element event has occured. we need to init the parsed doc
earlier.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@493112 13f79535-47bb-0310-9956-ffa450edef68"
0bd7d65a0c10f99aa7c76b46006d06914ab53740,"Move up to Axiom version 1.2.1
For some reason the Stax Reference Impl version we're using doesn't work properly with xml:lang and xml:base attributes.
(it outputs xmlns:lang and xmlns:base).  For now, I've removed the stax ref impl from the dependency chain (meaning that
we're using Woodstox by default).

Unfortunately, Axiom 1.2.1 jars don't seem to be available in the maven repo so, for now, I've uploaded them to 
people.apache.org/~jmsnell for our download process.

Axiom 1.0 had a bug that did not properly handle namespace declarations.  This is fixed in 1.2.1 so I commented out
the workaround.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@493154 13f79535-47bb-0310-9956-ffa450edef68"
6a38e83ad0fe4482c58d2b71d3eafc255a4e3c72,"fix FOMElement clone so that attributes and namespace declarations work

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@493164 13f79535-47bb-0310-9956-ffa450edef68"
6bbb658a62831fac77550255625712de4320413b,"Adding support for the new Atom media-type type parameter defined by:

  http://www.ietf.org/internet-drafts/draft-ietf-atompub-typeparam-00.txt

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@493177 13f79535-47bb-0310-9956-ffa450edef68"
d94fb42656028031715be82f2b30d90509ef117f,"* core/src/main/java/org/apache/abdera/model/Entry.java
  (setContentAsHtml): Fix JavaDoc error.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@496168 13f79535-47bb-0310-9956-ffa450edef68"
b7a3eac4e5eef8063116cfbdd03342c53ef3dca3,"Some cleanup and adding a test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503579 13f79535-47bb-0310-9956-ffa450edef68"
b05134f853fb230320b3076318b1d7d08e5efec7,"Hide constructors Abdera end users are not ever expected to use directly

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503582 13f79535-47bb-0310-9956-ffa450edef68"
248464368f9ad279e166d9ee88e0d0a9425725ff,"don't use a deprecated API

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503583 13f79535-47bb-0310-9956-ffa450edef68"
e914471bbaf64b0dc69dfdd7358a675bfb24fe5d,"Get xml:lang as a Lang object.
Add a test case for xml:lang

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503586 13f79535-47bb-0310-9956-ffa450edef68"
294ad676c85b73dbc2b3193cccb8c79987cc6e49,"Fix inconsistent method impl

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503587 13f79535-47bb-0310-9956-ffa450edef68"
2bd3f226339c5cb03ad421aa22336df0b0e9845a,"Minor cleanups

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503588 13f79535-47bb-0310-9956-ffa450edef68"
2e8401ef947001e611abbd6fd138bba5f0931d9d,"Fix for https://issues.apache.org/jira/browse/ABDERA-35

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503932 13f79535-47bb-0310-9956-ffa450edef68"
c236807cc2997cd5b5e6747bb1abc4ab38170028,"Minor cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503939 13f79535-47bb-0310-9956-ffa450edef68"
dae0aa0bb476fc0db3fdfd54f2f070a9a7f0c122,"I keep getting asked for examples showing base64 and xml content.
finally got around to adding them

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503945 13f79535-47bb-0310-9956-ffa450edef68"
6f3a2311a69ebccdf753a5f44ccce519f59c9b32,"minor cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503946 13f79535-47bb-0310-9956-ffa450edef68"
79f331dcc29bd193201834651a237593c84b9c09,"Add the gif image used in the base64 content example

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503947 13f79535-47bb-0310-9956-ffa450edef68"
4ccfa5ff84a2c42c1324b003fcb0139c72f58a8a,"Consolidating utility classes

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503948 13f79535-47bb-0310-9956-ffa450edef68"
23d309a4178a9bbf66de6652f883173f72ad824d,"Enforce an upper limit to the object pool used by the server implementation.
This ensures that new objects can always be created (the pool will never run dry)
but limits the numbers of pooled objects that are ever retained in memory.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503951 13f79535-47bb-0310-9956-ffa450edef68"
dcb16ca14a77515f5851bab1317360cbc3173b1c,"Remove our build dependency on test feeds that are only available online.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503980 13f79535-47bb-0310-9956-ffa450edef68"
6c73f3f0a73a02c3641be93106221332a9cec68f,"Cleanups

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@503981 13f79535-47bb-0310-9956-ffa450edef68"
84de77796ba4f91f8d9554c3d0d16e68b516bb58,"Updated axiom dependency version

* pom.xml - Modified dependencyManagement for new groupId and version of axiom api and impl
* parser/pom.xml - Modified axiom api and impl groupId to pick up new version
* extensions/pom.xml - Modified axiom api and impl groupId to pick up new version


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@504086 13f79535-47bb-0310-9956-ffa450edef68"
310547dfaba2596c45efdb460effe944c4ebb17c,"Adding change log and export notice to trunk

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@508845 13f79535-47bb-0310-9956-ffa450edef68"
284f305fcc274884ba466a206338a8971689fa37,"Forgot to update some version numbers.  Fix it before we cut the release

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@509252 13f79535-47bb-0310-9956-ffa450edef68"
bb09139af3cd949e47a8af31157509fde7b978cf,"Add method to access the HttpServletRequest
Do not create a new HttpSession by default.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@510083 13f79535-47bb-0310-9956-ffa450edef68"
0368c79a53b809feab3b44f0bb919dce2d9c54b6,"Although the GData documentation uses the header ""X-HTTP-Method-Override"", some client implementations have used
""X-Method-Override"".  For the sake of being lenient, let's check for X-Method-Override if X-HTTP-Method-Override
has not been set.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@510085 13f79535-47bb-0310-9956-ffa450edef68"
ecf53a9defab801ca2e69486f588d6150a665d5b,"Don't use string intern on the TargetType

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@510086 13f79535-47bb-0310-9956-ffa450edef68"
bcbfcd88daaa0ee1fbfa602764071467f8269ebb,"Allow the max size to be set on the PoolManager

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@510091 13f79535-47bb-0310-9956-ffa450edef68"
95eb03542f3ffd892f2a4bc0ba81e47a6db8412a,"Some code cleanups. Eliminate an unnecessary top level class.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@510094 13f79535-47bb-0310-9956-ffa450edef68"
9c42931eaf43139932daf3a6a08920943cd8d8ff,"* eliminate Provider.getInfo method. not necessary
* do not do http request precondition checking in the default request handler. 
  easier to do this in the Provider
* eliminate the ""full"" param on the Provider methods. Not useful
* refactor the default request handler to shift out some unused, likely not useful code
* eliminate the ResponseInfo interface. not used any more

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@510127 13f79535-47bb-0310-9956-ffa450edef68"
a9cc527a14bf620d6c35fc7f7bdd3e960d585916,"An abstract utility base implementation of Provider.
Provides a number of helpful utility methods that can make a Provider easier to implement

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@510257 13f79535-47bb-0310-9956-ffa450edef68"
86b4d9cc6ffa544115c09fe0701849afa6209288,"Better handling of the list of accepted media ranges

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@517335 13f79535-47bb-0310-9956-ffa450edef68"
c61e7e3b2d3692130c2b0f900b578379182376d6,"The media type for Atom Publishing Protocol service documents was changed

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@517339 13f79535-47bb-0310-9956-ffa450edef68"
0fd51d40450f766d0e902bdb30b08ca5ff99f455,"If app:accept is missing, it is equivalent to <accept>entry</accept>
An empty <accept /> means nothing is accepted

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@517348 13f79535-47bb-0310-9956-ffa450edef68"
283d730928e1e1e8eb853731bad221a07a27e64c,"Utility method for sanitizing slug headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@517358 13f79535-47bb-0310-9956-ffa450edef68"
98c3f43ac7427222881e1a417569c448b4f14d0c,"Do not encode/decode null values

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@517359 13f79535-47bb-0310-9956-ffa450edef68"
d83ba135fa6c566c417fa268de109da19491a7bc,"Get decoded slug in response

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@517362 13f79535-47bb-0310-9956-ffa450edef68"
3603d1cb8af8b5dfe25a00d0c6ee0edbefdd36e8,"add a method for decoding response headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@517388 13f79535-47bb-0310-9956-ffa450edef68"
8e9792530d3207244eea8cc081520294558d1234,"Simplify the etag impl a bit.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@517395 13f79535-47bb-0310-9956-ffa450edef68"
802f453887098d9d590afd32848dece39f4d3ef7,"Add a new mediaresponsecontext implementation
Pass the servlet context path in to the target resolver
Fix up more entity tag stuff
Fix some test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@517481 13f79535-47bb-0310-9956-ffa450edef68"
faea84e44faa98ec38c6759910cd8a0a5fbcd9ca,"Remove unused code

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@517482 13f79535-47bb-0310-9956-ffa450edef68"
6ec5141331619969d1a2ef798c6756716cf1b7e5,"Close a long standing todo to allow the accept element to contain media ranges whose 
quoted parameter values contain commas. e.g.,

<accept>text/plain, image/foo;test=""a,b,c"", application/bar</accept>

This still might not cover all of the hypothetical corner cases but it works.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@517976 13f79535-47bb-0310-9956-ffa450edef68"
3c52d23c440751800f5095b73dca51d884ed90b9,"fix a typo in the API and some simple formatting stuff

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@518039 13f79535-47bb-0310-9956-ffa450edef68"
0759091b0f9667414ae14d58f3c9c8f1518b9bed,"If the response has not been modified, use the cached version if it's available and if the user will allow it

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@518042 13f79535-47bb-0310-9956-ffa450edef68"
d37f22a9faf84461be1ca4e7f831b381f9008d54,"First step towards separating the IRI/IDNA/Unicode stuff off to it's own project.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@518464 13f79535-47bb-0310-9956-ffa450edef68"
4c7181d9af792d9b4f93c61e0b2b689d8ab5e780,"Not really supposed to have these in our svn in their original source form.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@518465 13f79535-47bb-0310-9956-ffa450edef68"
20532af3b26084060fbe59e954b6c024f0919e00,"From Adam Constabaris...

In the maven build, ""selectively disable unit tests that depend on external services""

https://issues.apache.org/jira/browse/ABDERA-39

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@518470 13f79535-47bb-0310-9956-ffa450edef68"
0797c0e9fb4316bbdf02419cef51c3aa47f22a7f,"Adding the server document contributed by Adam Constabaris (https://issues.apache.org/jira/browse/ABDERA-38)

Thanks Adam!

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@518473 13f79535-47bb-0310-9956-ffa450edef68"
1d1d2518633728ec171d1bb9cd4a09365482e48a,"Fixing https://issues.apache.org/jira/browse/ABDERA-40

""entry.getSource().getId() cast exception""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@518477 13f79535-47bb-0310-9956-ffa450edef68"
340ae695e1b1def1b4fc44965fba9d1d43a190a0,"The IRI class was failing on file:/// and notes:/// URIs

The querystring args should not be unescaped automatically.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@519186 13f79535-47bb-0310-9956-ffa450edef68"
8d641f51c6de0abcd1b41a69b98c1d0f35f444f9,"Remove unnecessary import

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@519187 13f79535-47bb-0310-9956-ffa450edef68"
683240c1ba26a303b7c700c6f84cfa91e842e58d,"Oops.... that should be Constants.Query and Constants.Path, not just path

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@519188 13f79535-47bb-0310-9956-ffa450edef68"
cbabbb847802542416eb38cfa34b872a61749e06,"Fixup some test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@519189 13f79535-47bb-0310-9956-ffa450edef68"
d1e88995ea463093033a9c7de7a554e742906ea9,"adding a test case for file:/// urls

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@519242 13f79535-47bb-0310-9956-ffa450edef68"
03cf56a7066e042ed2daf304feadb795ddff0399,"The params were switched

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@519841 13f79535-47bb-0310-9956-ffa450edef68"
bb131ed2134ee4fe228e88c28733debdbdcf847d,"The params were switched

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@519843 13f79535-47bb-0310-9956-ffa450edef68"
319a1f8122d714ae12b2be5768c8846a11d0ba16,"Initial implementation of the in-progress http://www.ietf.org/internet-drafts/draft-snell-atompub-feature-01.txt

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@519850 13f79535-47bb-0310-9956-ffa450edef68"
c19f1e744bc9de8537385f575d650875724df2de,"Marking a few static utility classes final and non-creatable

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@519851 13f79535-47bb-0310-9956-ffa450edef68"
8319648d5c864b342bdad81231d2f7a7c12a5721,"Adding the features extension factory

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@519852 13f79535-47bb-0310-9956-ffa450edef68"
adb2c619bf7fff2f153e46cf3de4ef79aa7f4590,"Oops. That really should be isRequired, not getRequired

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@519853 13f79535-47bb-0310-9956-ffa450edef68"
ee486df0e20b8aa79784fc678d0707b03c0d3361,"Add test case for the features draft

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@519854 13f79535-47bb-0310-9956-ffa450edef68"
48d0287a32af46d7d319df75926ab67e6c37e94e,"Updating the slug sanitization scheme to be a bit more sane.  

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@520451 13f79535-47bb-0310-9956-ffa450edef68"
50f3725655993c1234b6f80a92b9cefd4bcfdfd6,"Go ahead and allow a wider range of characters in the sanitized slug but don't allow a slug to contain any 
non-encoded URI gendelim characters

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@520460 13f79535-47bb-0310-9956-ffa450edef68"
ebe13f2495a68167d1dd0dca83d8c29102f4e13e,"Add new constant used by the slug sanitization
Remove an unnecessary import

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@520461 13f79535-47bb-0310-9956-ffa450edef68"
192bb3c12bdfdf92dd589076f36310d080b3412a,"Changed the very poorly named and nonsensical g14n package to a more appropriately and sensibly named i18n package

Also, fix a build bug from the recent changes to the slug sanitization code

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@521094 13f79535-47bb-0310-9956-ffa450edef68"
931b483320af3ee73d3cda61ed5a416c44b2410c,"2nd half of the i18n package rename. Get the unicode data files working again so the test won't fail

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@521114 13f79535-47bb-0310-9956-ffa450edef68"
f29df751c6e4f1ca61ab289403fb8773297550b5,"Ignore the unicode source data files

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@521115 13f79535-47bb-0310-9956-ffa450edef68"
bf4c71e47393a144b7c92aea36a81f42d1ae1353,"xml:lang Language context was not be propogated down to child elements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@522042 13f79535-47bb-0310-9956-ffa450edef68"
d7f3e9a935b9cd20a47adcd5b23e857fed626ce9,"Use the BCodec by default.
Allow users to specify B or Q encoding
Handle either encoding in decode

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@522043 13f79535-47bb-0310-9956-ffa450edef68"
eb426a6c5bf1db589a175f9c025cd80c06286d29,"Testing the B and Q encoding code

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@522048 13f79535-47bb-0310-9956-ffa450edef68"
c917e3480c988ebffb5b33b9359583e2eff39663,"Helper class implementation for the Atom License Extension draft

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@523379 13f79535-47bb-0310-9956-ffa450edef68"
f1175461f872012b5134e4dc2374d65ed920a205,"Some bugs....

getPort was using the local port instead of the port specified in the request...

getAttributeNames was not returning the right results for request scope vs session scope

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@523449 13f79535-47bb-0310-9956-ffa450edef68"
22ae3071d12f771550bde2915b6a1d76a194e1e9,"Utility method for creating a new randomized atom:id for a new entry...

e.g.

Entry entry = abdera.newEntry();
entry.newId();
...



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@523456 13f79535-47bb-0310-9956-ffa450edef68"
c4d6c625d7afd0c88e8acffb482554df67b8497b,"Fixing a bug on setContent(Element,mediatype) where the passed in element was not being properly set as the child
of the atom:content element. Thanks to Brian Moseley for pointing out the problem

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@524804 13f79535-47bb-0310-9956-ffa450edef68"
dcca703bbde9ae19c894fd2107b68230e5078901,"Throw a ParseException instead of OMException when dealing with invalid XML.

e.g.,

  entry.setContent(""<a><b><c d /></b></a>"", ""application/foo+xml"");
  
Used to throw an OMException.  Now it throws ParseException.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@524805 13f79535-47bb-0310-9956-ffa450edef68"
24025a897b183a3a2dcb3d6bc748b64dcbb15dcf,"Add a test to catch the setContent(element, mediatype) bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@524829 13f79535-47bb-0310-9956-ffa450edef68"
34e50fb6ec412193200c0fa6d014f5114da450a4,"Fixing a problem with the sniffing code. In certain cases, an error would be thrown for UTF-16/32 encodings that used the BOM

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@524839 13f79535-47bb-0310-9956-ffa450edef68"
c652f4de967cd1ea48d5c5ca3cae6565831e95b0,"Oops, missed one

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@524840 13f79535-47bb-0310-9956-ffa450edef68"
d6c1b85ae85c0066ff5a3ccda4c50dff7a70fce5,"Grrr.... these shouldn't have been changed

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@524841 13f79535-47bb-0310-9956-ffa450edef68"
c9d26d4b57349118b2d66f4884547ce255860f1a,"New method setContent(InputStream) to make it easier to work with Base64 encoded binary content
New method getContentStream() makes it easier to get Base64 decoded binary content
Includes a test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@524843 13f79535-47bb-0310-9956-ffa450edef68"
20bc99b12f645e9c1bdc96071faab174fc64a9b8,"Flip from using chunked encoding when sending requests to explicitly setting the content length.  Althought chunking
is the most efficient mechanism, most of the server implementations I've come across request that the content-length
request header be set.  Flipping this bit should make it easier to work with the most common cases.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@524848 13f79535-47bb-0310-9956-ffa450edef68"
0ab9d48beacfe1f7dd1ac33e5dda30dac651073c,"A simple and thus-far incomplete Editor client that abstracts away some of the more complicated details of working
with the client APIs for editing entries and media resources.

Example...

    Abdera abdera = new Abdera();
    Service service = abdera.newService();
    
    Workspace w = service.addWorkspace(""Test"");    

    Editor editor = new Editor(abdera,service);
    
    List<Workspace> workspaces = editor.getWorkspaces();    
    editor.setCurrentWorkspace(workspaces.get(0));
    
    List<Collection> collections = editor.getCollections();    
    editor.setCurrentCollection(collections.get(0));
    
    Feed feed = editor.getFeed();    
    List<Entry> entries = editor.getEntries();
    
    EntryEditor ee = editor.editEntry(entries.get(0));
    
    ee.getEntry().setTitle(""foo"");
    
    ee.save();
    
    ee.delete();
    

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@524977 13f79535-47bb-0310-9956-ffa450edef68"
c2c978d9e3693bb428015b3a6db119ec517fe632,"Move EntityTag into the core.
Get the Abdera instance from the factory

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@529080 13f79535-47bb-0310-9956-ffa450edef68"
66ab17a305f576164c44d43a87be842117f8413b,"i18n dep compilation was failing due to a missing classpath dependency

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@529083 13f79535-47bb-0310-9956-ffa450edef68"
bb7feb6e74fe867de90471ac1aa1f3100ff53bbe,"ServiceUtil was not passing in constructor args in certain cases
RegexTargetResolver was not using the contextpath in certain cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@529112 13f79535-47bb-0310-9956-ffa450edef68"
349e6ee112346013c03c754efccdae5ecdf787ae,"I hate silly bugs... especially when I'm the one who makes 'em.

Actually returning objects that we create is helpful.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@529118 13f79535-47bb-0310-9956-ffa450edef68"
f8a5d6813d1af18afc846a734e5b91f43307d115,"Minor fixes for the auth handling 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@530114 13f79535-47bb-0310-9956-ffa450edef68"
81a9d62a39fcfb684bba7f84a436463dceec8236,"Add the ability to select collections by the media types they support.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@530126 13f79535-47bb-0310-9956-ffa450edef68"
46e4c9045ba66136075a513dd906c171174d5285,"WSSE auth implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@530151 13f79535-47bb-0310-9956-ffa450edef68"
8c1fb4c64640bd45e6f1f75617e60c7ff25f438d,"Fix a NPE that I'm not sure would actually ever happen.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@530161 13f79535-47bb-0310-9956-ffa450edef68"
75ecb9460b3ce41f4021f16d59189663111c318e,"Make it a bit easier to register alternative auth schemes

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@530172 13f79535-47bb-0310-9956-ffa450edef68"
eb744a2b2b0e815e717e4a9075f4668f6d4dd603,"Some general improvements

* in the Document object, capture some of the entity headers from a request
* add the language and slug entity headers to the document element
* use the Content-Location header, if provided, as a basis for relative uri resolution
* set the slug header from the document, if provided
* add a method to ClientResponse to get the charset encoding for the request to use that in the parse
* changes to the features extension implementation to reflect an upcoming spec update
* resolve the base language from the Document object


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@530211 13f79535-47bb-0310-9956-ffa450edef68"
593a90d90648f936f0cdb0cee775f08bc03460c4,"Fix the test (remove the control)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@530875 13f79535-47bb-0310-9956-ffa450edef68"
15a1d2a957f02e40b7d86e483403d67d34c44713,"The APP spec is changing the definition of the <accept> header.
Instead of <accept>entry,image/*</accept>, it's going to be multiple
elements...

  <accept>entry</accept>
  <accept>image/*</accept>
  
It's also likely that the ""entry"" special value will be changed to the full entry media type:

  application/atom+xml;type=""entry""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@530895 13f79535-47bb-0310-9956-ffa450edef68"
54d508c6f6a76830d3463e19c407588f19842958,"* Additional modifications supporting the new accept element definition.
 * Utility methods to make it easier to work with entry and null accepts
 * A utility method for sorting entries by app:edited
 * A utility method for creating an app:control element on demand
 * Edit text and content elements in place rather than discarding and recreating them
 * Smarter declaration of namespaces when dealing with extensions

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@531297 13f79535-47bb-0310-9956-ffa450edef68"
bed01133f9f36fdbe9358596ce4317e5f9c63052,"Fix ABDERA-43, add build glue for the i18n component.

I added a dependency on geronimo-activation_1.0.2_spec to the i18n pom so
it would build and tweaked the whitespace and comments in the new build.xml,
other than that this is Adam's contribution.

Patch by: Adam Constabaris <adam@clownsinmycoffee.net>
Tweaked by: me

* dependencies/i18n/pom.xml: New file.

* dependencies/i18n/build.properties: New file.

* dependencies/i18n/build.xml: New file.

* core/pom.xml: Add dependency on abdera-i18n.

* pom.xml: Add the i18n module to the build.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@531309 13f79535-47bb-0310-9956-ffa450edef68"
30ed44cdfdd0c47de6b16b7b1eb9b115e1f9c15b,"* Remove no longer necessary resource files
 * Utility method to determine if app:categories is ""out of line""
 * New DateTimeWrapper and PersonWrapper classes so extensions can create derivatives of the Atom Person and Date constructs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@532147 13f79535-47bb-0310-9956-ffa450edef68"
2f883d6a1ad08c3d716bacc1d5db2ccea4281a56,"Synchronize puts to the extension wrapper hashmap

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@532150 13f79535-47bb-0310-9956-ffa450edef68"
98e0013a778eff6bc2572193e47a02a82ce8bdae,"Second attempt at improving thread safety on ExtensionFactoryMap.  Wrap the weakhashmap with a synchronized map and synchronize the 
iterations over the factories list

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@532373 13f79535-47bb-0310-9956-ffa450edef68"
eef86596bc915b9a7fed15e59b0de0acb616ae1f,"thread safety part 2. wrap the factories list using Collections.synchronizedList and do not expose the list directly to anyone else.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@532398 13f79535-47bb-0310-9956-ffa450edef68"
3117530eb58287be939e6df62f17b3d256bffc9b,"* acceptsNothing utility method on the Collection class
 * method to get a PI from a document.
 * cache a parsed AtomDate in FOMDateTime rather than recreating it on every call
 * do not declare the default namespace in parent elements
 * allow null prefix to be passed in to addExtension(namespace,localpart,prefix)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@533421 13f79535-47bb-0310-9956-ffa450edef68"
6021994a9814da10239f1608d9db3f316c8f5357,"Testcase for ABDERA-47

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@538542 13f79535-47bb-0310-9956-ffa450edef68"
e4f862dc4afeb74d1d229a4af21743256acf707d,"[ABDERA-47] Moved testcase to abdera-parser module so it can be run within Eclipse.
Fixed bug by specifying the correct encofing when converting between chars and bytes.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@538598 13f79535-47bb-0310-9956-ffa450edef68"
e60ce8c6de3d6d1e0dd2872106598506d38ce19a,"Copyright header

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@538599 13f79535-47bb-0310-9956-ffa450edef68"
043ad60a3e926fa71f1a0e40c60dad0f66a21850,"Fix build error: JSON files used to be copied to ""json/json"" folder but the class names are ""org.json"". This was putting Eclipse off.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@538936 13f79535-47bb-0310-9956-ffa450edef68"
203800619c1913129a6180f532865ea7fea298cc,"Check for null before causing an NPE.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@538942 13f79535-47bb-0310-9956-ffa450edef68"
72ecdfbd5a249eff1f47e487d52485e7fbe5f3f5,"Make actual mime types correspond to expected ones in tests.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@538943 13f79535-47bb-0310-9956-ffa450edef68"
0c587d335e3f033662b47e9cb74836d97762b77d,"Swap expected and actual values in assertion.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@538945 13f79535-47bb-0310-9956-ffa450edef68"
c82e8b9014fa917b50d3e1a9067656bcdf5403f8,"Added missing check for SERVICE type in TargetType#get method.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@539478 13f79535-47bb-0310-9956-ffa450edef68"
13a811920a25c003a820ee32128d8356ee693701,"The next draft of the APP spec (15) changes the Slug header to use pct-encoding instead of RFC2047.
This update accepts RFC2047 and pct-encoded headers, but makes it so that only pct-encoded headers are produced.

Also, throw an error when the forbidden LF and CR characters are used in the slug.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541071 13f79535-47bb-0310-9956-ffa450edef68"
d1c5cfb1f8b9f064b684a714c5687b1a2ddb72da,"Utility code for generating Etags using a MD5 hash of source material

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541101 13f79535-47bb-0310-9956-ffa450edef68"
4a7614ebaa68c3bb38b3abf5cc0366cc797cc37a,"Refactor IRISyntaxException as a RuntimeException. Remove a bunch of now unnecessary throws and catches

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541117 13f79535-47bb-0310-9956-ffa450edef68"
46d2dab805710c81161593b4db4eeb395622220c,"Fix for Maven build (contributed by Brian Moseley <bcm@osafoundation.org>).


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541284 13f79535-47bb-0310-9956-ffa450edef68"
717da418c7ee2c74f050a0bb1552965addd53497,"Remove unnecessary import

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541405 13f79535-47bb-0310-9956-ffa450edef68"
e40eef12abf1db9195a4edb9ab1d82f9f1dacaa9,"Fix for https://issues.apache.org/jira/browse/ABDERA-48

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541461 13f79535-47bb-0310-9956-ffa450edef68"
614a51879c85c1c2b0ceddc233d8d7ddec9eb5b2,"Fix for the encoding test from Adam Constabaris

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541472 13f79535-47bb-0310-9956-ffa450edef68"
9b4dfb930e432bd433d1f1764ae832f84a889e9d,"Updating the feature id's to match the current draft

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541698 13f79535-47bb-0310-9956-ffa450edef68"
a33cd130900e4f9e22bdd805b6fce41ecdd7dbb8,"Make InvalidLangTagSyntax a runtimeexception so we don't have to explicitly catch it everywhere

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541709 13f79535-47bb-0310-9956-ffa450edef68"
5a8c7b03fb39505ca1817476c7fd9de811834057,"Update spec reference

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541724 13f79535-47bb-0310-9956-ffa450edef68"
b4818de8d1deed33fabff5b1348bdc0d9f09671e,"Add direction guessing algorithms.  These provide generally reasonable results when the dir attribute has not been set explicitly.  There are three methods:

 1. Defer to Java Bidi analysis.
 2. Use the in-scope language tag or default locale (implemented by IE7)
 3. Analyze the bidi properties of each character (implemented by Snarfer)
 
In each case, the default is to defer to the dir attribute if present, otherwise run the guessing algorithm.
 
 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541726 13f79535-47bb-0310-9956-ffa450edef68"
f449c21b5de3faef8cc52cdc03dc235489037655,"Allow signing without a X509 cert. 
Add a method for associating a public key with the signature
Allow for verification of signatures without embedded keyinfo
Provide signing options for signing atom:link/@href and atom:content/@src targets
Allow filtering of signed atom:link/@href's by rel attribute value
Add helper method for retrieving lists of links for a list of rel attributes values


Example:

  public static void main(String... args) throws Exception {
           
    FileWriter fw = new FileWriter(""/media/store/www/test.dat"");
    fw.write(""testing"");
    fw.close();
    
    KeyPairGenerator keyGen =
      KeyPairGenerator.getInstance(""DSA"", ""IBMJCE"");
    SecureRandom random =
      SecureRandom.getInstance(""SHA1PRNG"", ""IBMJCE"");
    keyGen.initialize(1024, random);
    random.setSeed(System.currentTimeMillis());
    KeyPair pair = keyGen.generateKeyPair();
    PrivateKey priv = pair.getPrivate();
    PublicKey pub = pair.getPublic();
    
    Abdera abdera = new Abdera();
    Entry entry = abdera.newEntry();
    entry.addLink(""http://localhost/test.dat"", ""license"");
    
    AbderaSecurity absec = new AbderaSecurity(abdera);
    Signature sig = absec.getSignature();
    SignatureOptions options = sig.getDefaultSignatureOptions();
    options.setSigningKey(priv);
    options.setSignLinks(true);            // sign atom:link targets the atom:content/src target
    options.setSignedLinkRels(""license"");  // filter links so that only license links are signed
    entry = sig.sign(entry, options);      // the signature will not contain any key info
    
    // set the public key used to verify the signature
    options.setPublicKey(pub);
    
    // signature will be valid
    System.out.println(sig.verify(entry, options));
    
    fw = new FileWriter(""/media/store/www/test.dat"");
    fw.write(""foo"");
    fw.close();
    // signature will be invalid because the linked reference changed
    System.out.println(sig.verify(entry, options));
  }

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541743 13f79535-47bb-0310-9956-ffa450edef68"
f293d57b319b62a5580e05688e66841528ebc66b,"Method for retrieving the KeyInfo of an embedded signature
Helper class for working with java.security.Key stuff

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541747 13f79535-47bb-0310-9956-ffa450edef68"
ce7413a5fee0bc092c434aec65ab61072db79882,"Allow callers to pass in their own regex pattern for the santize function.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541758 13f79535-47bb-0310-9956-ffa450edef68"
909b2f6d8bf3f94cfbb138c6ada9beb2fe5c6aec,"Minor usability fix to eliminate the need to explicitly cast Writer and Parser

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541765 13f79535-47bb-0310-9956-ffa450edef68"
ea35b1255f48041f8e42e61b95b32a8bd098622a,"Support for the X-HTTP-Method-Override header.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541778 13f79535-47bb-0310-9956-ffa450edef68"
c2abb5aa6e7077a5ba56a3e84d0de07cd05edd49,"Disable the third party verifier test. The server appears to not be working

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541852 13f79535-47bb-0310-9956-ffa450edef68"
769ea5f0ec195e203f7a2abf1b93fc375397c873,"Update dependencies to the latest versions.  Tests appear to still be passing. Will continue to verify.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541853 13f79535-47bb-0310-9956-ffa450edef68"
296688da93821d1377f0642df2c4df94789402bb,"Update for the new version of httpclient

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541854 13f79535-47bb-0310-9956-ffa450edef68"
c97462487042f58a2a865bcec630477c7b2e7f44,"Update the bouncy castle dependency

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@541857 13f79535-47bb-0310-9956-ffa450edef68"
c2feec97470dfb4543812c601f49d34629d37f88,"Initial import of the RSS code.  This is a very incomplete implementation that I will continue
to flesh out over the coming weeks.  There is no build script yet; I will do that later this 
week as time allows unless someone else beats me to it.  So far the code is capable of parsing
reasonably decent RSS 2.0 feeds and partially parsing RSS 1.0.  There's still lots of stuff to 
do.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@542892 13f79535-47bb-0310-9956-ffa450edef68"
2defd2cc54a21219f7373bbfc1f2abc63e4303f2,"Initial import of the RSS code.  This is a very incomplete implementation that I will continue
to flesh out over the coming weeks.  There is no build script yet; I will do that later this 
week as time allows unless someone else beats me to it.  So far the code is capable of parsing
reasonably decent RSS 2.0 feeds and partially parsing RSS 1.0.  There's still lots of stuff to 
do.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@542893 13f79535-47bb-0310-9956-ffa450edef68"
e16cd9db3ef2ec05c4793af33b1c71ef1985eaf8,"Ignore eclipse artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@542894 13f79535-47bb-0310-9956-ffa450edef68"
f365107863f870e759bbc61f3a486589ea1b52df,"filling out more of the rss 1.0 support

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@545838 13f79535-47bb-0310-9956-ffa450edef68"
0cd169be059565ef1c62344f12e3f5e9541aad44,"Utility methods for retrieving a map of namespaces declared and a listing of all child elements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@545840 13f79535-47bb-0310-9956-ffa450edef68"
dab8f7bab7660c77bfb131efeb6f4dd977adbf9d,"getDateHeader patch submitted by Brian Moseley. thanks!

""fixes HttpServletRequestContext.getDateHeader to return null when 
the header is not present in the underlying request. previously it 
was returning the epoch date.""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@547102 13f79535-47bb-0310-9956-ffa450edef68"
6c900e523bba95ccccc7de5395df97dae6826fca,"Pass RequestContext in to ProviderManager so Provider selection can be conditional based on the request.
Patch provided by Brian Moseley. thanks!

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@547103 13f79535-47bb-0310-9956-ffa450edef68"
090c1406f940871354199adba8bc9ba1c9c69df0,"APP has an official xml namespace now: http://www.w3.org/2007/app

Because there are APP services in the wild using the old temp namespace, let's continue to recognize it for now when parsing.  
However, when creating APP documents, let's always use the new official one

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@547313 13f79535-47bb-0310-9956-ffa450edef68"
ce46af7d31cb88d31da3fc8a7111fe8ed58fbd58,"Support for xml:space=""preserve"".  By default, the parser will preserve whitespace in elements.  This adds a new option to ParserOptions to trim leading and trailing
whitespace off element text and attribute values.  This option will only have an effect if there is not an in-scope xml:space=""preserve"".

For instance,

  ParserOptions options = parser.getDefaultParserOptions();
  options.setMustPreserveWhitespace(false);

  Document<Entry> doc = parser.parse(in, null, options);
  Entry entry = doc.getRoot();
  System.out.println(entry.getTitle()); 
 
   // unless xml:space is specified, leading and trailing whitespace will be trimmed from the title
 


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@548134 13f79535-47bb-0310-9956-ffa450edef68"
abbf0bae82e208a51585852babf9333a3b019917,"Fix for https://issues.apache.org/jira/browse/ABDERA-49
As suggested by Ugo

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@548152 13f79535-47bb-0310-9956-ffa450edef68"
a3b87a9c8d834c1d396c8800571db831b0057624,"Updates to match a pending update of the features draft (should publish in a day or two)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@548231 13f79535-47bb-0310-9956-ffa450edef68"
62b971188b161a512a7f9bd10586249fd1ca27d1,"Tweak the default request options

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@550341 13f79535-47bb-0310-9956-ffa450edef68"
fca1f58f04ac75555a000287c5599886f17408af,"Helper method for removing invalid signatures from an entry.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@550343 13f79535-47bb-0310-9956-ffa450edef68"
db5ee88c875e09325ae31802269bd9b6500e88f7,"Switch to a vararg list

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@550617 13f79535-47bb-0310-9956-ffa450edef68"
13da1e709e39076888def40232facb1b71aaa4d2,"Bug fix.  Content setValueElement/getValueElement is not properly handling ElementWrapper instances

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@550691 13f79535-47bb-0310-9956-ffa450edef68"
9c1387145b6a30d9b98b6211083de6b7a360b55d,"Bug fix. Fixing the last bug made another one appear. getElementWrapper is not properly dealing with nulls

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@550693 13f79535-47bb-0310-9956-ffa450edef68"
8a4766057a63183b5b235168ea895ca6743b4af1,"Need a way of allowing Provider impl's to determine what role the authenticated user is in

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@550706 13f79535-47bb-0310-9956-ffa450edef68"
f90c6e3dd273ae84ef8cefa10509e2b7d6d25847,"Fix the test

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@550711 13f79535-47bb-0310-9956-ffa450edef68"
66145b938008f0d3a2f3199d89b17a6fde992602,"proper forbidden and unauthorized utility methods

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@550712 13f79535-47bb-0310-9956-ffa450edef68"
ef996b418fdfdf8a3aebdad3d5bceab9118b1fa0,"Deal with nulls on the generate method

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@550931 13f79535-47bb-0310-9956-ffa450edef68"
1c01d91a1fac6e0bc274fa131620617a977b7b96,"Set the entity tag if it's contained in the Document

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@550933 13f79535-47bb-0310-9956-ffa450edef68"
1a118df36a46c3277525d6c2607f2e3f3c515c25,"Add preconditionfailed error response

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@550937 13f79535-47bb-0310-9956-ffa450edef68"
f8d8e4ea6de83202fe54fbd2dda149faca29ea04,"Not modified should not contain a response entity

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@550956 13f79535-47bb-0310-9956-ffa450edef68"
1ab268da5ee324bc0feac205654100a1799ee69e,"support a setText(DataHandler) option.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@551069 13f79535-47bb-0310-9956-ffa450edef68"
2eb6995afca241ec02eceb930778cab910a46e11,"Exclude test suite

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@551280 13f79535-47bb-0310-9956-ffa450edef68"
f0a52c9dc7534d7bc16f288df186c2837decaa3d,"Patch provided by Brian Moseley. Fixes the not allowed response and adds a locked response

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@553708 13f79535-47bb-0310-9956-ffa450edef68"
ae4de32bf06965874a256b2aea032342175e13ab,"Refactoring of the server code and improvements to the security code

  * Refactor the service module packages to improve code organization and reduce the overall number of packages and interfaces
  * Give Provider implementations more control over how to route requests and the option to support new http methods (such as PATCH)
  * Additional utility methods to make server implementation easier
  
  * General improvements to the utility servlet filters in the Security module.
  * Initial (but still untested) support for encrypted requests

  * Initial (but still untested) support for gzip/deflate compressed responses... only useful, of course, when using a server that does 
    not support compression automatically

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555349 13f79535-47bb-0310-9956-ffa450edef68"
e7111a1fde93670fdd6997f72909ea999b479220,"Missed one. Have PoolManager implement ItemManager.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555352 13f79535-47bb-0310-9956-ffa450edef68"
927e45529a6eb23ca372c57917fe6ce289370e28,"Bug fix. DHContext is only cloneable if publicKey is null

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555372 13f79535-47bb-0310-9956-ffa450edef68"
0107c5be5a3eb250c864c42fc8197a49f8d0aa95,"Fixes to the updated encryption filters so that they'll actually work

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555396 13f79535-47bb-0310-9956-ffa450edef68"
7eea9d8e38c4338e5a6653453b264560e54ea0d9,"Make it easy to create a ClientAuthSSLProtocolSocketFactory instance

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555438 13f79535-47bb-0310-9956-ffa450edef68"
10039c5c2e555f1511380825092d7092feef0eff,"This looks like a big change but it's really not.  Previously we had an abstract class Client with a single concrete implementation called CommonsClient.
In the code, this would always look like:

  Abdera abdera = new Abdera();
  Client client = new CommonsClient(abdera);
  
Given that we currently only support the Commons HttpClient, having this distinction really does not make any sense.  This change combines the two classes
into a single AbderaClient class.

And while I know this will drive Garrett crazy, there is one additional change bundled in this set.  It is now possible to set a RequestOption so that a RequestException
is thrown when 4xx and 5xx is returned by the server.  This is disabled by default and allows client developers the ability to use explicit error handling.  I'll try 
to make this the last time I bundle multiple changes into a single commit.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555748 13f79535-47bb-0310-9956-ffa450edef68"
3624fc802460529fc05f20de19717fcfc9b90928,"New RequestOption to disable the use of Expect-Continue for individual requests

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555761 13f79535-47bb-0310-9956-ffa450edef68"
1df7f0cdba2cda74fbddf90bc8f943a184bfc24a,"Certain proxy servers return really wierd values for things like Age.  For instance, it appears that the WAS Edge Caching Proxy will return ""Age: -("" on occasion, which
is really not all that cool

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555780 13f79535-47bb-0310-9956-ffa450edef68"
3878abf07d25fb59583dda1f75110228c0f145d3,"Add the ability for ExtensionFactory instances to specify a mime type for extensions.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555825 13f79535-47bb-0310-9956-ffa450edef68"
2297547d8ccb6445762c36892367bffc49526c6f,"Utility implementation of an abstract ExtensionFactory. This will make it easier to implement ExtensionFactory instances in the future

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555826 13f79535-47bb-0310-9956-ffa450edef68"
508dd11113dcfcd2c10de458d15dd5cfef1799c0,"Additional improvements to AbderaClient

  * revalidation should send either If-None-Match or If-Unmodified-Since, not both
  * reorganize some code so it's easier to read
  * allow the maximum number of total connections and per host to be set

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555827 13f79535-47bb-0310-9956-ffa450edef68"
0da5bb061e6feff81b4be5a800722ac6a77ff989,"Bah... silly bugs.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555829 13f79535-47bb-0310-9956-ffa450edef68"
e3788f3c3fc6e0c5f08dc2d9d14ce01e2a6186d5,"Use the new AbstractExtensionFactory utility to simplify the various ExtensionFactory instances we ship

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555831 13f79535-47bb-0310-9956-ffa450edef68"
8a9a6efc3edc17ee571eb33c04b3ee8c7c5ecd7f,"Use the new AbstractExtensionFactory utility to simplify the various ExtensionFactory instances we ship.. missed one

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555832 13f79535-47bb-0310-9956-ffa450edef68"
fc8db40d71950543bee642d9f24ffc5e752bec91,"When using XML content, if the mime type has not been set on the atom:content, attempt to get the mime type from any of the registered ExtensionFactory instances

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555833 13f79535-47bb-0310-9956-ffa450edef68"
bee872e4eb77c64cbf687c463120c91666d7ffb1,"Eliminate some compiler warnings that are safe to ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555834 13f79535-47bb-0310-9956-ffa450edef68"
2f15ff265cf4f85babef41da480295a3348875b3,"No need to create a new MessageDigest instance for every instance

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555837 13f79535-47bb-0310-9956-ffa450edef68"
43d65540757006c69aa570c04980298d232ef90a,"Cache the most recently used cache keys so we do not have to create brand new ones on every request to the same url.  
It's a minor thing, but since we calculate an md5 digest every time we create a simple cache key, creating a new key
has a definite performance impact

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555842 13f79535-47bb-0310-9956-ffa450edef68"
5b2c197ccd5abf9047b347feb6a8f1ab04fe8ca5,"Undo a change that broke the caching

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555847 13f79535-47bb-0310-9956-ffa450edef68"
945768fec963f75eede9ff340e0aa0660c11860a,"Fix the caching tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555848 13f79535-47bb-0310-9956-ffa450edef68"
976793edb17475553b0d8201980a31b67b53b2b9,"I'm really starting to dislike MimeTypeParseException.
There's no real need to throw it here

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555875 13f79535-47bb-0310-9956-ffa450edef68"
2b32a032917a28666a7f926318304e9414550ad6,"Returning a List<String> does not really make any sense since the user is not going to ever have the ability or the need to modify the list.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555876 13f79535-47bb-0310-9956-ffa450edef68"
a45b205f6f9cc21ed0abf782610c15ddc65889c5,"Previously, this would generate the serialized output whenever
getInputStream was called.  If the base object changed between the time
the data source was created and the time getInputStream was called,
you'd see the modified result, but would take a performance hit when
serializing.  This change does the serialization (and the mime type lookup)
when the data source is created, allowing the getInputStream method to 
return pretty much immediately using the memory buffered serialization.

This also makes the data source threadsafe.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555879 13f79535-47bb-0310-9956-ffa450edef68"
ff26d31c0f09138d5d8bb41e71ca6284ca9a29ab,"A few basic implementation improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555880 13f79535-47bb-0310-9956-ffa450edef68"
81f71142533539ce0a63f494b7037ef0fc8fe873,"Remove an unused constant

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555886 13f79535-47bb-0310-9956-ffa450edef68"
bd917ff21ccd001c20aa621fdf5bfe79fbbe4e43,"Fix for https://issues.apache.org/jira/browse/ABDERA-50

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@555888 13f79535-47bb-0310-9956-ffa450edef68"
e85c9f9de08e75c48d61f99e24c6d3d8da47cd8f,"synchronize access to the shared MessageDigest instance

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@556220 13f79535-47bb-0310-9956-ffa450edef68"
19a3850606e59d68067a87bc84d0f1349b147f7b,"New example illustrating the basic use of the DHContext for Diffie-Hellman Key Exchange
based encryption

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@556355 13f79535-47bb-0310-9956-ffa450edef68"
86986875cb16a464c6b9effeb9f19bd991c1a23c,"Attempt to fix https://issues.apache.org/jira/browse/ABDERA-51.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@556648 13f79535-47bb-0310-9956-ffa450edef68"
62f48e5cb66ae0dce53f19bf6493c653e571adff,"Add a utility method for converting a Source into an empty Feed

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@556677 13f79535-47bb-0310-9956-ffa450edef68"
fea20f9841ebeea5736d68207b1b7efc4bc479a7,"Per... https://issues.apache.org/jira/browse/ABDERA-52

Provide a simple way of listing what ExtensionFactory implementations have been
registered with Abdera.

Example:

  String[] names = abdera.getFactory().listExtensionFactories();
  for (String name : names) System.out.println(name)
  


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@556726 13f79535-47bb-0310-9956-ffa450edef68"
c216dacc71a57178a8aa409308605c1d1381dd72,"DHContext needs to be unique to each session

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@556731 13f79535-47bb-0310-9956-ffa450edef68"
5c99936c91d2bb952a5a49cfdf0585836c8e1e8b,"Was finally able to duplicate the date parsing bug (https://issues.apache.org/jira/browse/ABDERA-44)
This appears to fix it.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@557495 13f79535-47bb-0310-9956-ffa450edef68"
60a63d155ddbd611e271471a5ee2255c54d2a208,"Change the default so that inherited licenses are returned

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@557496 13f79535-47bb-0310-9956-ffa450edef68"
e053ffd9dac212eb4c6e1d93427764429a5e6642,"Do not consider inherited licenses when adding the unspecified link

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@557497 13f79535-47bb-0310-9956-ffa450edef68"
071b5c539b2ca27b2236b79b2ab5752ab5e7dfca,"Do not consider inherited licenses when adding licenses

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@557498 13f79535-47bb-0310-9956-ffa450edef68"
41cf1afc5b7bdf37416aa85b473e50b353d422ca,"Update the link to the spec.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@557500 13f79535-47bb-0310-9956-ffa450edef68"
a3bd6fbe4272617540eb5e6303b8daa81a6072ce,"Add a feed paging test that ensures the qname prefix is handled properly

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@557502 13f79535-47bb-0310-9956-ffa450edef68"
341293aaa99e9c11641a79e8077f9b09d30cfef0,"One of the mildly annoying bits about the XPath implementation is that the selectSingleNode
selectNodes methods will return Axiom objects when an xpath uses the comment(), 
processing-instruction(), text(), and @attr queries.  While these are not likely to be used
extensively, this change hides the Axiom objects behind an Abdera facade.

e.g. 

instead of 

  OMText text = (OMText)xpath.selectSingleNode(""//a:title/text()"",entry);

we can do...

  TextValue tv = (TextValue)xpath.selectSingleNode(""//a:title/text()"",entry);
  

The one downside to this is that for it to work, Axiom requires us to change the value
of the default OMFactory implementation, which could be problematic when using Abdera with
other Axiom based software.  We want to play nice with other software packages, so we won't 
register the default automatically.  Instead, call FOMFactory.registerAsDefault() if/when
you're sure you want to use the TextValue class.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@557747 13f79535-47bb-0310-9956-ffa450edef68"
1869b7768ba7a6a50fafa63ff6db19d6ff753297,"Do not hide the exception if impl classes are not available

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@557795 13f79535-47bb-0310-9956-ffa450edef68"
d1311cc88cb13e8e3510a0a1ae13f57a197012c7,"While this is not used extensively, we really should have a means of externalizing 
strings for translation.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@557830 13f79535-47bb-0310-9956-ffa450edef68"
80c1ba9d53847afe7baadcd2977c1f6d5ffbfcf1,"Pass in the abdera instance to the Factory.newParser method as reported by 
Frederic Auguste on the user mailing list.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@559089 13f79535-47bb-0310-9956-ffa450edef68"
0f7c683c50d9ed9acaa95712b9ff7628432b73f2,"The XML parser has a tendency of dying when it comes across characters that are 
not valid within XML documents. Go figure.  Unfortunately, invalid characters 
tend to occur quite frequently in syndication feeds.  This provides us with the 
simple option of filtering bad characters out at the Reader level.  Filtering is 
disabled by default and enabled using a ParserOptions property.  The characters 
to filter will be automatically detected given the XML version being used. The
default is to assume XML 1.0

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@559700 13f79535-47bb-0310-9956-ffa450edef68"
27da10ba4f9e16056366e5c973bc4316186ef747,"This makes it possible to parse GZIP and Deflate compressed streams directly with 
Parser.  Previously, this was only supported via the Client module when parsing 
responses to requests.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@559718 13f79535-47bb-0310-9956-ffa450edef68"
0479e03b42528dc5dc7249902932e43f57d174ef,"Javadocs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@559721 13f79535-47bb-0310-9956-ffa450edef68"
ed0e05f754739ef78afd350216e56113a45c4911,"Remove unused deprecated methods

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@559728 13f79535-47bb-0310-9956-ffa450edef68"
20ca396440f5548662e411a6d97256e87eefba7e,"Remove unused import

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@559729 13f79535-47bb-0310-9956-ffa450edef68"
0ce4f701cf88d74a2d0a5fbfd719f53f614b783a,"Refactor the restricted char reader a bit.
Add a new WriterOptions mechanism that allows setting the charset encoding for serialized
output, the use of compression codecs when serializing to an OutputStream, and auto closing
of the stream or writer when the serialization is complete.

Example...

    Abdera abdera = new Abdera();
    Entry entry = abdera.newEntry();
    entry.setTitle(""1"");
    
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    WriterOptions writeoptions = entry.getDefaultWriterOptions();
    writeoptions.setCompressionCodecs(CompressionCodec.GZIP);
    writeoptions.setCharset(""UTF-16"");
    writeoptions.setAutoClose(true);
    entry.getDocument().writeTo(out,writeoptions);    
    out.close();
    
    byte[] bytes = out.toByteArray();
    
    ByteArrayInputStream in = new ByteArrayInputStream(bytes);
    Parser parser = abdera.getParser();
    ParserOptions options = parser.getDefaultParserOptions();
    options.setCompressionCodecs(CompressionCodec.GZIP);
    Document<Entry> doc = abdera.getParser().parse(in,null,options);
    
    doc.getRoot().toString();

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@559905 13f79535-47bb-0310-9956-ffa450edef68"
deb05864bafd83b7d051a610c4507d51d7ea0d6f,"Use the new CompressionUtil for the CompressionFilter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@559923 13f79535-47bb-0310-9956-ffa450edef68"
92aaf7a61e3af7cdddcc91eaed28818783630c32,"fix a bug. in certain cases, the reader would enter an endless loop.
If no chars were read, assume the stream has ended

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@560008 13f79535-47bb-0310-9956-ffa450edef68"
fcbcc4d80afa2d82e0572a64688634af3c527fc5,"fix the tests with DefaultServiceContext as reported on the user list

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@560015 13f79535-47bb-0310-9956-ffa450edef68"
82c7bdf504773ecf30d3e2d1f96863a25f2ea34e,"Bug fix

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@560090 13f79535-47bb-0310-9956-ffa450edef68"
b4a5ca4e8b71b6bd67711e2a20a3655622e49a75,"do not throw an error for now. need to reconsider what to do here -- throw an error or silently ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@560091 13f79535-47bb-0310-9956-ffa450edef68"
46e479fe8e1644306d126485b8e502f784b96a1d,"Basic support for geotagging extensions http://georss.org/1

  public static void main(String... args) throws Exception {
   
    Abdera abdera = new Abdera();
    Entry entry = abdera.newEntry();
   
    Point point = new Point(10.0,12.0);
    point.setElevation(12.0d);
    point.setRadius(5d);
    
    GeoHelper.addPosition(entry, point);

    System.out.println(GeoHelper.isGeotagged(entry));
    
    Iterator<Position> i = GeoHelper.listPositions(entry);
    
    while(i.hasNext()) {
      Position p = i.next();
      if (p instanceof Point) {
        System.out.println(((Point)p).getCoordinate());
      } else if (p instanceof Multiple) {
        System.out.println(((Multiple)p).getCoordinates());
      }
      System.out.println(p.getElevation());
      System.out.println(p.getRadius());
      System.out.println(p.getFloor());
      System.out.println(p.getRelationshipTag());
      System.out.println(p.getFeatureTypeTag());
    }
  }

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@560436 13f79535-47bb-0310-9956-ffa450edef68"
49243d90af1f3699feef261bad2b5922821e7e3e,"Disable the third party verification test

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@560500 13f79535-47bb-0310-9956-ffa450edef68"
70fc853bc4c2bdbe33257c0cd9f7ff44c694f80f,"Bug fix. There was a typo. To eliminate the chance of it happening again, simply refer to the isComposite method

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@560687 13f79535-47bb-0310-9956-ffa450edef68"
5131c001fa7400f86d79eb9524e35f6c356be8a8,"Updating dependencies.  All but three tests pass after doing this.  I'll be fixing
those three tests shortly.  Maven'ites will need to update the maven build to match
this.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@561045 13f79535-47bb-0310-9956-ffa450edef68"
fdb3cc9ee79deb3b313a66b4ad0a45ce55b1dc8b,"Bug in the logic for setting the max connections per host

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@561075 13f79535-47bb-0310-9956-ffa450edef68"
3ea530b3d5bc1a0e763064cfd148a528c1d1247c,"The new version of Jetty apparently does not like Expect-Continue

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@561078 13f79535-47bb-0310-9956-ffa450edef68"
cef1c23b0b99a0317922e96b66cc94214ca2b328,"Use retroweaver 2.0. we need some jdk1.4 users to help thoroughly test this.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@561100 13f79535-47bb-0310-9956-ffa450edef68"
b073834d9eef16080cfe302e4f1792afe980c1bd,"Use the EntityTag class in the Request/Response objects

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@561145 13f79535-47bb-0310-9956-ffa450edef68"
d6305769251c812c9f5beee130fefb781319aa50,"Heh.. forgot that we already had a parseTags method on EntityTag.  It was buggy 
anyway, tho.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@561147 13f79535-47bb-0310-9956-ffa450edef68"
1c668e0abd3494d83250c834d216d92d69a9471d,"General test coverage improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@561148 13f79535-47bb-0310-9956-ffa450edef68"
2287ec3f03eb0de3a5a3e2f65da468058b8b354d,"Sigh... silly bugs suck... especially when I cause 'em

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@561150 13f79535-47bb-0310-9956-ffa450edef68"
31f6fc499aef338f9e0de6ab65c7a8f9261d9601,"Sigh... silly bugs suck... especially when I cause 'em

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@561151 13f79535-47bb-0310-9956-ffa450edef68"
23edf4d9dced39d71cc1aa9de6b82e75f9b07432,"General bug fixes.  The logic for matching entry and feed documents was wrong

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@561172 13f79535-47bb-0310-9956-ffa450edef68"
91cf6eb0f296227c462b8a86cc9308ffde3a32e5,"Add test cases for core utility methods

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@561174 13f79535-47bb-0310-9956-ffa450edef68"
22fb2a489f4dd10ac21ff8be04aeecef9d8ca8d3,"Remove unnecessary import

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@561175 13f79535-47bb-0310-9956-ffa450edef68"
808c362b3dd657328ebd48efadfe55fefcf35350,"Updated dependencies for Maven build (thanks to Adam Constabaris <adam@clownsinmycoffee.net>).

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@562150 13f79535-47bb-0310-9956-ffa450edef68"
eb9fe6339893ea47c4f908c71faa435efc7a6215,"Use Accept-Encryption and Content-Encrypted headers instead of X-DH.
I'll update the AES filter to match later

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@562761 13f79535-47bb-0310-9956-ffa450edef68"
f4b464aef868cfd5c6cfc4d2b309a039e7712fdc,"There's no need to send the l parameter.  In fact, it's better if we don't

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@562791 13f79535-47bb-0310-9956-ffa450edef68"
c1c4a01ea5066c25d32094c73f672a50aef9bf5b,"Patch provided by Dan Diephouse in https://issues.apache.org/jira/browse/ABDERA-55
Makes it easier to configure AbderaServlet using Spring.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@563712 13f79535-47bb-0310-9956-ffa450edef68"
5819c0e22d048c76618e67a14b2e0e3f0d3554c9,"Fixing a bug in Collection as reported by David Calavera on the users list.

> the source code:
>     Collection users = workspace.addCollection(""Users"", USERS_URL);
>     users.setAccept(new String[]{""multipart/form-data"", ""entry""});
> 
> the output:
> 
>     <collection href=""/api/v1/users"">
>       <atom:title type=""text"">Users</atom:title>
>       <accept>multipart/form-data</accept>
>     </collection>

Update the code so that a mime type parse exception is not ignored and that the ""entry""
token is automatically converted to the full Atom entry media type.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@564623 13f79535-47bb-0310-9956-ffa450edef68"
f634ace38c02420713025a17192f369823b14a27,"Commit https://issues.apache.org/jira/browse/ABDERA-57
""FOMTest & ParserTest fail if there is a space in your directory""

Patch provided by Dan Diephouse. Thanks!

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@564796 13f79535-47bb-0310-9956-ffa450edef68"
e8b0ed11c0b93df06a448591be3abba0663e0aea,"Inspired by Dan Diephouse's spring patch. Instead of initializing the context path, let's pull
it directly from the request context on each resolution.  Doing so simplifies target resolver 
implementations somewhat.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@564805 13f79535-47bb-0310-9956-ffa450edef68"
ea44e216d7e1f9f1dc8327d97ed5671fe146174e,"The JAF MimeTypeParseException does not extend RuntimeException so we had to catch it all over 
the place.  That sucks and is completely unnecessary.  This update provides an alternative
that extends RuntimeException and is used to wrap the JAF exception whenever it is thrown.

Java exception handling sucks.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@564810 13f79535-47bb-0310-9956-ffa450edef68"
5b9de6102d7ccfa3b929c476f2c863604a9642ea,"Maven build woodstox fixes (provided by Dan Diephouse)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@564811 13f79535-47bb-0310-9956-ffa450edef68"
787b8b731302d622faee25b3f2cdaeb5eae15387,"Tweak to support the W3C encoding Point element.  This let's us read the flickr geotagged atom feeds

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@564812 13f79535-47bb-0310-9956-ffa450edef68"
a38c485f27469dbaf0dbf5cb620a40c46be2acd7,"Provide a way of inserting an extension element before another one (some extensions are sensitive
to the ordering of their child elements)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@564958 13f79535-47bb-0310-9956-ffa450edef68"
75fc15be57f3183533ec5477c5b93e8b03489f45,"Account for wrapper elements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@564981 13f79535-47bb-0310-9956-ffa450edef68"
e362380f436e30b56430f11be6a1ea548a034346,"Fix compile error. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@565389 13f79535-47bb-0310-9956-ffa450edef68"
1ceae316ef35bca33797fc33e8939ea4b2cf12e2,"Provide an Error extension element and factory for use with the protocol code as suggested
on the user list by Chris Berry. Thx!

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@565408 13f79535-47bb-0310-9956-ffa450edef68"
925690a9e439713d9cd65da236188681cdafa474,"Fix compile error.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@565625 13f79535-47bb-0310-9956-ffa450edef68"
c531c9615c74fc8c2e7f29cd36b2e7aca3203fbc,"NPE when the value element is null

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@565958 13f79535-47bb-0310-9956-ffa450edef68"
1c028041912a25753e790c832feec8bc7de6cd99,"These had been accidentally swapped

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567317 13f79535-47bb-0310-9956-ffa450edef68"
22016be36d2b15e52850c6e522ce15f574a2f31e,"An initial implementation of Simple Sharing Extensions support.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567319 13f79535-47bb-0310-9956-ffa450edef68"
10873bb6345e26ab5e2fddfdbbec5f05a983b710,"Extend RuntimeException so we do not have to explicitly catch this everywhere it's used

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567322 13f79535-47bb-0310-9956-ffa450edef68"
343613812479738a75871e78a2d40cb3186f80f1,"method to determine if the entry has conflicts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567324 13f79535-47bb-0310-9956-ffa450edef68"
3565d5d00b104627f83cc19993049b05fcb982ec,"Updates to the feature package based on a pending update of the spec 
(has been sent off to the I-D publisher, should show up in a couple of days).

This also adds a number of Abdera-specific features and a new Selector mechanism that makes
it easy to select a Collection from a service document based on a variety of criteria. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567446 13f79535-47bb-0310-9956-ffa450edef68"
889369c800a23c1ca11d4367f4df71f23e6806d5,"Stupid compiler error

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567749 13f79535-47bb-0310-9956-ffa450edef68"
fd8030cf6a594a9988442d655dd20f1fa3353e7a,"Compile bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567769 13f79535-47bb-0310-9956-ffa450edef68"
cc14d1c4d7f883687b793f2ff0e461a2d50d4ed3,"Swing integration from Dan Diephouse. Thx!

to build using Ant, set the ABDERA_SPRING=true environment variable prior to building.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567843 13f79535-47bb-0310-9956-ffa450edef68"
f85341eb4059e5ee05c0014d5d924f749e28cc67,"Remove unnecessary System.out

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567845 13f79535-47bb-0310-9956-ffa450edef68"
83ada236b2151517c4f4259e3b94014288a3a4f0,"Ignore Eclipse specific artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567849 13f79535-47bb-0310-9956-ffa450edef68"
99de17f7f200a29e255a1a0b2d339b34e2c89aa3,"Some cleanups

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567850 13f79535-47bb-0310-9956-ffa450edef68"
c72d47a1b794120ca75cff60470bf64fb98f9c94,"Just noticed that some wierd patch bug caused content in the resources files to be duplicated. Fixed

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567853 13f79535-47bb-0310-9956-ffa450edef68"
f01772447051a7872ed95f5e0a921e6cd3022920,"consistent package naming. add SharingTests to the test suite

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567866 13f79535-47bb-0310-9956-ffa450edef68"
693b846eac37a36e30dfc4097247181ff610137f,"Remove extra xml prolog

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567870 13f79535-47bb-0310-9956-ffa450edef68"
9a60c0a8a71fe3a925f26cb3d54f89ee2abd62a2,"Separate extensions into separate individual components.  All extensions that are based on IETF I-D's 
or RFC's are grouped into the extensions/main, all others are separate.  The build will produce 
individual jars for each extension module.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567888 13f79535-47bb-0310-9956-ffa450edef68"
23b65e53349049b4b976201427ae7fadcd19d59d,"fixing the retro.security target and updating the retroweaving for the extension modules

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567955 13f79535-47bb-0310-9956-ffa450edef68"
0c53c4f10111887575171647c7d08e0c92519708,"Ignore Eclipse specific artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@567956 13f79535-47bb-0310-9956-ffa450edef68"
9e23e83e3634d9767e8916d4f49ec6814b22f424,"be forgiving... ignore case

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@568196 13f79535-47bb-0310-9956-ffa450edef68"
08cc4ff16922f1640fb8c05d930fcf70af72b9f9,"Method should be static

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@568228 13f79535-47bb-0310-9956-ffa450edef68"
42f864be341a0b8f862b0cf5c8500fc0a293b452,"Fix merge bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@568229 13f79535-47bb-0310-9956-ffa450edef68"
aee0af9ad9f1401e84bf1bfc72f73b9a918cfd93,"Some examples that show how some of the extensions work

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@568231 13f79535-47bb-0310-9956-ffa450edef68"
7fddd5e43c1276ff4482ce0cc6b539ae71233963,"Fix examples compile

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@568265 13f79535-47bb-0310-9956-ffa450edef68"
139d1650ccb3112f84264b0c60f7402715f033f9,"Updating docs


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@568280 13f79535-47bb-0310-9956-ffa450edef68"
bfc8b17c6b2abf47c9238541e7511ede1302a96c,git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@568715 13f79535-47bb-0310-9956-ffa450edef68
7e55350de98e33d92fc691389ed96b5f010e4e31,"Apply Brian Moseley's head response patch.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@569474 13f79535-47bb-0310-9956-ffa450edef68"
cdccecc4e0c5c84115c6d566568443b560b679d6,"Add the missing wsse pom.xml

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@570153 13f79535-47bb-0310-9956-ffa450edef68"
98bdba15547905a83cabd070823bf7c3b639c799,"Sample code showing how to configure AbderaClient for SSL

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@570160 13f79535-47bb-0310-9956-ffa450edef68"
058ebcdd2f9019485abdd5f12f75dde17c7f4354,"Spring pom.xml patch provided by Dan Diephouse. Thanks!

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@570162 13f79535-47bb-0310-9956-ffa450edef68"
670b811b7f26796e3e09a0aa7dac6bea216495bf,"Support for setting proxy server settings

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@570168 13f79535-47bb-0310-9956-ffa450edef68"
02bc81770bb46dc64916054521d3bbbebd8be596,"Removed unused test directory that was breaking Maven build

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@570244 13f79535-47bb-0310-9956-ffa450edef68"
f2085be3d17f0384d1d449baee978d179b069e31,"Added missing values for svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@570245 13f79535-47bb-0310-9956-ffa450edef68"
4f1fed9feb84fbcde6bf99ca92f83b5cb7fb4e70,"Exclude TestProvider.java because from Maven test runner because it does not contain any tests.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@570248 13f79535-47bb-0310-9956-ffa450edef68"
6c1b9dc6396308473e6c68385bf6427414cac6fa,"Changed example dependencies to point to each individual extension.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@570269 13f79535-47bb-0310-9956-ffa450edef68"
c7a01bd4b3f82ea565646bf4b465d059086a43d5,"Fix build bug in trunk caused by removing the empty test directory in extensions/wsse

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@570523 13f79535-47bb-0310-9956-ffa450edef68"
4fa1a9f4fc860aacc9cfba31e0c462b6f39fc574,"Fixing EntityTag so that the wildcard * is supported (in trunk)


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@571345 13f79535-47bb-0310-9956-ffa450edef68"
70660f744bab50893133e5e4ba978ba4e8a45496,"Helper method to get a position from an element

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@571625 13f79535-47bb-0310-9956-ffa450edef68"
96bff2d96d450ee91028293e351948ae9323cfc4,"Initial... and experimental... attempt at a core Converter API.  A Converter takes one kind of object and converts it
into another kind of object, e.g. a Java Bean into an Abdera
Entry.

I am working on a default converter implementation that uses
conventions and annotations to convert a pojo model to Atom.
Other converters can be plugged in.

Did I mention that this is still experimental?

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@571688 13f79535-47bb-0310-9956-ffa450edef68"
aa1573960c037eada7549fd3b28a638ad315ae12,"Applying Dan Diephouse's HttpResponse patch. Thanks!

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@571820 13f79535-47bb-0310-9956-ffa450edef68"
950c0bff05f371039247538f2a04dede60c0ca55,"Need a bit more expressiveness with the new HttpResponse.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@571829 13f79535-47bb-0310-9956-ffa450edef68"
118ff853876335bf5bea080c858f9b8cd871e4a9,"Deal with miscellaneous compile warnings

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@571832 13f79535-47bb-0310-9956-ffa450edef68"
1ffa43119bc255373446c35b0b4bcbada8bc1dc2,"Expand the options for determining if a converter is available

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@571835 13f79535-47bb-0310-9956-ffa450edef68"
4100a2e465180a0b25423e5b13f55a687ca08ce6,"Fix compile bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@571848 13f79535-47bb-0310-9956-ffa450edef68"
bcd60772b0d7bfde24b6d3fca0fd8dcf2ed6c2c9,"Fix the spring build so that the resources are properly included (per the report from Ugo)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@572453 13f79535-47bb-0310-9956-ffa450edef68"
5de0330c17ce1187066b411a095ec69dfb8435a4,"(Failing) test checking for presence of <accept> elements in collections.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@572928 13f79535-47bb-0310-9956-ffa450edef68"
a1e691dec33d163be770f0dae2bb6962567a1cfc,"Tweak the test so that it works.  This is not ideal. 
We need to tweak the behavior of the setAccept* and addAccept* methods so that this is more intuitive

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@572958 13f79535-47bb-0310-9956-ffa450edef68"
8940ea9f4e3302690fb4429b3a2b7e9ff83d8f5b,"Fix for https://issues.apache.org/jira/browse/ABDERA-62
Reported by David Calavera. Thanks David!

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@573048 13f79535-47bb-0310-9956-ffa450edef68"
3dbe7f7e70041832700e3325f32c5f3b00f9cfe9,"Fixing charset issues as reported by Chris Berry and Herbert Welker
https://issues.apache.org/jira/browse/ABDERA-60
https://issues.apache.org/jira/browse/ABDERA-61

This forces the use of UTF-8 when the charset is not otherwise specificied explicitly.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@573319 13f79535-47bb-0310-9956-ffa450edef68"
2dd059c4d1d80c92ded2a3b0d16447679dc5e96f,"Removed extra slashes in regexps.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@573509 13f79535-47bb-0310-9956-ffa450edef68"
b15e4aab4fde97ff48848dbfdddb0a050a77e1cc,"Retro the i18n jar

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@573628 13f79535-47bb-0310-9956-ffa450edef68"
1bf66c67409da5824c4435b8e9fecc990467c48e,"Updates based on an updated features draft that will publish in a few days

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@573741 13f79535-47bb-0310-9956-ffa450edef68"
41b5785050f349c1c0c0ce1dedb9358ca905104b,"Updates based on an updated features draft that will publish in a few days

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@573748 13f79535-47bb-0310-9956-ffa450edef68"
3d8efd105c4b183fd8d606e8ee4d59309b0e6550,"Fixing the woodstox dependency

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@574326 13f79535-47bb-0310-9956-ffa450edef68"
b10d2e1e1ec3ff0c860d5258297576b4a10a0e92,"Additional updates for the pending features spec update

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@574328 13f79535-47bb-0310-9956-ffa450edef68"
a16dd715bb8ec5e52d81d5ada846aa3b5be695d4,"entry.setContent(dataHandler,mediaType) was not working correctly.  The passed in media type was being dropped.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@574656 13f79535-47bb-0310-9956-ffa450edef68"
a9c800217482a748c71ce84e6882b9d276ad6a8f,"Send Error bug as reported by Chris Berry on the user list

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@575157 13f79535-47bb-0310-9956-ffa450edef68"
f9613881257382ff76e3c42a3ef501b6420f9127,"Initial (and still incomplete) implementation of the Annotation and convention based Java-to-Atom converter.  Test case is included.  There's still more to do.  This has not yet been added to the build.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@575400 13f79535-47bb-0310-9956-ffa450edef68"
2596d5ac266dad76ab726a30c4d80c2c20a16270,"Continuing work on the annotation converter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@575441 13f79535-47bb-0310-9956-ffa450edef68"
63a7c444df3f6cdddcd035293d86438fdbdd3cc5,"Exclude eclipse artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@575442 13f79535-47bb-0310-9956-ffa450edef68"
0bce6accb610d15fdd656bfe335d0bd6a513b09c,"Updates needed for the annotation converter impl

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@575443 13f79535-47bb-0310-9956-ffa450edef68"
99e8502c032bfcb3345dcb58297c1f133c622f00,"More work on the annotation converter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@575452 13f79535-47bb-0310-9956-ffa450edef68"
c2454b73db9af1b69485509f98beec32b62e4538,git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@575755 13f79535-47bb-0310-9956-ffa450edef68
bf6908cdae6dbb5a60bb240552c6046109fa4e92,"Adding basic extension support

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@575785 13f79535-47bb-0310-9956-ffa450edef68"
004f065f64c2ed492505fc5f1ecf48b1c7e4302c,"Add methods for manually working with cookies. This is just a thin veil on top 
of the commons client methods.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@576481 13f79535-47bb-0310-9956-ffa450edef68"
551a38806ed680e8f27ed2a93eb6969d8f5ce973,"Remove the bouncy castle dependencies.  It will still be downloaded and used during the build
for testing, but it is no longer distributed with the zip.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@577096 13f79535-47bb-0310-9956-ffa450edef68"
46b47241c747fea04aac1148f832dbb1a71f9be9,"Fixing the OpenSearch v1.1 namespace as reported by Jason Calabrese on the user mailing list

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@578158 13f79535-47bb-0310-9956-ffa450edef68"
da6e2093a3c2291519ac698468d920027109fc86,"Set the default charset for the abstract writer options

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@579007 13f79535-47bb-0310-9956-ffa450edef68"
43677b0ff4ccc4e66d508b2043be9d51c16606c5,"The history ext should work on Source and Feed

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@579008 13f79535-47bb-0310-9956-ffa450edef68"
2619edb663760c5037e5a646bb643c189551253e,"Reworking of the JSONWriter.  This provides a more complete Atom-to-JSON conversion that includes extensions, support for atom:feed, app:service, etc.  This should be considered to be a work in progress rewrite.

Oh, and this gets rid of the dependence on the third party json.jar.  There is one method in the new JSONUtil class that was taken from the json.jar.  I will be rewriting that method soon.  We should be able to completely drop that jar from the dist.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@579015 13f79535-47bb-0310-9956-ffa450edef68"
ea279a6055ca461c455eb47b82f61b0f16035b4c,"Fix for  https://issues.apache.org/jira/browse/ABDERA-68

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@579327 13f79535-47bb-0310-9956-ffa450edef68"
2654abcbf4da754e58beb26ba0a13a05a4eaba0b,"Some fixes to the output to remove bad commas

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@579328 13f79535-47bb-0310-9956-ffa450edef68"
d41482574585479862a643f9fc0d7e27b30fd682,"Fix for https://issues.apache.org/jira/browse/ABDERA-67.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@579345 13f79535-47bb-0310-9956-ffa450edef68"
c958b5cd546e9f03b6ec236151a7d96ab7e8fd6e,"Fixing the ant build as reported by David Calavera and Garrett

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@579665 13f79535-47bb-0310-9956-ffa450edef68"
32d7b56980927c5683a2727d80e8e6269553508c,"Adding some notices per feedback from the incubator pmc

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@580170 13f79535-47bb-0310-9956-ffa450edef68"
562b78b224b3f3ed45e3742e7d162f3d717b42bd,"Additional refinements on the JSON output based on the feedback from the initial drop. Refactoring
to clean up the code. Pretty printing of the output to make it readable

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@580481 13f79535-47bb-0310-9956-ffa450edef68"
fd18b65addf7134514dc0582fb5765eed2fdaecc,"another minor tweak to the json output

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@580494 13f79535-47bb-0310-9956-ffa450edef68"
c02e260181176bb01075c5cee28a0ff73e03e891,"bug fix (NPE) in json writer

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@580496 13f79535-47bb-0310-9956-ffa450edef68"
3ea79b8a872a3525ef45f38e78ce8681f813511d,"additional minor tweaks to json output

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@580510 13f79535-47bb-0310-9956-ffa450edef68"
53449ebdaa4fc3360b9f78ce66ea5e1cd1d4462a,"additional minor tweaks to json output

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@580516 13f79535-47bb-0310-9956-ffa450edef68"
a15ac3209e3b9a15a4e5adc9d5f2402eaaa88f6c,"rollback an earlier change.  we can't just output a simple string when type=""text""
because we end up dropping potentially important data on the floor.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@580528 13f79535-47bb-0310-9956-ffa450edef68"
6c8d4df41e38fdea79d6cb6a03671121e6939faa,"Dan's server module updates. This is still a work in progress

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@581397 13f79535-47bb-0310-9956-ffa450edef68"
03ce0eb9ac1169e5c828ee3af0cc917e0f09e1ef,"Test for ABDERA-70.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@581848 13f79535-47bb-0310-9956-ffa450edef68"
219afa8aa2a6acee94be49ebdcb32ae5556d43ef,"Comment pointing to James's workaround for ABDERA-70.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@581948 13f79535-47bb-0310-9956-ffa450edef68"
cc7d9e6eeb7b9ca174596fab0fe8e6beed605346,"Fixes a serialization bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@581963 13f79535-47bb-0310-9956-ffa450edef68"
8f08bd9717568113b97a0c6cc076812d0784e728,"Additional tweaks based on feedback 
See http://intertwingly.net/blog/2007/10/04/Mining-Content-For-Value

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@581996 13f79535-47bb-0310-9956-ffa450edef68"
5a7b7de9437633c75a4ab403939645a1f7d7349a,"Updating the trunk version number to 0.4.0-incubating-SNAPSHOT

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@582841 13f79535-47bb-0310-9956-ffa450edef68"
0e98b73ef402c6fe558d65ec2ca08a2591d0ba23,"Fix failing test for ABDERA-70.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@583059 13f79535-47bb-0310-9956-ffa450edef68"
008dcec1a160a9f52e2011ffdc2430c43f7db087,"First step to resolving ABDERA-70. Provides a method to ensure that the Element or Document is fully parsed without resorting to clone().  For now, this simply delegates to toString, but eventually we might want to make it more efficient.  We also may want to edit all of the modification methods to ensure that this is called automatically.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@583218 13f79535-47bb-0310-9956-ffa450edef68"
c0a43d3f10799a143b9fdae09f2a90bd1c2c4574,"Fix the FOMDocument complete so that it actually works properly :-) ... also, make the execution conditional on whether or not the object is already complete

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@583219 13f79535-47bb-0310-9956-ffa450edef68"
bc6799f4f092b26d5b360876c94450db8c970a6e,"As it turns out, Axiom has a method already for ensuring that the element is fully parsed; we do not need to toString, just call build()

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@584269 13f79535-47bb-0310-9956-ffa450edef68"
f30bf5abc6c1c267010d0ae327022e6e1897989b,"Provide a mechanism for dealing with commonly used (X)HTML entity references.  entities can be registered
using ParserOptions.  All the default HTML entities are preregistered.  

The one downside to this mechanism is that it changes the xml infoset of the parsed objects so that digital signatures computed over documents that contain the unresolved entities are unverifiable.  To deal with this, there is a mechanism for turning off the replacement so that the current behavior of throwing an error is preserved.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@584310 13f79535-47bb-0310-9956-ffa450edef68"
237b3b2889092fdd15aa36333f638bd9e63df480,"Commit https://issues.apache.org/jira/browse/ABDERA-73. There was one change to FOMEntry included in the patch that I omitted from this as it did not appear to be directly relevant.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@584318 13f79535-47bb-0310-9956-ffa450edef68"
a6b04dc0916cda3fc38669aef3a17609cb80a8d7,"Automatically complete the parse for FOM objects when modifications are attempted.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@584339 13f79535-47bb-0310-9956-ffa450edef68"
94fea13a263f4ccf6d04e6b2da91257f8e46c41b,"Some refactorings and general improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@585703 13f79535-47bb-0310-9956-ffa450edef68"
830bd7ff9ae3fcb7ec8d28f6ba10fb693f9d220a,"Bidi detection algorithm improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@586146 13f79535-47bb-0310-9956-ffa450edef68"
b88702cbac645d6d09ccbe4b6a5be3455a22df5b,"Tests for the Bidi detection algorithm improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@586147 13f79535-47bb-0310-9956-ffa450edef68"
341955f8443f5a282c589b4245f54fa3d061a16e,"Protocol API refactorings, simplifications, corrections, etc.

In order to help ensure that the API is consistent across the request and responses objects, a new top level base interface called Message is provided.  Response and Request extend from Message. Common code is moved into an AbstractMessage class.  

A couple of Lists are replaced with arrays in order to enforce the fact that the listings are actually immutable. 

A couple of error refactorings are made to simplify error handling.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@586171 13f79535-47bb-0310-9956-ffa450edef68"
798be913c78d8a46f3f21b221d3a434c795c2456,"Updating the features extension impl to match the current draft of the spec

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@586585 13f79535-47bb-0310-9956-ffa450edef68"
4071bb86c6f6e8e15aca3620a78ff7d02eceacc0,"Update the unicode data tables to ensure they're using the unicode 5.0.0 versions. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@586623 13f79535-47bb-0310-9956-ffa450edef68"
982f97cdf37c9010f2e5e3f5eb654732be24ea90,"Minor optimizations to AtomDate. Avoid creating a new SimpleDateFormat instance on every call to toString and parse.  Create SDF instances lazily for each of the masks.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@587236 13f79535-47bb-0310-9956-ffa450edef68"
09113e69e23330116e7c3465c84cad780bd3c489,"Turns out I had overlooked the a call to StaxUtils when dealing with InputStreams on parse.  This meant
that the new entity declaration mechanism in ParserOptions wasn't working and that DTD entity references
were being allowed... which opened up the possibility of all kinds of nasty security issues.  All fixed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@587327 13f79535-47bb-0310-9956-ffa450edef68"
815f0be2d7bd926990763c228cee603e26d7ddcb,"updated json serialization support including a subset of the nu.validator html parser for
producing hashed html output

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@587550 13f79535-47bb-0310-9956-ffa450edef68"
ffefb84c21d5fa32176b104f66425cefead1c6b5,"A few more tweaks to the features stuff. It will be nice when the I-D can make progress and we can get
some standardization of the feature id's

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@587556 13f79535-47bb-0310-9956-ffa450edef68"
f7be9c280d8775e1ca8a86f5f07ac2b249e98fd6,"This servlet will take any input xml document and output it as json using the json writer

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@588438 13f79535-47bb-0310-9956-ffa450edef68"
8263407e7d959b4f6c542de7bfc07d7e5087af18,"output just the doc.getRoot() and not the doc

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@588453 13f79535-47bb-0310-9956-ffa450edef68"
84ede74125f510570ebe14109af0ea043902b9b2,"fix null pointer exception

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@588717 13f79535-47bb-0310-9956-ffa450edef68"
c0299e663cfd55fe54f0b29f01c6c1fc1bcaa3f9,"Properly escape the output of IRI.toString()

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@588721 13f79535-47bb-0310-9956-ffa450edef68"
988d104d75fa9de60021a1340cef28509dadc103,"defensively escape illegal characters within uri's in (x)html markup

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@588728 13f79535-47bb-0310-9956-ffa450edef68"
ffa62236c58711778826e6a790901895df7e73ca,"Various javadoc and api improvements. This is mainly javadoc, but includes improvements such as 
making AtomDate serializable and cloneable, and allowing the parser and writer to use ReadableByteChannel
and WritableByteChannel.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@588831 13f79535-47bb-0310-9956-ffa450edef68"
250e9ecf5636a651c4b6983a2af03894d3d5befa,"Fix for the IRI test

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589147 13f79535-47bb-0310-9956-ffa450edef68"
68c1c5b781d25d81c7f6fcc2ae3ea161697d2f8c,"Fix the FeatureTest

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589148 13f79535-47bb-0310-9956-ffa450edef68"
c4e7bc0508286fe6bf177d648bbf44cb9adc3772,"Additional API cleanups and refactorings

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589167 13f79535-47bb-0310-9956-ffa450edef68"
d57b1de978aca50e231ea9e54fc4b3cc63bd5ce1,"Flush the stream more often

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589179 13f79535-47bb-0310-9956-ffa450edef68"
c6eb7988e3471225bc37be651849a9012732c3f7,"Updates the features impl to match the current draft of the spec

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589181 13f79535-47bb-0310-9956-ffa450edef68"
b800758942fcef0f67e43e37ad02eb3751283168,"ElementWrapper.equals was not properly handling ElementWrapper instances

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589183 13f79535-47bb-0310-9956-ffa450edef68"
c9ab887f102fbec986a8289417fed64f8f659ba9,"Tweak the slug sanitization algorithm so the output makes more sense

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589214 13f79535-47bb-0310-9956-ffa450edef68"
6ed11eb85b087626d5fb071083d5a11af9929332,"- Move the collectionProvider bits into less ridiculous packages (""content"" wasn't a very fitting name)
- Added updated/summary/etc to AbstractCollectionProvider.createEntry
- Remove toASCIIString() usage inside AbstractCollectionProvider
- Make security maven build pass through inclusion of Xalan as a dependency
- General POM cleanups. <scope>compile</scope> is redundant, so I've removed those references.




git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589249 13f79535-47bb-0310-9956-ffa450edef68"
b6d3d336565d1682c0e7a6f01e33d7c1098e0e82,"Fix the sharing ext test

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589266 13f79535-47bb-0310-9956-ffa450edef68"
478d68239fb2d62ebe68f2d39cd7eccbb390b7b4,"Fix for the cache test failure

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589268 13f79535-47bb-0310-9956-ffa450edef68"
f9af41c30caacc022d76358ab85a6116aab936b6,"Fix some parser warnings and account for mixed cased tag names

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589491 13f79535-47bb-0310-9956-ffa450edef68"
b156f05b9cce9e60f328394fba327c60b20a0bd4,"Fix some parser warnings and account for mixed cased tag names.. missed one

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589492 13f79535-47bb-0310-9956-ffa450edef68"
61392f3ccb0d5eee1efe9f97967e614a767eac19,"Add a basic JCR based provider. Limitations:
 - no transactions right now
 - no media entries yet (soon, I need them)

Various cleanups to CollectionProvider bits to make this work. Including,
the addition of the RequestContext to most methods per the mailing list discussion.




git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589880 13f79535-47bb-0310-9956-ffa450edef68"
d3ea8a5ef4889d5a520d897ec4708a652f2e8da1,"Remove System.out

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@589883 13f79535-47bb-0310-9956-ffa450edef68"
59755891453a6c58cf9fc77e33d517182eed3ba7,"Helper methods that make it easier to use registered namedwriters, e.g.,

Abdera abdera = Abdera.getInstance();
Entry entry = abdera.newEntry();
entry.writeTo(""json"", System.out);


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@590503 13f79535-47bb-0310-9956-ffa450edef68"
2b159557f291ff6be6adf61548061de599e2903a,"More CollectionProvider cleanups. Start of JCR media entry support. More tests are coming.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@591521 13f79535-47bb-0310-9956-ffa450edef68"
01878cae0718f5dbc9937389fa44a7670d590d9e,"When writing out large Atom documents, going through an creating a bunch of objects is less than 
optimum.  The new StreamWriter interface allows us to write out Atom documents using a streaming 
interface.  This is a work in progress.  There are some features, such as xml:lang and xml:base that need better support.  

Example:

  Abdera abdera = Abdera.getInstance();
  StreamWriter out = abdera.newStreamWriter();
  out.setOutputStream(System.out,""UTF-8"");
  
  out.startDocument();
  out.startFeed();
  out.writeId(""http://example.org"");
  out.writeTitle(""Foo"");
  ...
  out.endFeed();
  out.endDocument();




git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@591523 13f79535-47bb-0310-9956-ffa450edef68"
5acec61a015f20f42558ee871bb3cb86ad81ba18,"This is a reworking of the UnicodeCharacterDatabase support that underlies the IRI implementation.
The previous version required a serialized java class to be decompressed and loaded at runtime which
was expensive and annoying.  This approach uses a Generator class that produces static constants that 
improve performance significantly.  Maintaining the code still requires several manual steps.  I am
planning on automating the process soon.  

Over the next few days I plan on revisiting the entire IRI implementation to improve overall performance 
and code quality.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@591706 13f79535-47bb-0310-9956-ffa450edef68"
ab0cd39e84ff9f82b92c253b233a5785d6c293d3,"Indicate the unicode version

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@591707 13f79535-47bb-0310-9956-ffa450edef68"
a56d619ea5b4c338660dbb712f8f67ff15a4ca66,"General improvements to the IRI implementation. There's still a lot more to do to clean this up

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@591720 13f79535-47bb-0310-9956-ffa450edef68"
7181feb62ab9211c2cecc5aabf4947f35a1e0e19,"https://issues.apache.org/jira/browse/ABDERA-69

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@591795 13f79535-47bb-0310-9956-ffa450edef68"
8543d539411d75059f52bf7bac41aa5b18b6aa4b,"Updates to the IRI implementation that improve overall performance. Most of the initialization overhead has been moved into the creation of the Abdera object.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592138 13f79535-47bb-0310-9956-ffa450edef68"
a0646336c6608f8bf4f45c10c2737ad921e33699,"Remove the element wrapper cache. It's no longer needed and was causing a memory leak anyway

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592174 13f79535-47bb-0310-9956-ffa450edef68"
2e40f8d6cb9fc155636ce435da34351dd88493b2,"Fix the sharing impl. I'm not sure if this is 100% correct yet, but the test passes.  This will need
to be revisited

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592184 13f79535-47bb-0310-9956-ffa450edef68"
16c699ad97cc91a5766d6e5a3be23dc243e6796f,"Oops. didn't mean to commit the debugging system.out's

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592185 13f79535-47bb-0310-9956-ffa450edef68"
b9470cf72095927c786b627422f6ef4e47a6e404,"Extract out a Configuration interface; this will allow developers to provide alternative 
implementations of the configuration mechanism.  The one place where this will come in handy is if a particular implementation wishes to not use the automatic classpath scanning used for discovering ExtensionFactory implementations, NamedWriters, etc.  Instead, someone may want to put together something based on Spring (for instance) or implement a static configuration using a hard coded set of extension factories, etc.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592200 13f79535-47bb-0310-9956-ffa450edef68"
54e381ebdd598096a3d08103a278fe9d665d66a6,"Part 2 of the AbderaConfiguration/Configuration refactoring.  This encapsulates all of the configuration details into the implementation of the Configuration interface so that it can be fully replaced.  Specifically, it removes the direct dependency that the Abdera class has on the ServiceUtil helper class so that alternative ways of instantiating the default classes can be used --- e.g. ways that don't involve crawling the classpath.  Spring users can likely benefit from this immediately by creating a SpringConfiguration implementation that uses the spring framework to specify the various implementations to use.  

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592206 13f79535-47bb-0310-9956-ffa450edef68"
77e8fe85a70c803dfff55cf4a3d0b8f929646607,"Move the NamedItem interface into *.util

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592208 13f79535-47bb-0310-9956-ffa450edef68"
fff64a057e65b235758fd24dd83016c485adea2d,"Remove some compiler warnings

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592211 13f79535-47bb-0310-9956-ffa450edef68"
2c9824fae1ea1cd2ea4e2a14083b24fa4171a7a1,"I'm not sure if this is something we should keep or not, but... as has been recently discussed 
on the user mailing list, there are still examples of Atom feeds in the wild that use the old
work-in-progress atom namespace (""http://purl.org/atom/ns#"").  Those feeds really should be updated,
but until they are, there are developers who want to be able to do interesting things with those feeds.

Rather than go through and implement full support for the old namespace, this change provides a way for
developers to optionally enable a QName-Alias mapping.  It is turned off by default.

Example use: 

    String s = ""<entry xmlns='http://purl.org/atom/ns#'/>"";
    StringReader sr = new StringReader(s);
    Abdera abdera = new Abdera();
    ParserOptions options = abdera.getParser().getDefaultParserOptions();
    options.setQNameAliasMappingEnabled(true);
    
    Map<QName,QName> map = new HashMap<QName,QName>();
    map.put(new QName(""http://purl.org/atom/ns#"",""entry""),Constants.ENTRY);
    options.setQNameAliasMap(map);
    
    Document doc = abdera.getParser().parse(sr,options);
    System.out.println(doc.getRoot().getClass());
    
Ordinarily, without the QName Alias Map, the parser would parse the element as an extension element, meaning the Entry interface could not be used. With the QName alias map in place, it is parsed as if the QName was the proper Atom qname.  In the resulting object model, and in the reserialized result, it will come out with the proper Atom namespace.  

There are several drawbacks to this approach, however... specifically, once a QName has been aliased in this way, there is no going back. The reserialized entry will use the Atom namespace.  

Like I said, I'm not sure if this is a solution we'll want to keep long term.  Please review it; if you think it's unnecessary or if there is a better way, let me know

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592221 13f79535-47bb-0310-9956-ffa450edef68"
4cd9f72464beef4c2e2508d49f802a921c270790,"Add chaining to the StreamWriter..  In preliminary testing on the StreamWriter interface, I was 
able to write out 1000 simple feeds with 500 entries each in around 14000ms.  That's a major 
improvement over using the FOM.  When all we need to do is write out a document, the streamwriter should
be preferred over building up an object model with the FOM.

e.g. 
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    StreamWriter sw = abdera.newStreamWriter();
    sw.setOutputStream(out)
      .startDocument()
      .startFeed()
        .writeId(""http://example.org"")
        .writeTitle(""Testing"")
        .writeSubtitle(""Foo"")
        .writeLink(""http://example.org"")
        .writeCategory(""foo"")
        .writeUpdated(new Date())
        .startEntry()
          .writeId(""http://example.org/foo"")
          .writeTitle(Text.Type.HTML,""Entry title"")
          .writeUpdated(new Date())
          .writeLink(""http://example.org/1"")
          .writeAuthor(""James"",null,null)
        .endEntry()
      .endFeed()
      .endDocument();

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592532 13f79535-47bb-0310-9956-ffa450edef68"
2eec10b4a7a3506f75bf56a66b914ecd616875cb,"Improved AtomDate parse and format implementation. Using a regex instead of SimpleDateFormat improves
performance dramatically.  For formatting, since we know the exact format, it really doesn't make a 
lot of sense to use SimpleDateFormat... just use a StringBuilder.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592570 13f79535-47bb-0310-9956-ffa450edef68"
faee226d524d0204ceb0549fa3a36dcbec1bc9ed,"Optionally tell the streamwriter to autoflush or autoclose

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592572 13f79535-47bb-0310-9956-ffa450edef68"
7876160d2d3e7324a1e1a889897d3ee79965ba5b,"Minor code simplification. We didn't need two references to the same object

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592804 13f79535-47bb-0310-9956-ffa450edef68"
a502706f459b726a69e2f5d9cbdc7f2fbcd3a79a,"Fix compile error

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@592820 13f79535-47bb-0310-9956-ffa450edef68"
0070a5eee38aae68f76039ad50ffab50edfeb110,"Further performance improvements.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@593695 13f79535-47bb-0310-9956-ffa450edef68"
e462d478877421729a423a6e61ea25c7022d7a8b,"Update the http commons client dependency

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@594426 13f79535-47bb-0310-9956-ffa450edef68"
3fc45598341cbf88ebe27921ca28ab9cbd3b63bc,"Abstract base impl of a StreamWriter-based ResponseContext

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@595349 13f79535-47bb-0310-9956-ffa450edef68"
9e8fc9277b1372d4604aef0548a2c60cadbac26b,"Fix never ending loop

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@595392 13f79535-47bb-0310-9956-ffa450edef68"
ba1fb235b7109293eb6e739e60bb6f9647a8131f,"Clean up the StreamWriter example

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@595568 13f79535-47bb-0310-9956-ffa450edef68"
dfad75a73b1214cbb9c52032c3e1ff6c00e56baf,"Add an option to enable automatic indenting and formatting of the StreamWriter output

e.g.

 abdera.newStreamWriter()
   .setAutoIndent(true)
   .startDocument()
   .startFeed()
   .writeTitle(""foo"")
   .endFeed()
   .endDocument();
   


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@595579 13f79535-47bb-0310-9956-ffa450edef68"
c1b84331dff552dcf0584c0718cf53c51cd35c9f,"https://issues.apache.org/jira/browse/ABDERA-80

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@595719 13f79535-47bb-0310-9956-ffa450edef68"
882325f7f9de421021885e904236132b95526508,"Return the right media type

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@596030 13f79535-47bb-0310-9956-ffa450edef68"
bbde364ac9d86b89c52c82fd4eced9c9695efe46,"Back out the previous change because it caused an infinite loop

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@596048 13f79535-47bb-0310-9956-ffa450edef68"
d807a7401d05a7a82574483bdef216f4c5da9147,"setText wasn't using FOMTextValue, which was causing the Json writer to fail.  It would have caused other problems also.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@596368 13f79535-47bb-0310-9956-ffa450edef68"
237b69356db4c326e848ca028bf296626f35d9b8,"Allow geo elements on any extensible element

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@596373 13f79535-47bb-0310-9956-ffa450edef68"
15f82dbd22988121913b0a8d7407445667d04dee,"add startFeed method variants that allow xml:base to be set


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@596764 13f79535-47bb-0310-9956-ffa450edef68"
a93ff763de7fb03e49ec72d4268235d2167be060,"add getter method for request context


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@596766 13f79535-47bb-0310-9956-ffa450edef68"
d5dac4be20fcd4edc26aff013d4ace28a3e549fd,"Utility variants that allow writing Dates, longs, ints and doubles easier (other than strings, these tend to be the most common data types used for element and attribute values)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@596789 13f79535-47bb-0310-9956-ffa450edef68"
71c6a0d766c08e86397803c6314c145f636ddabe,"Fix startElement(...) so that the output is correct when no namespace and prefix is provided

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@596858 13f79535-47bb-0310-9956-ffa450edef68"
17bd639b4fd7fd7ab092babd55824a837236a8cb,"Make it even easier to implement a StreamWriter based ResponseContext

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@596867 13f79535-47bb-0310-9956-ffa450edef68"
0b734ab44791999d9a07e983d9aa60a6f168ea63,"Provide an example of using the StreamWriterResponseContext.  
Provide utility methods on StreamWriter to indicate that a collection accepts entries and nothing, etc.  

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@596873 13f79535-47bb-0310-9956-ffa450edef68"
2a75b38f91b9b557848481ed10b5f3d6d23de711,"EntityProvider makes it possible to use the new StreamWriter interface on 
the client side with POST and PUT operations.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@596881 13f79535-47bb-0310-9956-ffa450edef68"
02e1b42e0a1bd94ae092787cc73d7cd374cc8223,"Fix ""org.apache.abdera.writer.Writer cannot be dereferenced"" problem. *Dan curses Java generics*

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@597201 13f79535-47bb-0310-9956-ffa450edef68"
362fa8cf0b65d977ac74c9489ea6236efee015b4,"Simple base impl of an AbstractResponseContext; intended to make it easier to create custom ResponseContext implementations

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@597500 13f79535-47bb-0310-9956-ffa450edef68"
eec15eba6a7540ddb9ee810d175ba8087936ed48,"writeBase and writeLanguage methods on the StreamWriter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@597718 13f79535-47bb-0310-9956-ffa450edef68"
b68f2f4f533aaae70ed67b3e9b8e3f87e2a5ea7f,"Do not write out the xmlns:xml decl and add writeBase and writeLanguage to the StreamWriter example

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@597720 13f79535-47bb-0310-9956-ffa450edef68"
a5aa8d23955e8c93cdbaac0c24efd2bf40f6df41,"fix compilation issue with generics


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@597770 13f79535-47bb-0310-9956-ffa450edef68"
eaf4a86b09bdb16f3c17f6187b73e7939a053472,"remove startFeed() method variants now that we have writeBase() and writeLang()


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@597771 13f79535-47bb-0310-9956-ffa450edef68"
5326b0bac1f5f981ad81b2fddfebd847bf49f0fe,"Make JCR stuff more robust. Pool Sessions. Store entires by their name to prevent duplicates. 

Also, remove json from the maven build as it does not make sense to
publish 1.0 jars of the json build every time I publish a snapshot. 
JSON seems to be set in stone. If we change it any of the code we should
change the version number and release it, but otherwise I don't see
any reason to build/deploy it all the time.



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@597807 13f79535-47bb-0310-9956-ffa450edef68"
ff1d7ed0c97789fc2ec04e5112e3d5780eec796f,"Add eclipse files to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@597808 13f79535-47bb-0310-9956-ffa450edef68"
5d611ff578df07c2c8cd49eadc19b8e3e571ac10,"No need to create QName's

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@597951 13f79535-47bb-0310-9956-ffa450edef68"
470417e530ec0fe589280c9cc9ef4bac25a6a940,"Additional improvements to StreamWriter to avoid having to use the QName class at all (along with other minor improvements)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598014 13f79535-47bb-0310-9956-ffa450edef68"
1f7fad6d1c7b48291e7863969739c1de60d88c70,"OAuth implementation contributed by David Calavera 

  https://issues.apache.org/jira/browse/ABDERA-81
  
A few slight modifications were made: rename OAuthCredentians to OAuthCredentials and support extension methods

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598354 13f79535-47bb-0310-9956-ffa450edef68"
4235412a81fead307c053760e068a0c208304d15,"Add in preliminary URI/IRI Template support to the IRI module. Current draft: http://bitworking.org/projects/URI-Templates/draft-gregorio-uritemplate-02.html

Replace all calls t\o StringBuffer with StringBuilder in the IRI module. I haven't tested this in JDK 1.4.2 to see what effect it has there, but this should help improve overall performance when running under JDK 1.5 or higher.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598389 13f79535-47bb-0310-9956-ffa450edef68"
275ae8d53f634688415ca8d2297f95f8a4a0ff98,"Provide an annotation that makes it possible to associate a URI Template with a Class. Template can
then expand those objects into a URI based on it's public fields and getters

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598463 13f79535-47bb-0310-9956-ffa450edef68"
924581bb2d5f1d1c4d2057e035c42d51c618c4ac,"https://issues.apache.org/jira/browse/ABDERA-82 provided by David Calavera

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598467 13f79535-47bb-0310-9956-ffa450edef68"
4a0ee7faeb61aa54eb8beba12278fd765c89e6a3,"Examples showing URI Templates being used in a variety of ways

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598470 13f79535-47bb-0310-9956-ffa450edef68"
9fa3fab6f119e35a08e848653ba833a6f15e7d33,"Provide an annotation that allows an alternative varname to be specified for a getter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598477 13f79535-47bb-0310-9956-ffa450edef68"
144569eafb419577f96aefff36fd715fa0c22c2f,"Provide an annotation that allows an alternative varname to be specified for a getter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598478 13f79535-47bb-0310-9956-ffa450edef68"
b0c0c7f251b59f55b0c426979089956654399b52,"Some javadocs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598480 13f79535-47bb-0310-9956-ffa450edef68"
7e3f7fa11a0012f377375ebf86aa40ae161b541a,"Silly bug. Bad James! No soup for you!

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598704 13f79535-47bb-0310-9956-ffa450edef68"
40e9036f8b9ac6a6ff097d920a0315f99f6b5964,"Fix build bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598713 13f79535-47bb-0310-9956-ffa450edef68"
9504208aa29cce0d55634df2e9b15dcb0a116e05,"Fix build bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598718 13f79535-47bb-0310-9956-ffa450edef68"
527422cd4bed7f078cbdaa796ff2725bf9745c98,"General improvements to the i18n.io classes. Some changes are intended to improve performance, others are usability focused

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598764 13f79535-47bb-0310-9956-ffa450edef68"
e55a597301262343ccb1e551fdb9ece149aa8b6c,"Decode portions of URLs so that the CollectionProvider implementor doesn't have to.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598793 13f79535-47bb-0310-9956-ffa450edef68"
704124a2324eb04d69a9e8b43a8de77347dbfe0f,"More refactorings

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@598815 13f79535-47bb-0310-9956-ffa450edef68"
15f5ebfff570c6a5e6e84e60a9e90e8f8e6b689a,"Fix test failure on systems that are not able to properly process the non-ascii characters

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@599062 13f79535-47bb-0310-9956-ffa450edef68"
b263c1bef686673d04e1f6d367b90c878df13b48,"Ignore the query string when resolving URIs. Is there a better way to do this?

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@599148 13f79535-47bb-0310-9956-ffa450edef68"
84c0e0a325102dfe4533287cc28eb8150fec57b1,"Special implementation of the StreamWriter interface that provides a way of creating Feed Object Model instances using the StreamWriter interface.

There are two ways of getting a StreamBuilder instance:

Abdera abdera = new Abdera();
StreamBuilder sb = new StreamBuilder(abdera);

or 

StreamBuilder sb = abdera.getWriterFatory().newStreamWriter(""fom"");


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@599155 13f79535-47bb-0310-9956-ffa450edef68"
59a871e08df3ccff2630f2b2c107157ace64b605,"Rename ContentProviderRequestEntity to EntryProviderRequestEntity

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@599168 13f79535-47bb-0310-9956-ffa450edef68"
a9d874f918b703334f5cd21d05d1b5fc2a5759fc,"Rename ContentProviderRequestEntity to EntryProviderRequestEntity

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@599169 13f79535-47bb-0310-9956-ffa450edef68"
9b9944063b8116a02ba39425d4b512cc2e562a12,"Provide support for automatic Lost-Update detection.  When doing a PUT with a Document or an EntityProvider, allow for automatic use of If-Match/If-Unmodified-Since if an ETag or Last-Modified date is available

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@599187 13f79535-47bb-0310-9956-ffa450edef68"
12ef98cd9594e88adfc18bfc583562a4c072fb72,"Utility methods for getting cookies for a specific domain / path

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@599202 13f79535-47bb-0310-9956-ffa450edef68"
f15692ad412242944b887ed11e19d7a3033baf11,"Fix pom so json jar downloads. Also fix JCR test as sanitization seemed to have changed a little while ago.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@599512 13f79535-47bb-0310-9956-ffa450edef68"
4c2d4100c6125c0cecef81a91ed79f81411461ee,"fix NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@599869 13f79535-47bb-0310-9956-ffa450edef68"
8e3647e0010c2e0e37f0926867324d5ffeb0407f,"Variety of improvements including support for proper rendering of IRI Templates that contain bidi characters, better handling of escaped characters, additional escaping options, etc

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600056 13f79535-47bb-0310-9956-ffa450edef68"
bebef6ee34e27e041440c830d237a404c8634a3c,"Fix NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600217 13f79535-47bb-0310-9956-ffa450edef68"
eb97bca87b9d8b9e628026643e81e4b95fa6cb38,"Tweak the bidi formatted output of the template so that the arg is always displayed in logical order (LTR).

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600234 13f79535-47bb-0310-9956-ffa450edef68"
64de05e29f1c7648f49c3895fc5778e873d8ec5c,"Tweak the bidi formatted output of the template so that the arg is always displayed in logical order (LTR).

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600243 13f79535-47bb-0310-9956-ffa450edef68"
76399f4c3c6c0bd678e9bb0c31957259c8f609c6,"Additional tweaks to the bidi display algorithm for the template

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600417 13f79535-47bb-0310-9956-ffa450edef68"
e246ae40f4b2988760ffd380421ad7aba343cb3d,"Additional tweaks for bidi support. This should be about finished.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600426 13f79535-47bb-0310-9956-ffa450edef68"
5fabd3c67681f517a0ef2f91acb5a83412146f6b,"Fix class cast exception when working with extension elements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600687 13f79535-47bb-0310-9956-ffa450edef68"
118435dd1a21d82abd335de42be04546d0308b12,"A variety of implementation clean ups.  Replacing some uses of the FOM with StreamWriter; fixing up some api calls; refactoring out an unnecessary base class; consistently returning the Abdera error document; etc

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600698 13f79535-47bb-0310-9956-ffa450edef68"
3cc407d0c3cf706c8d46a09e0e7f46031332bd00,"back out part of the previous commit. Apparently spring does not like the chainable setter model.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600710 13f79535-47bb-0310-9956-ffa450edef68"
02fbaf9d8705c883b4fb5634c35dd15cccc2e23d,"move the various setters from AbstractResponseContext to the ResponseContext interface and refactor to use a chainable api model.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600717 13f79535-47bb-0310-9956-ffa450edef68"
033135e38949d4637a8d9294cf5e35812ab20a70,"Move EntityProvider to the protocol module so it can be used on the server and client.
Add a new EntityProviderResponseContext as a subclass of StreamWriterResponseContext. This
will make it possible for applications to create a single EntityProvider implementation for 
their application java objects and reuse those on both the client and server.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600720 13f79535-47bb-0310-9956-ffa450edef68"
516a1a850ac4414045f06b6da04f44b3692f8337,"A few utility constructors of MediaResponseContext accepting byte[] and ReadableByteChannel.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600722 13f79535-47bb-0310-9956-ffa450edef68"
5753effb578cbc7e3945c64696304d822eafee93,"More API cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600739 13f79535-47bb-0310-9956-ffa450edef68"
641d82e4842346aca633e548c8e3c7c5908eee98,"Ensure that only one instance of a named TargetType can exist

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600746 13f79535-47bb-0310-9956-ffa450edef68"
6361d03d7520e8cf052459a036f95257dceb3f05,"make EntityProvider an interface with an abstract base impl.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600750 13f79535-47bb-0310-9956-ffa450edef68"
2f7d11bba6c340fc642ec6a956ff0e3dbd94292a,"EntityProvider example

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@600754 13f79535-47bb-0310-9956-ffa450edef68"
fd272a84a63777511c0aac1f4f930e5a681aa913,"Update many apis to enable chainable method calls.  This is an extensive update.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@601147 13f79535-47bb-0310-9956-ffa450edef68"
5f3465cda75b6f3d942fbd51ceff0405a40a0142,"accidentally committed this change

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@601148 13f79535-47bb-0310-9956-ffa450edef68"
eff957670b4be9f45c9f935136d5ca45ad0b0649,"Update SSE impl per http://dev.live.com/feedsync/spec/v1.htm

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@601926 13f79535-47bb-0310-9956-ffa450edef68"
325e233fd9cb66dce1ad5af828f5d0f22862a37b,"Changes provided by https://issues.apache.org/jira/browse/ABDERA-83 plus a few additional methods to surface useful httpclient methods

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@602321 13f79535-47bb-0310-9956-ffa450edef68"
8e47c43e08fc289f1fdac3b245e3057a2a125db3,"Add a method to enable/disable automatic redirect following per the conversation on the user mailing list

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@603281 13f79535-47bb-0310-9956-ffa450edef68"
200560e4d31d6773ac32dcc22b2d71cdb3d68c8e,"A number of general code improvements and cleanups


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@603473 13f79535-47bb-0310-9956-ffa450edef68"
7d7f891ee37fe193736c89c4567bf2eb958e9f44,"These were inadvertently deleted with the last commit

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@603474 13f79535-47bb-0310-9956-ffa450edef68"
07ae77ebd5dc39d9c4099181f09497a82d1c6854,"Rename WorkspaceProvider to ServiceProvider because really what it does is back
a services document.

Make ServiceProvider implement Target<Resolver> so I never have to screw with
regexs. This has a wonderful side affect of cleaning up some of the
CollectionProvider lookup code too.

Rename AbstractTarget to DefaultTarget so I can use it in the ServiceProvider.

Rename the tests to have CollectionProvider in the name instead of ContentProvider
which was the old name.

Make the tests use a port that is not 8080 because 8080 is used on a lot of machines.



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@603739 13f79535-47bb-0310-9956-ffa450edef68"
65231fd6ca29e495399adc0b6261b29a43d8551d,"Make this overridable.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@603743 13f79535-47bb-0310-9956-ffa450edef68"
3ac6359b0da80b816c2657c1fbdcb8df220508ae,"Set the status explicitly on the ResponseContext - this was causing my app to fail because we were calling setStatus(0).

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@603815 13f79535-47bb-0310-9956-ffa450edef68"
c2da72b925a1ee5b97fb744cadfa37b19feaa438,"As suggested on the user mailing list... provide a method for unregistering an auth scheme.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@605242 13f79535-47bb-0310-9956-ffa450edef68"
df354b379178d10c32d8d23e164143a7172a4e69,"minor tweak

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@605243 13f79535-47bb-0310-9956-ffa450edef68"
73a1f742eed7525b11d423ddce4fcf0561fdbb15,"Implementation of RFC4646 -- the new language tag specification

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@606389 13f79535-47bb-0310-9956-ffa450edef68"
721db5c0bf4b586370e905b2789716f5bb2d138c,"Significant refactoring and improvements to the i18n unicode, text handling and io code.
Most of the text-manipulation and unicode related code is now bundled together in the 
org.apache.abdera.i18n.text package.  The unicode and nameprep implementation have been 
improved using inversion sets where appropriate.  This will yield a performance increase
and a decrease in memory consumption for certain operations.  Also, the Nameprep impl previously
used to load and parse a file to initialize the algorithm; this is now removed.  Many other
improvements are made; most of which are internal.  I'll be doing some additional refactoring
here and there.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@607801 13f79535-47bb-0310-9956-ffa450edef68"
d44a1c1d5769600739197d3ccc9d575df7df68f7,"Minor refactoring of the l10n Messages class to make it generally reusable.  Also, provide a 
sprintf style option for formatting messages rather than the pre-jdk 1.5 MessageFormat. 

Rename the Messages class to Localizer and move it into the i18n module

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@607806 13f79535-47bb-0310-9956-ffa450edef68"
45ea38aa5de80233c4e9596be5926f0c82b25908,"Use an Inversion Set instead of BitSet

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@607807 13f79535-47bb-0310-9956-ffa450edef68"
a2d893ecb586632f627ac1645cd7bb0b5f408e72,"This is not needed anymore.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@607808 13f79535-47bb-0310-9956-ffa450edef68"
88cc7f7d96187798628fb3ada2f10b4e6fc777ab,"Parsing improvements for EntityTag and a test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@607810 13f79535-47bb-0310-9956-ffa450edef68"
956e2e9f708c882be5abd56cd38ebcc4629945d5,"Removing old and unnecessary methods; moving things around a bit

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@607811 13f79535-47bb-0310-9956-ffa450edef68"
78d97fea45107f745c3c3104ec355b876e57c48e,"Provide methods for accessing the client's preferred Locale(s)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@607813 13f79535-47bb-0310-9956-ffa450edef68"
404985193bfba5cb44e59d3a4ca9a88f07e0d66a,"Allow setting the Accept-Language request header using a Locale object

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@607814 13f79535-47bb-0310-9956-ffa450edef68"
d3ab54cf963a44e8c545f3eab902f99498f50cd0,"Fixing some bugs introduced by the refactoring and fixing the test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@608007 13f79535-47bb-0310-9956-ffa450edef68"
ffed2550cbcade98c2ae3820865a84093cf2112c,"Helper class that can select an appropriate alternate link from an atom:feed, atom:entry or atom:source element based on the hreflang and a specified locale/langtag.  For cases when multiple language options are available, this will provide clients with the ability to select options that best meet their specific language needs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@608022 13f79535-47bb-0310-9956-ffa450edef68"
0745aec1d52ca6a834514e7e41a7e2deb17fb98b,"Minor improvement to BidiHelper to use the new RFC4646 lang tag impl

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@608197 13f79535-47bb-0310-9956-ffa450edef68"
19e7471bff28ffaaabfa588ca3117b45ceabb46b,"Deprecate the RFC3066 Lang tag implementation and replace it in code with the RFC 4646 impl

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@608201 13f79535-47bb-0310-9956-ffa450edef68"
de11893ed837fa2da80857209107b940a7cb49d3,"Comment out failing tests so I can publish a snapshot with maven. Pass in the RequestContext to the getTitle() call so one CollectionProvider can work with multiple feeds.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@608624 13f79535-47bb-0310-9956-ffa450edef68"
afc7f96a209d1f9b3a871d114b05c5088e502d02,"Remove unneeded method.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@608669 13f79535-47bb-0310-9956-ffa450edef68"
e1b75ad897cce58f22e3eb4ceb0d7f3da8467c6d,"Fix JCR test. (seems Sanitizer changed? Why isn't it respecting my 'filler' argument anymore?)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@608670 13f79535-47bb-0310-9956-ffa450edef68"
befe99c92665bfd132607e41cf37db28eaee112c,"The validation for the iquery segment was not correct

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@608676 13f79535-47bb-0310-9956-ffa450edef68"
21349bed8d13e527cf8d91989267c165c681089b,"Make getFeed() more easily overridable.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@608881 13f79535-47bb-0310-9956-ffa450edef68"
6f543446734c13c3da828ce006500bd14c56a413,"Move all the converter stuff out of the core module and into the converter extension module.
This piece is going to have to remain incomplete for a while longer

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@609058 13f79535-47bb-0310-9956-ffa450edef68"
915dda575692f8220fad596236a4550a56a422f2,"Experimental implementation of the Tombstones specification.
The tombstone spec is a work-in-progress and will continue to evolve. This
extension should only be used for experimentation or prototype development.
 
 http://www.ietf.org/internet-drafts/draft-snell-atompub-tombstones-04.txt
 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@609077 13f79535-47bb-0310-9956-ffa450edef68"
1fb7c50e08b1ed93c6bb8749722cf955544ed830,"Fix the broken test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@609233 13f79535-47bb-0310-9956-ffa450edef68"
14dc6cdce6ba1e167811ea71a5d3bd5e31981159,"Fix a build error

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@609722 13f79535-47bb-0310-9956-ffa450edef68"
facb6696bd141f48eade3e7d2ef089ad56f4e0c7,"fix NPE caused under certain conditions

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@610974 13f79535-47bb-0310-9956-ffa450edef68"
9cd96507b1fde829f439d90b0cfab5212013dc90,"Couple of new atomdate tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611688 13f79535-47bb-0310-9956-ffa450edef68"
cdb2b73e3375fbdc2cc0aa656da9da0640b725e3,"Add i18n example

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611690 13f79535-47bb-0310-9956-ffa450edef68"
77dbf0a9325cb83d0c8026b93ce2eb23cbea8989,"minor revision to the json example

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611692 13f79535-47bb-0310-9956-ffa450edef68"
7771c11b2084e8ac0e0bf9b695e80befec527e1a,"Additional test cases and a couple of minor code changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611697 13f79535-47bb-0310-9956-ffa450edef68"
7c2471d10d9d698a2c3ec16065db4b93e58077f9,"New test cases covering the rfc4646 lang impl

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611858 13f79535-47bb-0310-9956-ffa450edef68"
b9e9d8bf95226c6a3abfa6f761621c03403ea0bc,"Fix region bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611859 13f79535-47bb-0310-9956-ffa450edef68"
b3503662a2898afbe9eaa53ba90eddb813519c8e,"New Lang tag example

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611861 13f79535-47bb-0310-9956-ffa450edef68"
65a3a7f64cea80264c1b69777704a3bd8e087207,"Slug sanitization example

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611867 13f79535-47bb-0310-9956-ffa450edef68"
99762bb609db11694738dbde5dd04c0269a5112d,"A few cleanups, new methods for setting the default functions/variables for the xpath impl,
and a new example showing the use of custom functions in xpath

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611875 13f79535-47bb-0310-9956-ffa450edef68"
8639bd412443210bc1047982a140b7cbe861cc48,"Tweak POM so surefire works right.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611882 13f79535-47bb-0310-9956-ffa450edef68"
42166ece97fd57f5e7fbe8e76061010e44825878,"No need for this to be in it's own directory

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611888 13f79535-47bb-0310-9956-ffa450edef68"
258b6a6c27214a442e5c0b8a5bd3d67ebc47f655,"no longer needed

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611889 13f79535-47bb-0310-9956-ffa450edef68"
ee64192acb3ce8c7d7d82d6f55f7fe942c985f75,"CCE bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611892 13f79535-47bb-0310-9956-ffa450edef68"
192ff181ed4616fbdf50ce1f0947cd4fb3b13c96,"oops. remove debugging statement

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611896 13f79535-47bb-0310-9956-ffa450edef68"
5d478521c3f3dd24e45d0635f250de8090923318,"Ewww... bugs!  The code would enter an infinite loop when attempting to use a named parser

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611915 13f79535-47bb-0310-9956-ffa450edef68"
45c785c27198ac5003238da0700f4b21187914e8,"Add the new html module. This adds the ability to parse html using Abdera and adds rudimentary link discovery
(for discovering service documents and feeds)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611972 13f79535-47bb-0310-9956-ffa450edef68"
9d9a2e289a7b05052e0566a1e98678de3a65a643,"ignore eclipse artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611973 13f79535-47bb-0310-9956-ffa450edef68"
4e74b6ca776d218eba304ca73e7872553525c886,"whoops

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611975 13f79535-47bb-0310-9956-ffa450edef68"
29c01cd417e77f2b7219ec7b328f17588275237c,"remove an old preliminary version of the html parsing code that had been used for the json support

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611982 13f79535-47bb-0310-9956-ffa450edef68"
8777a34ecf27ed98f354b0ac7f89b29e579f29dd,"add xhtml to the default namespaces for xpath statements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611987 13f79535-47bb-0310-9956-ffa450edef68"
6ade64f5a18ae185c645b3323a5b33f77d4d6035,"add an html parser example

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611988 13f79535-47bb-0310-9956-ffa450edef68"
3710ea1f9e36689fdcd24265b65b6e1c0e15fae5,"add html module to the main pom.xml

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@611990 13f79535-47bb-0310-9956-ffa450edef68"
f976ac8ae41cb029ee1b871eefdef3bfae2f0b02,"Fix HTML POM.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@612228 13f79535-47bb-0310-9956-ffa450edef68"
9e8196ed97a711d4753d402817999393a8aa7a3d,"Fix OAuth packages. How the hell did this work before?

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@612234 13f79535-47bb-0310-9956-ffa450edef68"
d5dc827b64bdd09f3ff9424966982c76f7ef9cee,"ABDERA-85: Add RequestContext to AbstractCollectionProvider.getId()
ABDERA-86: Use a regex inside ServiceProvider to determine the path

Thanks to Jim Ancona for these patches!!



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@612235 13f79535-47bb-0310-9956-ffa450edef68"
85dd7469f17b3b3ff97a2d96c542c38a9b956bcd,"Split out generics CollectionProvider into AbstractEntityCollectionProvider so that its clear that this isn't the only way to do things. Remove unused methods on Provider.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@612557 13f79535-47bb-0310-9956-ffa450edef68"
65a8faa33bcbda322b36a42a8bd30b049f702275,"Need to check for <, > and & in character data and escape it manually

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@613214 13f79535-47bb-0310-9956-ffa450edef68"
ea11a4a8bf4fd17b3a31270751cb9d350e948501,"Makes more sense for this to be here than in the server module

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@613766 13f79535-47bb-0310-9956-ffa450edef68"
7345e8b4cff83cb2f1cc66dd60fc0b4c9df1f5a0,"Move the bidi guessing algorithms into the i18n module. This is mainly to keep related code together in one spot to make it easier to maintain

Oh, and I've verified the correctness of the guessing algorithms against the Common Locale Data Repository (CLDR)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@614366 13f79535-47bb-0310-9956-ffa450edef68"
efeab20c2e3c34fa841f5693018ee3e48229e3d4,"fix build bug


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@615391 13f79535-47bb-0310-9956-ffa450edef68"
954b7e9403f73f0d5305d52c5bda4e316da85f5c,"whoopsie

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@615544 13f79535-47bb-0310-9956-ffa450edef68"
8909778fdad4504ed858bf7414a70441292312af,"merge in the refactored server code

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616015 13f79535-47bb-0310-9956-ffa450edef68"
ecaedea47876cf9da1695f87d182c3b09d69e74c,"add jetty to the example dependencies

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616020 13f79535-47bb-0310-9956-ffa450edef68"
69b7539361b23698cc7aecfa5e9f7f59c46ec2fd,git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616023 13f79535-47bb-0310-9956-ffa450edef68
3a8132b6979102a6b3f9b03c11eea33daf2cab28,"have the simpleadapter use the urlfor method for getting the collection uri

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616033 13f79535-47bb-0310-9956-ffa450edef68"
d905d83610ef90dfcd5723c1b2d5da7e39e0b9d1,"Use the SimpleAdapter instance as the CollectionInfo 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616035 13f79535-47bb-0310-9956-ffa450edef68"
342ffdee775d1251ee0d9c276496d93e307eb7a4,"Update the example to match the test

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616036 13f79535-47bb-0310-9956-ffa450edef68"
0cbe2253e9db10f9dd1771cf09b091d4be1e4004,"Reworking the annotation-based converter framework around the StreamWriter interface.
This includes an ObjectResponseContext class that will allow a conforming java-bean to be returned by a server impl and automatically serialized into an Atom document.

This is highly experimental and needs to be fully debugged. Expect changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616050 13f79535-47bb-0310-9956-ffa450edef68"
ee51d0aafb734687f79ebc169efdb97abfc413e0,"The new test cases will be added later

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616051 13f79535-47bb-0310-9956-ffa450edef68"
4349b4eae0a1d52740494e62f477539d34008b2f,"Rename the module

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616057 13f79535-47bb-0310-9956-ffa450edef68"
17b70aefa867ae6318d1b478761886497234c296,"Fix Spring workspace parsing so it actually works with multiple collectionadapters.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616132 13f79535-47bb-0310-9956-ffa450edef68"
21655f86ed6449ac99286f7ef2cfe9a7887c36ba,"handle multisegment target_path, target_base and request_context_path

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616175 13f79535-47bb-0310-9956-ffa450edef68"
a031d5f7cb038e35c0d705e1b7972953638207ca,"Add a title constructor 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616461 13f79535-47bb-0310-9956-ffa450edef68"
942620c67762543795354d2d55ca5cc774af2932,"add additional constructors

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616462 13f79535-47bb-0310-9956-ffa450edef68"
63abbb2203cad79638e062bc81a196d50a2618df,"Flesh out the RouteManager so we can use it as the default way
to resolve and build uris.

Have defaultProvider use RouteManager by default. For those
who were using the servicesPattern functionality, you should
be able to accomplish the same thing by doing something like:

new DefaultProvider(""/:base""). Then a route will be created 
like this:

.addRoute(""service"", ""/:base"", TargetType.TYPE_SERVICE)
.addRoute(""feed"", ""/:base/:collection"", TargetType.TYPE_COLLECTION)




git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616540 13f79535-47bb-0310-9956-ffa450edef68"
c54c74863e35dbb40f1a40e9cdc8d6be0bf8eb51,"Didn't mean to make this change. I don't think this class will be quite as useful anymore.
I'll solicit feedback from the list, but I'm hoping we can get rid of it.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616543 13f79535-47bb-0310-9956-ffa450edef68"
12c18398c3c08f47407db7cc576a5f459212a046,"serializer test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616567 13f79535-47bb-0310-9956-ffa450edef68"
e1593fd5c07a01ee2bddd70cecc53c1b8f69761b,"Fix test.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616577 13f79535-47bb-0310-9956-ffa450edef68"
48f80316bb0f8f5c24c449f3e18d7dc7ea7c0dbe,"Fix JCR test too.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616579 13f79535-47bb-0310-9956-ffa450edef68"
dba1b0b346b1006fe4b6a79aa604319a0516962b,"Fix NPE reported by Remy Gendron

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616793 13f79535-47bb-0310-9956-ffa450edef68"
9dc0d741df8d0fb07f17503cef9079420f7ae5c6,"include source in maven build

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616911 13f79535-47bb-0310-9956-ffa450edef68"
a3fc6d0c5f5c2bd22bf699b7d05d361626847231,"Clean up AECA - allow the use of different feed URLs for individual entries. Fix putMedia. Add a setter for AbstractWorkspaceManager.workspaces.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@616940 13f79535-47bb-0310-9956-ffa450edef68"
89ff836a3e0b61808976716724957340dbd30892,"deal with a null parser

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617169 13f79535-47bb-0310-9956-ffa450edef68"
d23d8cff935110802557bb8aa11762b47b4e7156,"Apply ABDERA-95. Small AbstractEntityCollectionAdapter cleanup.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617211 13f79535-47bb-0310-9956-ffa450edef68"
1c385165bb757ab1d5090ea584d98d59ae232645,"Detweak ABDERA-95. We should be creating a new map afterall.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617212 13f79535-47bb-0310-9956-ffa450edef68"
f12e6a60a08b904f951588ef9d63b58e9cc1354e,"Having issues today.. didn't mean to commit this.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617214 13f79535-47bb-0310-9956-ffa450edef68"
d79d0893765079b4f65fd47c9de07f42a94dc5ff,"minor changes to remove compiler warnings

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617260 13f79535-47bb-0310-9956-ffa450edef68"
d8933ffd515818003f64c183fd0e6aaeb2bbae39,"Add a defaultprovider example
Add a serializer example

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617271 13f79535-47bb-0310-9956-ffa450edef68"
3423e57f3b8ba869770aa02195dce1b7586d7cce,git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617278 13f79535-47bb-0310-9956-ffa450edef68
64f3de7773e0f0327b065ed0be2d064bb13597d7,"add the serializer module

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617284 13f79535-47bb-0310-9956-ffa450edef68"
20541feea98e493864a2b4fd195e91bd1dfd6464,"sigh. stupid typo's

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617292 13f79535-47bb-0310-9956-ffa450edef68"
ff1ed2b7310c896af6414260d4eaf2631aaf1c30,"javadocs!

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617295 13f79535-47bb-0310-9956-ffa450edef68"
89e4083bec99ecc564337cad6f56df08715ca7f3,"Sigh. maybe this time it will actually work

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617297 13f79535-47bb-0310-9956-ffa450edef68"
576970cc41b3f7adfaa50849fa0eedc38e375b33,"refactor the compressionservlet and methodoverrideservlet as instances of the new Abdera Filter interface.  This simplifies their implementation and eliminates one additional dependency on the servlet api

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617319 13f79535-47bb-0310-9956-ffa450edef68"
e03fb1a199398ea691e46352d3a61e593ed78f57,"Convert the security filters over to the new Abdera Filter api... this decouples them from the Servlet API and simplifies their implementation in some respects.  Add a test case for signed responses. Will fill in test cases for the rest later

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617333 13f79535-47bb-0310-9956-ffa450edef68"
b0e5c4417aacdf08dc8de6510dc4b6efef2b5c62,"Fixes and SignedRequestFilter test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617335 13f79535-47bb-0310-9956-ffa450edef68"
2e71bbfb7d15d4e7e25d57fb1a20dc21a5a45127,"Committing Jim's patch(https://issues.apache.org/jira/browse/ABDERA-95)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617340 13f79535-47bb-0310-9956-ffa450edef68"
04172c0c221f99bf7191f1b4226271926ed2b442,"Update test cases to extend from Assert

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617365 13f79535-47bb-0310-9956-ffa450edef68"
3947c1d18cbc4758301ceeb74d6f2b0bcee9019b,"Change the BasicProvider to use RouteManager

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617529 13f79535-47bb-0310-9956-ffa450edef68"
446682839cbfcdf1d1a8f068266ec33cd0833d4e,"Deal with a bunch of annoying compiler warnings

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617552 13f79535-47bb-0310-9956-ffa450edef68"
5fd098757390edcc24372861b8c9c8a4c3c5aff2,"make the Abdera class non-final

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617747 13f79535-47bb-0310-9956-ffa450edef68"
3bfc910f8c2bf14222d24c6d1ccc92258e4be6b9,"Remove the third party json jar from the build and distribution since we're no longer using it

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617748 13f79535-47bb-0310-9956-ffa450edef68"
056b7d2f65c76d5808194fdf024de7678c742178,"Fix bug where IRI threw an exception if there was a space in the resource name.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617835 13f79535-47bb-0310-9956-ffa450edef68"
7abc810a426fb12914feb6794eeaae2546cae195,"escaping bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617935 13f79535-47bb-0310-9956-ffa450edef68"
5e539f74353eb1c5e10564e3456263b1bbd9f96d,"More entity adapter cleanups. specifically, the media Content-Location header is now correct.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617936 13f79535-47bb-0310-9956-ffa450edef68"
cb31e1cc56854648cb219254fba6fe0a121151b9,"Method to add a control element

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617938 13f79535-47bb-0310-9956-ffa450edef68"
424f94cfe212c5d9156209c3bb5a76579a7f0e9e,"output control as a field

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@617939 13f79535-47bb-0310-9956-ffa450edef68"
36278e8486607b2de45a99fb0540a2bcc0178adf,"HEAD/OPTIONS suport for CollectionAdapter/MediaCollectionAdapter.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@618099 13f79535-47bb-0310-9956-ffa450edef68"
8cc4f54298b10494c0fc1cd374df30d2fc29c023,"Fix CollectionAdapterManager so it works if there are spaces in your path. (Also can we please not have empty catch blocks anymore? Thanks :-) )

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@618120 13f79535-47bb-0310-9956-ffa450edef68"
f1eede38e433e0c88cce4f2e51265e18f5ed24b4,"Remove commented out lines

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@618141 13f79535-47bb-0310-9956-ffa450edef68"
8ea511fa44defc14e169735cb2bb0008f2a62f22,"Fixing the build, removing the json.jar license and notice

also, the server and i18n tests weren't actually being run by the ant build

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@618146 13f79535-47bb-0310-9956-ffa450edef68"
fdae11810c957db8048bf47c320fa5f61b805427,"remove unnecessary imports

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@618148 13f79535-47bb-0310-9956-ffa450edef68"
c7e0599d5caa6fa1d10dd2c58fdc886881e06b65,"add the i18n and extension modules to the javadocs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@618155 13f79535-47bb-0310-9956-ffa450edef68"
5d6ceb156caf659b6f84d8f9e63379f7b9227532,"Make a not found target type which results in a 404.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@618683 13f79535-47bb-0310-9956-ffa450edef68"
db5abf41b234df5f7196354e610f07634dd409f2,"Add method to IRI to copy the current IRI with a trailing slash appended if the path does not already contain a trailing slash..

  e.g. IRI iri = new IRI(""/foo/bar"");
       IRI ts = iri.trailingSlash();
       System.out.println(ts);
       Outputs: /foo/bar/
       
Submit patch for https://issues.apache.org/jira/browse/ABDERA-103, modified to use the new trailingSlash method

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619071 13f79535-47bb-0310-9956-ffa450edef68"
4c74128ad2aad808d4c64c40214ec1309be92366,"Add the additional test case assert from https://issues.apache.org/jira/browse/ABDERA-103

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619075 13f79535-47bb-0310-9956-ffa450edef68"
0a93e027fb7a1664c39d7c1a5c199c7363a3937c,"Improvements as suggested in https://issues.apache.org/jira/browse/ABDERA-93

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619082 13f79535-47bb-0310-9956-ffa450edef68"
0b3e8e0002415c0f4bc82ddf166f2fc3bb109468,"fix compile error

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619085 13f79535-47bb-0310-9956-ffa450edef68"
4cf160ce4172108d0a0af77d2fd2643687eabd41,"make it easier to change the base for testing

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619095 13f79535-47bb-0310-9956-ffa450edef68"
b6a675c189d034c0a468ba6bea8cb93bb96eb4ba,"ensure that response is not null when Transactional.end is called following an error

see https://issues.apache.org/jira/browse/ABDERA-87

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619128 13f79535-47bb-0310-9956-ffa450edef68"
69ea50025310a702a4f2c1457fb2aeb5e660f080,"filter support in the spring module

see https://issues.apache.org/jira/browse/ABDERA-92

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619130 13f79535-47bb-0310-9956-ffa450edef68"
50b0030c9a57ca0f4fd7034a8502e8c4148c63cb,"catch another null response case

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619167 13f79535-47bb-0310-9956-ffa450edef68"
e0835c5dba1bbb5cea2668372ca3ffa6290bb98b,"ABDERA-101 - make URIs work correctly with a non root context path.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619246 13f79535-47bb-0310-9956-ffa450edef68"
8d9548b341a6e20a826f24dbdbf9f3db96c240ce,"ABDERA-101: make non-root context paths work for real now.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619583 13f79535-47bb-0310-9956-ffa450edef68"
497d75f19ab0686e3501d1dd93a6366628906a4a,"Per https://issues.apache.org/jira/browse/ABDERA-107

add a setter for filters on AbstractProvider

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619686 13f79535-47bb-0310-9956-ffa450edef68"
efb639ebc6157a9ca4d2270cb163f97f282d1d57,"Per https://issues.apache.org/jira/browse/ABDERA-105.. ""spring provider definition parser doesn't load more than one filter""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619687 13f79535-47bb-0310-9956-ffa450edef68"
0016278abe7b80c112c057de2d5778e6b02ff628,"Per https://issues.apache.org/jira/browse/ABDERA-108


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619767 13f79535-47bb-0310-9956-ffa450edef68"
6bcaea54ca68878c3ccf4c5e76f7ad4a3b32cc0b,"Incorporate the concepts from https://issues.apache.org/jira/browse/ABDERA-97

This was refactored into the form of a new ""ManagedProvider"" in order to keep it from affecting all Provider implementations, the AbderaServlet, etc.  BasicProvider now extends ManagedProvider.  BasicAdapter extends ManagedCollectionAdapter.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619777 13f79535-47bb-0310-9956-ffa450edef68"
75f8b47142ead78d48837525bc4f6f08238f7662,"Incorporate the concepts from https://issues.apache.org/jira/browse/ABDERA-97

This was refactored into the form of a new ""ManagedProvider"" in order to keep it from affecting all Provider implementations, the AbderaServlet, etc.  BasicProvider now extends ManagedProvider.  BasicAdapter extends ManagedCollectionAdapter.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619778 13f79535-47bb-0310-9956-ffa450edef68"
6e198efbe3c2b6ac14273e4017a43ac02e6f943a,"this is odd. this was supposed to be under provider but it got checked in under server

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@619781 13f79535-47bb-0310-9956-ffa450edef68"
e53a222c723c936b546b300b93f224a2ce7a8196,"Per https://issues.apache.org/jira/browse/ABDERA-110

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620056 13f79535-47bb-0310-9956-ffa450edef68"
de0d1a20e67a89c83dda1d4898fe67de0c93cb89,"check in the jdbc adapter (https://issues.apache.org/jira/browse/ABDERA-112)

also, create a new adapters directory that can contain all of the various adapter implementations.
move the jcr adapter into that dir

I need someone with maven experience to look at the pom.xml for the jdbc adapter.
We also need to figure out test cases for the jdbc adapter, preferably using cloudscape.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620069 13f79535-47bb-0310-9956-ffa450edef68"
de0ead7d9631f8b94205fb92934a9069ff739357,"ignore eclipse artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620073 13f79535-47bb-0310-9956-ffa450edef68"
11cdb0aba16f6da4954b4e0fdd1eeea8b91a4a8a,"simple couchdb adapter.  see the readme.  this has not been incorporated into the build
or fully tested yet.  treat this as experimental for now.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620186 13f79535-47bb-0310-9956-ffa450edef68"
f80eb263e0463f82374d6e2dfe7b15a2a46eb285,"BasicProvider not BasicAdapter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620198 13f79535-47bb-0310-9956-ffa450edef68"
30d9cb459b5ff36ff283a9af4da77df52b3d9856,"Upgrade to jackrabbit 1.4 as a) we should and b) it has a fix for JCR-928 which we were having problems with.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620207 13f79535-47bb-0310-9956-ffa450edef68"
76f8de7ebd32b5f3c00d47279f7f20fceac6b907,"Per https://issues.apache.org/jira/browse/ABDERA-111

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620310 13f79535-47bb-0310-9956-ffa450edef68"
65c52e317486068d9d346e53bb158c2aaa1461b8,"Per https://issues.apache.org/jira/browse/ABDERA-113

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620311 13f79535-47bb-0310-9956-ffa450edef68"
54ee610f5517dde24829caa6cbd3813b9fbbf73c,"Per https://issues.apache.org/jira/browse/ABDERA-106

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620313 13f79535-47bb-0310-9956-ffa450edef68"
24c82031e7e8b04ddf46d299457431b70dab86f6,"I'm not sure if the test changed or if the feed being tested changed. either way, fixed now

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620315 13f79535-47bb-0310-9956-ffa450edef68"
8cf03ba62174c5d5cd92ddedfa890da1db3c8794,"per https://issues.apache.org/jira/browse/ABDERA-114

""The JSON serialization misses a coma when writing a tag child with mixed content (text-tag-text).""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620524 13f79535-47bb-0310-9956-ffa450edef68"
dd267617d4785a91452b564fab73a08626eaff15,"ignore eclipse artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620528 13f79535-47bb-0310-9956-ffa450edef68"
d458baa489121cd12dab0239ddde20fd219b3c25,"fix the ibatis dependency

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620561 13f79535-47bb-0310-9956-ffa450edef68"
4357bd02b7c755585a0bc704fb4af694f6e16ae0,"rename the JdbcCollectionAdapter to IbatisCollectionAdapter per https://issues.apache.org/jira/browse/ABDERA-116

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620875 13f79535-47bb-0310-9956-ffa450edef68"
6c5b58032aeb916bd2ec336ebf23b4dff4b351c4,"rename the package from jdbc to ibatis per https://issues.apache.org/jira/browse/ABDERA-116

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@620877 13f79535-47bb-0310-9956-ffa450edef68"
51f2c18f40c65efc65f15b553e14340ce88bbb08,"decouple the test from the other server tests. makes it easier to build this independently of the other stuff

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627050 13f79535-47bb-0310-9956-ffa450edef68"
2d70bd2f7e8d695f32ecd414c7487349bdfb254d,"test runner

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627056 13f79535-47bb-0310-9956-ffa450edef68"
6076089648fbe80a84efcf54a00a0839e36f9bc2,"ant build for the couchdb adapter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627064 13f79535-47bb-0310-9956-ffa450edef68"
409a5f51c2dbbd134018dbca1af34ab5ebf03ca5,"rename the package so it's consistent with the other adapters

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627086 13f79535-47bb-0310-9956-ffa450edef68"
ada77bfff3c279e1d942bdbf58d655c118fe5e0d,"clean the java.1.4.2 jar also

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627087 13f79535-47bb-0310-9956-ffa450edef68"
aec80b086d18f6c77d16450807656188ceade82f,"ant build for the jcr adapter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627089 13f79535-47bb-0310-9956-ffa450edef68"
ae60e6d7a8ec509e3fba42c5a335d157ea51a4e5,"A summary element can be empty and still be valid I believe. The <summary> just needs to be there.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627091 13f79535-47bb-0310-9956-ffa450edef68"
b5682bd6a9422a63c8e31541a81a318c02f7c5f3,"ant build for the ibatis collection adapter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627109 13f79535-47bb-0310-9956-ffa450edef68"
c14770cb93ad7aba53da93a9a54e57fea564070e,"incorporate adapters into the main distribution build

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627134 13f79535-47bb-0310-9956-ffa450edef68"
a9abe285e4fdbf40ea258e658d23f90657391e10,"mention that the html and json jars are also required
handle an error condition properly in getEntry

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627173 13f79535-47bb-0310-9956-ffa450edef68"
dd482bea5b635ea6068c340d53d6a427dfbf2704,"explain why the error blocks are empty

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627241 13f79535-47bb-0310-9956-ffa450edef68"
a5dcb2f4c3c56d45305a4d64171e825c2c71f3ee,"per https://issues.apache.org/jira/browse/ABDERA-117

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627667 13f79535-47bb-0310-9956-ffa450edef68"
426f00e52282a2a744f86474af283385b021e2c3,"per https://issues.apache.org/jira/browse/ABDERA-118

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@627798 13f79535-47bb-0310-9956-ffa450edef68"
31d0424e2c64cd92fa8dbe585a04b9c951e6c7b6,"Per https://issues.apache.org/jira/browse/ABDERA-119.

Thanks David!

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@628092 13f79535-47bb-0310-9956-ffa450edef68"
05b06b7e77b8f20c25f8a5b3be37065f29718df3,"per https://issues.apache.org/jira/browse/ABDERA-121

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@628170 13f79535-47bb-0310-9956-ffa450edef68"
2c8c471f1727c241835a5644b322058ce4ed1218,"Turns out you can't always reset a connection. This seems like a slightly better thing to do, but I'm open to suggestions.

""""""
SEVERE: Servlet.service() for servlet Abdera threw exception
java.lang.IllegalStateException
    at org.apache.catalina.connector.ResponseFacade.reset(ResponseFacade.java:310)
    at javax.servlet.ServletResponseWrapper.reset(ServletResponseWrapper.java:183)
    at org.apache.abdera.protocol.server.servlet.AbderaServlet.error(AbderaServlet.java:141)
    at org.apache.abdera.protocol.server.servlet.AbderaServlet.service(AbderaServlet.java:96)
""""""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@628400 13f79535-47bb-0310-9956-ffa450edef68"
5186e8e515e6ab0bb45ca9817c84d9f2e797e21f,"Oops. Now this should actually work.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@628401 13f79535-47bb-0310-9956-ffa450edef68"
489af8587885a9998736cea5b021fc9dc1f22062,"per https://issues.apache.org/jira/browse/ABDERA-122

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@628412 13f79535-47bb-0310-9956-ffa450edef68"
b51546365c2b9e35a20af580fb6bb203450905d1,"per https://issues.apache.org/jira/browse/ABDERA-123

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@628528 13f79535-47bb-0310-9956-ffa450edef68"
a7a7fdd41831d7b61edaae6d71070de059a9ef40,"checking in the hibernate adapter. this is NOT incorporated into the build at all yet. This will make the code available, but users will, for now at least, have to compile the adapter on their own

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@628529 13f79535-47bb-0310-9956-ffa450edef68"
1b5203b0e88e54ecbc2feabb2dc66b9a2902d3bb,"per https://issues.apache.org/jira/browse/ABDERA-125

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@628803 13f79535-47bb-0310-9956-ffa450edef68"
635856f7ada2d42b2df67c8c7ddc96c3933c9554,"per https://issues.apache.org/jira/browse/ABDERA-124

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@628805 13f79535-47bb-0310-9956-ffa450edef68"
7cedd5d4aa74b1d4f165981632468224fa49b3fe,"One jar to rule them all

in addition to the modular build, product one jar containing everything except the individual adapter implementations.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@628901 13f79535-47bb-0310-9956-ffa450edef68"
42df5d2a4195cafa680df2368872dcfbeb0b0569,"Per https://issues.apache.org/jira/browse/ABDERA-127....

Eliminate AbstractTarget, rename DefaultTarget to SimpleTarget. Calling it BasicTarget would
have been somewhat confusing with the Basic adapter.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@629138 13f79535-47bb-0310-9956-ffa450edef68"
7506a7f9448fd61ec65d9b6bcdefd75996136d50,"per https://issues.apache.org/jira/browse/ABDERA-126

load the feed config file using the context class loader 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@629146 13f79535-47bb-0310-9956-ffa450edef68"
0b4241e57effc86efbd6aadbc55dd0a8ace36cf3,"if target == null or targettype == TYPE_NOT_FOUND, return 404

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@629150 13f79535-47bb-0310-9956-ffa450edef68"
0ecadadbef122986a705b726f080220f03d7f0bd,"no reason for this to be private

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@629193 13f79535-47bb-0310-9956-ffa450edef68"
49894a337e3b25581cc55c53bbee15923f8f7628,"should be a long, not an int

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@629227 13f79535-47bb-0310-9956-ffa450edef68"
345620dbd07ab6f64ff9aaf8f569102fa75beade,"per https://issues.apache.org/jira/browse/ABDERA-128, add toFormattedString support to FOMElement and FOMDocument, which adds pretty print capabilities for debugging

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@630324 13f79535-47bb-0310-9956-ffa450edef68"
f82bf53b1ed7c63b0530fe833c0be7d270663325,"https://issues.apache.org/jira/browse/ABDERA-130

fix the build when security module is not being built.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@630479 13f79535-47bb-0310-9956-ffa450edef68"
57681f28efadf7244ab437fef627960aaf98975a,"Get adapters running with Maven POMs.

Add a bundle module which combines all the jars from Abdera, 
NOTICE files, Named(Parser/Writer) files, and the ExtensionFactory
files so we have a bundle jar which works.

Add the couchdb4j jar into the build as it isn't in a maven repo.

I can't get the CouchDbTest to work for me in the IDE or in Maven. 
Any ideas?


Lots of svn:ignores.

Remove the Classic* stuff from Spring as I don't think we really need it.




git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@631031 13f79535-47bb-0310-9956-ffa450edef68"
c0f7105fa1a4f768700f850b2e5a8f42a804d7de,"Abdera distribution module.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@631047 13f79535-47bb-0310-9956-ffa450edef68"
ed435f455802e86c20b180120a90da11c890513e,"minor improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@631347 13f79535-47bb-0310-9956-ffa450edef68"
65b9bdc9cfb3a901e34e8ffc5619a0c3b6aadaa0,"filter implementation that optionally converts an Atom document to json

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@631348 13f79535-47bb-0310-9956-ffa450edef68"
3bb40e5c2af006f156ed2f29ebc1e5daa7382a3e,"build fixes to support the jsonfilter

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@631349 13f79535-47bb-0310-9956-ffa450edef68"
40fd0a299a7346d75d1d41361f41a54a5663e571,"Minor utility method updates

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@631351 13f79535-47bb-0310-9956-ffa450edef68"
a3f872212f82fc10028fb9148e8464f2f6449b30,"simple filesystem adapter implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@631352 13f79535-47bb-0310-9956-ffa450edef68"
7bf8f6b61b85efd1162d9f50e4f18b7113c89c21,"simple filesystem adapter implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@631354 13f79535-47bb-0310-9956-ffa450edef68"
1019f82be726ea9c88422161308c0abfb9eeb61c,"ignore eclipse artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@632532 13f79535-47bb-0310-9956-ffa450edef68"
ee03390b91fb230aca7ec0d55edd9163f35e97ce,"ignore build artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@632534 13f79535-47bb-0310-9956-ffa450edef68"
54df32c65c3ac3c0b1f0a392bd98135af99e8f65,"Some basic javadoc comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@632537 13f79535-47bb-0310-9956-ffa450edef68"
40a8bd2f07457f349a21e63868ad4bb37a387f8e,"javadocs and minor api updates

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@632971 13f79535-47bb-0310-9956-ffa450edef68"
f2a1114c638f159a64ee7ca53b1a857cd3bb9056,"javadocs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@632974 13f79535-47bb-0310-9956-ffa450edef68"
6878b152a50d858bf9cd245e12caf2681fa73d74,"merge the protocol module into the core module. there was no really good reason to keep this out as a separate module and merging reduces the overall number of jars we have to build and keep track of,
making life easier for everyone

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@632977 13f79535-47bb-0310-9956-ffa450edef68"
dda69f33f823e1853f1647588de821249b5ae149,"javadocs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@633180 13f79535-47bb-0310-9956-ffa450edef68"
c90a0df869ffdef1a47d8013651d3bdc08a9ef3a,"javadocs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@633199 13f79535-47bb-0310-9956-ffa450edef68"
08e6eae25a61e6024037164d0e36b59a968e33ea,"Create NOTICE files from Maven POMs and Jar MANIFEST entries.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@634082 13f79535-47bb-0310-9956-ffa450edef68"
a95dcfc9daa9d5fbb4999c27cbc766184b6e562a,"Use the configured writer.  Previously, the code was always assuming use of the default FOMWriter

Per https://issues.apache.org/jira/browse/ABDERA-131

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@634390 13f79535-47bb-0310-9956-ffa450edef68"
85f432ac4e2f01aa227a3ea92542843ce7e31d58,"Redo customer example as employee database as I think its a clearer example.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@634473 13f79535-47bb-0310-9956-ffa450edef68"
ad35fd0c1bf5148bc5ea345532095066743096d8,"snippet info

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@634477 13f79535-47bb-0310-9956-ffa450edef68"
3312fe5915cb8846950936c59f3fae1e415a6ff3,"More snippet stuff

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@634479 13f79535-47bb-0310-9956-ffa450edef68"
62a1672d05fe9e4120d04a35374fad90d3b50533,"More snippet stuff

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@634484 13f79535-47bb-0310-9956-ffa450edef68"
571e5c589003aa405bb5e4c7412711b5b8346c3c,"Make the content be just the employee name.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@634486 13f79535-47bb-0310-9956-ffa450edef68"
2dd3802411323baf482ab4b566c34c08ee7272bd,"Per the servlet spec, we can't call response.reset() if response.isComitted() is true.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@635702 13f79535-47bb-0310-9956-ffa450edef68"
fcbff80e2171bc0732ed5ea21f1be22dcbd44ba2,"More NOTICE and POM cleanup/simplification.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@635756 13f79535-47bb-0310-9956-ffa450edef68"
d766823dd298502f4a7a523913c89ebfdbf34df3,"Should depend on client not core.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@635757 13f79535-47bb-0310-9956-ffa450edef68"
da13b1c62522a7f47cd0ccadd7b17496114759ba,"Fix build.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@636012 13f79535-47bb-0310-9956-ffa450edef68"
4540bd36a414543991507b9f6d8347c627a51a3b,"Finish cleaning up maven build.

Add a topDir property so we can automagically generate NOTICE
files (no more maintaining in dependencies/legal - yay).
This will become simpler with Maven 2.0.9...

Fix filesystem tests.

Create a source distribution for maven.



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@637214 13f79535-47bb-0310-9956-ffa450edef68"
d3cb39c71231ff258eaff371ec4c5a9ab11fc959,"Ignore as I can't seem to get this working locally. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@637252 13f79535-47bb-0310-9956-ffa450edef68"
933e8f7c3e3a832e7d467fce24024eaa4df16288,"Tweak distro to include individual modules. Don't need notice files anymore as maven aggregates this for us.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@637278 13f79535-47bb-0310-9956-ffa450edef68"
fe96a5f2e0df30993b925cbb47d13d98b631db1f,"Final prep work for a release. Will cut now.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@637660 13f79535-47bb-0310-9956-ffa450edef68"
ec6cc45b1231a7ca263e8c6363e596591a037ffe,"Use staging repository.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@637666 13f79535-47bb-0310-9956-ffa450edef68"
daf2dce55a995f03a1320a9dadb6f70bd58d4d53,"Fix POM.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@637667 13f79535-47bb-0310-9956-ffa450edef68"
46cf8429d63f08f73a6816eaf6b01769db561284,"[maven-release-plugin] prepare release abdera-0.4.0-incubating

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@637670 13f79535-47bb-0310-9956-ffa450edef68"
c8887773001992f9444b9378a6341a0ba3b3c76f,"Ooops, had my maven tag configured wrong. backing out and starting over.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@637672 13f79535-47bb-0310-9956-ffa450edef68"
3dbdb2979d6dd9238c2e9022164dee2884f9fa5d,"Use the right svn tag.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@637673 13f79535-47bb-0310-9956-ffa450edef68"
14857ad623eafe4c7801f7fd868e678b084d478a,"[maven-release-plugin] prepare release abdera-0.4.0-incubating

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@637675 13f79535-47bb-0310-9956-ffa450edef68"
9aeae91c986109a2c669f4018068de6e6afc111b,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@637677 13f79535-47bb-0310-9956-ffa450edef68"
8ab29e35cf6eb7227578891aa72d8c0784d80225,"per https://issues.apache.org/jira/browse/ABDERA-133

""ProviderHelper.isValidEntry() marks entries with an XML content type and no summary element as invalid.""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@639304 13f79535-47bb-0310-9956-ffa450edef68"
6947b621b7bb6efa8f63b615b4faab5ae81a0e85,"per https://issues.apache.org/jira/browse/ABDERA-132

""AbstractProvider.process() wraps all of its code in a ""catch (Throwable e)"", which returns a 500 status and doesn't log the exception. ""

This update logs the error but does not differentiate the various types of errors. We'll need to figure that out for the next release.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@639307 13f79535-47bb-0310-9956-ffa450edef68"
b066c560ea135cc83ee7a47e1e8484b37d5abd29,"method on streamwriter for writing a namespace declaration. for most cases, this is handled automatically; but this is here to make it a bit easier

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@639945 13f79535-47bb-0310-9956-ffa450edef68"
970691ed8e0e00b5e5401105b5d50d1bdd2d3c30,"Significant bug causing the default namespace to not be declared properly.  Need to fix this in 0.4.0 before it goes out the door also

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@640068 13f79535-47bb-0310-9956-ffa450edef68"
34676b8d1c6079babaf4182f69c846f96ad1b7e3,"Declare namespaces conditionally

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@640071 13f79535-47bb-0310-9956-ffa450edef68"
96f449bb130baf00f2f8b80157680104999d0322,"fix license headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@640521 13f79535-47bb-0310-9956-ffa450edef68"
0e24e1d21fce14aa383aaab3387bdee3eabeeefa,"Whoops

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@640524 13f79535-47bb-0310-9956-ffa450edef68"
f72da0aa56cd0060f67e33894eca73cfc860d7cc,"grrr....

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@640529 13f79535-47bb-0310-9956-ffa450edef68"
0e2b53fbc7c7fd99e2b4cd85ec38d0e49093f774,"Use repository for couchdb jar. It should be up on the real repo soon.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@640553 13f79535-47bb-0310-9956-ffa450edef68"
f14e34ebc0dceb6283097b948fbf6783efcdb911,"Fix problems with duplicate notices. We don't need to have the generated NOTICE file in the source distro as we aren't actually redistributing any libraries there.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@640609 13f79535-47bb-0310-9956-ffa450edef68"
8c748a509f31dfd1aa23423f29ea2148d96b8bba,"Realized we weren't appending the software grant information.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@640879 13f79535-47bb-0310-9956-ffa450edef68"
2b554a733912daf19699d1c88fd51157b3aad034,"only declare the attribute namespace if necessary

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@642293 13f79535-47bb-0310-9956-ffa450edef68"
f964e51e0a0369b39359b9b8838c1c7300db3f08,"merge all of those review changes we made to 0.4.0 branch back into the trunk and bump the version number up to 0.5.0-incubating-SNAPSHOT

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@647233 13f79535-47bb-0310-9956-ffa450edef68"
6496ba11a4cf12f5940d0a00fe728337ba87dc10,"https://issues.apache.org/jira/browse/ABDERA-145 -- PrettyWriter uses default system charset when no specified, but should use UTF-8 or charset of doc.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@648051 13f79535-47bb-0310-9956-ffa450edef68"
5880f805dadf4df9022d1f627784ad59a9a56701,"https://issues.apache.org/jira/browse/ABDERA-137 -- minor refactoring of AbstractProvider so 
subclasses can easily override the dispatching for individual target types.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@648063 13f79535-47bb-0310-9956-ffa450edef68"
e5ce9282b7dbfaa9b4fa8f2588414aa65ff48960,"https://issues.apache.org/jira/browse/ABDERA-135 -- AbstractCollectionAdapter should return 400 rather than 500 when a ParseException occurs

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@648067 13f79535-47bb-0310-9956-ffa450edef68"
6eccc6d7f9b31cc3596e7f90270d74bf5de4aa43,"Port routemanager fixes to trunk as I accidentally applied them to a branch before. Also, fix the distribution repositories in the POM.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@652199 13f79535-47bb-0310-9956-ffa450edef68"
4471b67a34b805bbffbf53d2176318b2578db859,"https://issues.apache.org/jira/browse/ABDERA-156

From David Calavera: ""AbderaConfiguration allows to add extensions at runtime"" ... AbderaConfiguration should allow to add NamedParsers, NamedWriters, ExtensionFactories or StreamWriters at runtime, I think the Configuration interface has to include these ""add"" methods. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@655532 13f79535-47bb-0310-9956-ffa450edef68"
faa24367da48d876b08a0c17e9e1e6511e4abb50,"https://issues.apache.org/jira/browse/ABDERA-155

Switch to lazy initialization of the various fields in the Abdera class to eliminate the likelihood of race conditions and NPE's in various environments

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@655544 13f79535-47bb-0310-9956-ffa450edef68"
febd54d1d84bb504a2c2061b90e6a6b411cc87a4,"Add logging dependency

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@655545 13f79535-47bb-0310-9956-ffa450edef68"
1263b14f8869c17179a49911ba948446bae312ab,"https://issues.apache.org/jira/browse/ABDERA-152 - ""JSONFilter throws NPE when the response content-type is null""

""If the response content-type is null (e.g., when responding with ""204 No Content"" after DELETE of an entry), JSONFilter throws a NullPointerException trying to determine whether to send JSON""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@655546 13f79535-47bb-0310-9956-ffa450edef68"
f495e622993442cb259c1d4a4274fceae66fbe06,"https://issues.apache.org/jira/browse/ABDERA-136 - georss namespace is not correct

There may still be issues with this given that it appears that georss actually has two namespaces defined.  



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@655551 13f79535-47bb-0310-9956-ffa450edef68"
c6f472ad3b4d97b826dc895979154f53c04bb994,"https://issues.apache.org/jira/browse/ABDERA-134 - ""It seems that ibiblio maven2 repository has been deleted or moved, so the build script can't download the jar.""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@655552 13f79535-47bb-0310-9956-ffa450edef68"
54ee7302574cda7b3cba59ba8a8844a81e50160a,"Add a createErrorResponse method to AbstractProvider so custom implementation can easily customize the kind of error response returned 

see https://issues.apache.org/jira/browse/ABDERA-132

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@655553 13f79535-47bb-0310-9956-ffa450edef68"
12444e203d8f9ac97ec1e5da0af0fb00b11a59e1,"https://issues.apache.org/jira/browse/ABDERA-133 - ""I found another issue in this method. Checking for the atom:author tag is incorrect--it fails when the eleme3nt is inside the source element, rather than in the entry itself.""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@655555 13f79535-47bb-0310-9956-ffa450edef68"
d7f1d74c809348a741d8ab74f744cb36c5c49b3c,"https://issues.apache.org/jira/browse/ABDERA-157

Modified version of David's patch.  I changed the method signature to <T>T getMatcher() and made the RegexTarget return the Pattern that was matched instead of the Matcher.  Allowing access to the Matcher can cause problems since it's a mutable object.  The Pattern is better.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@655963 13f79535-47bb-0310-9956-ffa450edef68"
2d2a129c929a6e2c400f946214161c8c1792d075,"https://issues.apache.org/jira/browse/ABDERA-160 - NPE in AbstractProvider when building service doc for WorkspaceInfo with null CollectionInfo collection

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@656931 13f79535-47bb-0310-9956-ffa450edef68"
122e9900d6c785a6d0b2fd2583649c3c9466342b,"https://issues.apache.org/jira/browse/ABDERA-158 - Make ServletContext available in ServletRequestContext

I modified the patch so that the existing RequestContext.getAttribute and setAttribute methods can be used. There is a new value for the Scope enum called CONTAINER that, when using the ServletRequestContext, will use the ServletContext.

e.g. context.setAttribute(Scope.CONTAINER, ""foo"", ""bar"");


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@656935 13f79535-47bb-0310-9956-ffa450edef68"
3c7fef10f47ce5a2f2cd3e69c75a85e492e17d45,"https://issues.apache.org/jira/browse/ABDERA-159 - 
Entry content is encoded as base64 even if mime type of text/* is provided

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@656937 13f79535-47bb-0310-9956-ffa450edef68"
a850ec37b2987f0f9e45a9b51ac7df9bdceebe13,"Fix a test broken by the fix for https://issues.apache.org/jira/browse/ABDERA-159

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@656941 13f79535-47bb-0310-9956-ffa450edef68"
baadf142dbcb38e0c0e5c88c3dd4ee9356face52,"Fix a test broken by the fix for https://issues.apache.org/jira/browse/ABDERA-159

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@656942 13f79535-47bb-0310-9956-ffa450edef68"
80062470f668ce6072de285ce8605ce620cbfe80,"add a setClassLoader method to ServiceUtil. This will allow the classloader to be set explicitly rather than always assuming that the context class loader will be used

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@656943 13f79535-47bb-0310-9956-ffa450edef68"
0be6919065ee27592f0826f3c21622f84fedbe6d,"https://issues.apache.org/jira/browse/ABDERA-161 - Route context doesn't support params that start with "":""

Technically speaking, this is not a bug since the : in the route is not part of the parameter name.  However, in the spirit of ""be liberal in what you accept"", this is fine.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@657158 13f79535-47bb-0310-9956-ffa450edef68"
0c8efa489aa5e214b5aaa49b526c27024ff73242,"ignore eclipse artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@660386 13f79535-47bb-0310-9956-ffa450edef68"
25b58649ace7d67a8c08730f3dbf09087917d1ec,"add support for the new ""service"" link in the IANA registry

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@660387 13f79535-47bb-0310-9956-ffa450edef68"
b5d90ee4a807a8c1066f9875d109316be2fc136c,"move features extension out to it's own directory

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@660392 13f79535-47bb-0310-9956-ffa450edef68"
4df8a4f53539f9f254eaf64c11ee145ddb1f4346,"https://issues.apache.org/jira/browse/ABDERA-162 - ""RouteManager.urlFor shouldn't read params from request""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@660609 13f79535-47bb-0310-9956-ffa450edef68"
9b6f878ff2ad5e6bc2584d4d86cc6351a66d01cc,"Update the URI Templates implementation to match the current version of the spec

  http://bitworking.org/projects/URI-Templates/spec/draft-gregorio-uritemplate-03.txt
  
The -listjoin op is now -list
The -append op is now -suffix
-listjoin and -append can still be used for backwards compatibility

-prefix and -suffix substitutions can now be lists

Unicode Normalization Form KC is now required by the spec and is applied automatically

Additional bug fixes have been made

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@660644 13f79535-47bb-0310-9956-ffa450edef68"
703cdbfeaeaed561de344fcc2220b3f899c0f969,git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@660652 13f79535-47bb-0310-9956-ffa450edef68
aac821f509db58da10d24d08dff008c0f747e6fc,"It would be helpful if I moved the tests for the features extension also

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@660657 13f79535-47bb-0310-9956-ffa450edef68"
13f39ada8c7e2af52ea07fa6e307cce6bbab281a,"ignore eclipse artifacts

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@660659 13f79535-47bb-0310-9956-ffa450edef68"
4214e03332a5794769a16d7de1cd0ba7837f7b6a,"Adopt the classloader handling code from CFX as suggested by Dan. Since the CFX code just works, I adopted it outright with a couple of minor modifications.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@660741 13f79535-47bb-0310-9956-ffa450edef68"
d0601fe39c83aacb64936e4aac03f1727cce3932,"fix the broken dependency for the features extension

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@661194 13f79535-47bb-0310-9956-ffa450edef68"
68ca16238de5c49c15b5fe6cd64dd06be3449d01,"re: https://issues.apache.org/jira/browse/ABDERA-171 ""Set explicit encoding on OutputStreamWriter in FOMTest.testContent2""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@663815 13f79535-47bb-0310-9956-ffa450edef68"
715f5c0ee6a7640b96ae2b18dcb2bc9522d49189,"https://issues.apache.org/jira/browse/ABDERA-172 - Missing easymock dependency in Ant target 'init'.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@663818 13f79535-47bb-0310-9956-ffa450edef68"
bb13add84edcbdb93d66da1e7b904faaef777eb0,"https://issues.apache.org/jira/browse/ABDERA-173 - 
AbstractEntityCollectionAdapter.postMedia() returns wrong URI in Location header

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@663820 13f79535-47bb-0310-9956-ffa450edef68"
30a4ddb55422d3e9ebc57d87d810fb711e500057,"https://issues.apache.org/jira/browse/ABDERA-175 - ""Default return status for unimplemented functions is incorrect""

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@669192 13f79535-47bb-0310-9956-ffa450edef68"
1a715e311dc6bb4650d40b9ebb0b9d55d8ca7efb,"Entry.setSummary(Div) and other text construct methods that accept the Div input had a major bug as reported by M Harris on the dev list. Fixed with this patch

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@669500 13f79535-47bb-0310-9956-ffa450edef68"
51e114cecb0625ca579947fc8f3c2e368f9eb6cc,"fixes ABDERA-176, ABDERA-177, ABDERA-178

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@669801 13f79535-47bb-0310-9956-ffa450edef68"
aa8f8fb767b24df72e7a3f44c8eb9285c3fa3beb,"fixes ABDERA-176

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@669836 13f79535-47bb-0310-9956-ffa450edef68"
5f734c84f6d200150814bc145e7ef0f70a3b8922,"added ordered routes collection

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@669863 13f79535-47bb-0310-9956-ffa450edef68"
90746b7b17aa9c1fa3376ceed3b3c8b51a0cc8d5,"RouteManager envolves the routes and targetTypes into a class, it eliminates target map. 
Thanks to Ed Ruder


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@670021 13f79535-47bb-0310-9956-ffa450edef68"
07d2dfed761fcb685850355dcc8e52f79f7cfe0f,"Make the OpenSearch filter available to everyone. Add the ability for JcrCollectionAdapter to handle non text content.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@671525 13f79535-47bb-0310-9956-ffa450edef68"
6fb44e4e765ccd1829f2c86b9e64de9dcf9079e0,"Make mapEntryToNode protected so people can override it.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@671532 13f79535-47bb-0310-9956-ffa450edef68"
ec8a5d9fda98dca61d9ae6b76fa59e9019629c62,"Add public accessor methods for Route.requirements and defaultValues -- thanks to David Primmer


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@673305 13f79535-47bb-0310-9956-ffa450edef68"
865535dc47b350dc1bc756b6abc1b5455aa33c9b,"ABDERA-183: add accessors for RouteTargetType

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@673888 13f79535-47bb-0310-9956-ffa450edef68"
505aaeb532cf2cbe5e953c49d744d0d9e741c295,"build is broken due a bug with java 5, Thanks to  Sergio Bossa


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@674096 13f79535-47bb-0310-9956-ffa450edef68"
b35ac8f26b9ce5ceedd4f39a077fbec516215106,"ABDERA-185: Refactoring AbstractProvider to make it open for extension. Thanks to Sergio Bossa

All the bussiness logic has been moved from AbstractProvider to a specific RequestProccessor implementation. Each implementation serves one type of 
requests, for instance, EntryRequestProcessor class serves TargetType.TYPE_ENTRY requests.

I've changed some stuff of the patch. I've moved processors to a specific package and I've deleted the NoOpTransaction class since it's not needed. 
Moreover I've renamed the ""setAdditionalRequestProcessors"" method as ""addRequestProcessors"", I think it's more readable and it follows the abdera 
names convention(""addFilter"", ""addCollection"" ...).




git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@674439 13f79535-47bb-0310-9956-ffa450edef68"
7fe3925b3b4e1074e85c01b9f865e936d956bf57,"deleted comment that has not sense

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@676228 13f79535-47bb-0310-9956-ffa450edef68"
d8e3f613267021490b166084d2cadf592005ee4f,"ABDERA-186: Custom Provider request processors get overridden by defaults. Thanks to Christopher Elkins.

Moved requestProcessors initialization to a protected constructor in order to drop trumped requestProcessors.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@676233 13f79535-47bb-0310-9956-ffa450edef68"
84914ca4db023b934bc2abe0de9fd9a9a98cc1bc,"added client support in order to allow to send multipart/request objects, it follows the AtomPub multipart spec:
http://atompub-mulitpart-spec.googlecode.com/svn/trunk/draft-gregorio-atompub-multipart-02.txt

Example:

Entry entry = new FOMEntry();
entry.setTitle(""my image"");
entry.addAuthor(""david"");
entry.setId(""tag:apache.org,2008:234534344"");
entry.setSummary(""multipart test"");
entry.setContent(new IRI(""cid:234234@example.com""), ""image/png"");
		
new AbderaClient().post(""http://localhost/media"", entry, new FileInputStream(""info.png""));

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@677918 13f79535-47bb-0310-9956-ffa450edef68"
daf36a0e630a2103d56b88d8ac1a69b0c7ac5e50,"boundary header parameter shouldn't start with dashes


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@678555 13f79535-47bb-0310-9956-ffa450edef68"
f5598aa0ee604444af82083efff7984a8ff4034d,"solved carriage return problems when the multipart file is created

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@679065 13f79535-47bb-0310-9956-ffa450edef68"
3778d6a69b2f5d4b9b52c7d36df41fc81c06b4c8,"ABDERA-166: Support multipart/related packaging

It allows to decode multipart/related objects that contain the media resource and the media link entry. It follows the Joe Gregorio draft:

http://atompub-mulitpart-spec.googlecode.com/svn/trunk/draft-gregorio-atompub-multipart-02.txt

I've wrotten a little howto into the wiki:

http://cwiki.apache.org/confluence/display/ABDERA/Support+for+AtomPub-multipart



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@679302 13f79535-47bb-0310-9956-ffa450edef68"
00215f65b7dba9d823239a0806ead35db63dfa58,"FeedValidatorTest breaks the build when feedvalidator.org is unreachable. We should skip these kind of tests when an external source is down.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@679407 13f79535-47bb-0310-9956-ffa450edef68"
40c064f3e9f6e371f56e83749c29a402494a15d5,"[ABDERA-188]: OpenSearch support improvement. Thanks to Sergio Bossa.

This new implementation cover all openSearch use cases:

* Abdera model elements for both the Atom extension and the Open Search Description document (package org.apache.abdera.ext.opensearch.model).
* Metadata (*Info) classes for representing the Open Search server model (package org.apache.abdera.ext.opensearch.server).
* Adapter interface to implement for actually handling search urls (package org.apache.abdera.ext.opensearch.server).
* Two new target types (package org.apache.abdera.ext.opensearch.server.processors).
* Two new request processors for handling requests to the Open Search description document and the Open Search urls (package org.apache.abdera.ext.opensearch.server.processors). 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@680749 13f79535-47bb-0310-9956-ffa450edef68"
fa291f9b5d4407422da2af3a69ab36f5098701c3,"[ABDERA-189]: generics/type-variable clean up. Thanks to Nathan Beyer.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@680940 13f79535-47bb-0310-9956-ffa450edef68"
b63d6fc1275e8353e42cf878be196029c1149cde,"Base64 implementation changed from sun implementation to commons-codec implementation
MultimediaRelatedRequestEntity renamed to MultipartRelatedRequestEntity(more correct)

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@680979 13f79535-47bb-0310-9956-ffa450edef68"
6c83c07f61e8ba3e4c59458bfe51e81391687217,"Base64 implementation changed from sun implementation to commons-codec implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@680981 13f79535-47bb-0310-9956-ffa450edef68"
a4ee2d3a096650d5441f8321e9c1732c43d3fea3,"[ABDERA-190]: serialization and concurrency updates to AbstractListParseFilter and AbstractParseFilter. Thanks to Nathan Beyer:

Serialization adjustments
* declare explicit serialVersionUID fields
* make Collection-based fields transient and implement custom read/write methods

Concurrency adjustments
* remove the Collections.synchronizedXXX types
* use synchronized blocks to wrap all access to the fields; this will increase the atomicity to the complete interactions with the fields, instead just each method call 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@681083 13f79535-47bb-0310-9956-ffa450edef68"
a796fdbaead45e66cf7593d2994017f3f7eb57bc,"[ABDERA-193]: AtomDate hardening - clone java.util.Date, make non-null a requirement. Thanks to Nathan Beyer.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@682320 13f79535-47bb-0310-9956-ffa450edef68"
64ff4c48c299eb1aef6827f7f527b0665fd34ae5,"solves duplicated class into the same file.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@682325 13f79535-47bb-0310-9956-ffa450edef68"
62fa9c7bfba9f7b3da02d3f610a0260ed892bd17,"[ABDERA-195]: OpenSearchDescription setters don't handle null args gracefully. Thanks to Christopher Elkins.

all the test classes have been added to the test suite class.
OpenSearchTest class is removed due to is not been used.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@684744 13f79535-47bb-0310-9956-ffa450edef68"
c8bad094f8dac5c1de0c075b1da4937269617b07,"[ABDERA-196]: CacheFactory interface is incorrectly referenced in AbderaClient. Thanks to Aaron Evans.

I've also added a test case.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@685463 13f79535-47bb-0310-9956-ffa450edef68"
9ac88f27f9948707427c4eb48b64f6906400ad74,"test to assure that simpleExtension adds the namespace properly

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@687044 13f79535-47bb-0310-9956-ffa450edef68"
134e1fb808512d2c3e215100563096cb83d83c30,"[ABDERA-148] Support Java 6 compilation. Added ""java6"" Maven profile which can be invoke with mvn -Pjava6 installl or in settings.xml. Note: I also had to set  MAVEN_OPTS=""-XX:MaxPermSize=128m"" to avoid an out of memory exception when compiling with Java 6.

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@687058 13f79535-47bb-0310-9956-ffa450edef68"
270b96e31eded832402d106fd9922e2114b36fde,"fixes ABDERA-200: IRI: NumberFormatException for IRIs like http://www.example.org:/

This is the change: (\\d*) --> (\\d+) 

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@696661 13f79535-47bb-0310-9956-ffa450edef68"
f06ec7303630309713226d3a4e12139e4d2e73e0,"fixes ABDERA-191: Intermittent zero-length response when retrieving Service Document. Thanks to James Abley.

-Esta línea y las que están debajo serán ignoradas--

M    StaxStreamWriter.java


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@696673 13f79535-47bb-0310-9956-ffa450edef68"
fdc77ede80d1c37733e2128cc484cbd4342b63f3,"fixes ABDERA-199: AtomDate does not check for Date Constructs having T & Z separations between Date and Time. Thanks to Amit Surana.

Test1:
Input: AtomDate.parse(""2008-09-08A20:00:00Z+05:30"")
Output: Exception

Test2:
Input: AtomDate.parse(""2008-09-08T20:00:00X+05:30"")
Output: Exception

Test3:
Input: AtomDate.parse(""2008-09-08T20:00:00Z+05:30"")
Output: Mon Sep 08 20:00:00 IST 2008 //EXPECTED OUTCOME



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@696802 13f79535-47bb-0310-9956-ffa450edef68"
f761dca8113456a7e7430ba013e6c5833cb4f0ed,"allows unknown time offset, following the RFC 3339 examples:
""
   This represents the leap second inserted at the end of 1990.

      1990-12-31T15:59:60-08:00

   This represents the same leap second in Pacific Standard Time, 8
   hours behind UTC.

      1937-01-01T12:00:27.87+00:20
""



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@701343 13f79535-47bb-0310-9956-ffa450edef68"
1dc287c97badb377503f46ab4301a3525b49da46,"fixes ABDERA-179: AbstractEntityCollectionAdapter incorrectly returns relative URIs in Location header. Thanks to Christopher Elkins.

Per section 14.30 of RFC 2616, the Location header ""consists of a single absolute URI"". However, whether posting entry or media resources, AbstractEntityCollectionAdapter responds with a relative URL in the Location header.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@701370 13f79535-47bb-0310-9956-ffa450edef68"
cc2dba21385c2d80a5908773f868de3933d6c102,"fixes ABDERA-180: RouteManager.resolve doesn't find the best match.

Now, RouteManager checks if the uri and the pattern are equal and if they aren't equal it tryies to match them


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@701390 13f79535-47bb-0310-9956-ffa450edef68"
eaedfe88181ec37bd8881b1320f14871cc4a39d1,"Multipart creation implementation supports draft 04:

  http://atompub-mulitpart-spec.googlecode.com/svn/trunk/draft-gregorio-atompub-multipart-04-from-3.diff.html


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@705584 13f79535-47bb-0310-9956-ffa450edef68"
72b622897cd53b6b07583de19c021d34863a06ef,"a little getMultipartRelatedData method refactor


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@705598 13f79535-47bb-0310-9956-ffa450edef68"
595d67876f8c66d59d6bc2851f2b525e82c7092a,"[ABDERA-205]: JSONStream throws a npe when the content element is empty

I've added a simple test


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@710193 13f79535-47bb-0310-9956-ffa450edef68"
0b3bebe74e617937eed0190ffd647d7d0bc46697,"[ABDERA-201]: Does not support HTTP header Expires -1 and throw org.apache.commons.httpclient.util.DateParseException: Unable to parse the date -1

If the header is not valid the cache should be expired, fragment from the RFC 2616:

HTTP/1.1 clients and caches MUST treat other invalid date formats,
   especially including the value ""0"", as in the past (i.e., ""already
   expired"").


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@711131 13f79535-47bb-0310-9956-ffa450edef68"
c975b5626830a36b942a4599db46e77016ca37d9,"[ABDERA-139]: routes requirements are never used

now they can be used to check parameter formats  with regular expressions, you can take a look at the test case.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@711278 13f79535-47bb-0310-9956-ffa450edef68"
c34d268b0516acb4558a914b17fe2454b9abd22e,"[ABDERA-203]: Out of line categories incorrectly serialized. Thanks to Adam Constabaris.

we won't write ""fixes"" attribute when it's value is ""no"" nor the ""scheme"" attribute when it's value is null.



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@711347 13f79535-47bb-0310-9956-ffa450edef68"
bef44939132f545b9d577b4efb9de24b7ff50929,"coreTest cleaned, now it uses easymock


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@713068 13f79535-47bb-0310-9956-ffa450edef68"
5c0a99b6b39becba3f098806a750ba189cff617f,"[ABDERA-194]: FOMXPath selectNodes() accepts a Base argument but requires an Axiom object to work properly.
now FOMXPath class uses the internal element when the base parameter is an ElementWrapper.

I've also fixed some compilation problems due to having a method in two interfaces that accept the same parameters but return different types.




git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@718752 13f79535-47bb-0310-9956-ffa450edef68"
f37f320d131b77221fe78b5e93a1cfa4a1aa4d5b,"[ABDERA-202]: Add RSS contrib to regular build
I've moved it from the contrib directory to the extensions directory



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@718797 13f79535-47bb-0310-9956-ffa450edef68"
35834485dd1901d1cb6412be83192dc0c710079e,"cast added to RssFeed, it solves compilation errors


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@718898 13f79535-47bb-0310-9956-ffa450edef68"
5da5bdd62787d1b6114433c149469b05871fead2,"solves incompatibility problems due to having to methods with the same signature but that return different types.


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@718902 13f79535-47bb-0310-9956-ffa450edef68"
3d977d5a21eac06bea189d8f44259bd520b27bb6,"svn:ignore modified

git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@718903 13f79535-47bb-0310-9956-ffa450edef68"
4f521684b5e8ba7ccd8d8e46a7f10703575c021b,"words ""incubator"", ""incubating"" deleted from the source code.
incubator.apache.org/abdera replaced by abdera.apache.org



git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@720625 13f79535-47bb-0310-9956-ffa450edef68"
74131cf0864a64fd7863031fcee8ee8eb8c59214,"distribution repositories moved to the tlp repositories


git-svn-id: https://svn.apache.org/repos/asf/incubator/abdera/java/trunk@722938 13f79535-47bb-0310-9956-ffa450edef68"
c1ce788248defcae9d7fb82ae12e9dcdecbcbbf9,"Move Abdera out of the incubator.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@723328 13f79535-47bb-0310-9956-ffa450edef68"
baaf239d077595913f0408a40e90967042d5edd8,"Fixes [ABDERA-207]: Add type and charset as contentType's parameters in the server response


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@723745 13f79535-47bb-0310-9956-ffa450edef68"
c55ae971dc568f358ff905629ae6744367ce1440,"testing the post-commit script


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@723748 13f79535-47bb-0310-9956-ffa450edef68"
58d55c22b68fe6f2769ffdc77a4af6d9b94dc769,"repository path moved

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@728006 13f79535-47bb-0310-9956-ffa450edef68"
b477571776c48f8469ebe40c009ca98b32195a15,"doad file to show Abdera in the apache.org main page

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@729404 13f79535-47bb-0310-9956-ffa450edef68"
aeb7a625575ce1e5f16073c65d4c824517f386ce,"version moved from 0.5.0-SNAPSHOT to 1.0-SNAPSHOT



git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@729410 13f79535-47bb-0310-9956-ffa450edef68"
f0067c5b7fcd8d993e71244e640e520cef33858f,"incubator disclaimer deleted

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@731713 13f79535-47bb-0310-9956-ffa450edef68"
4f66ae89f4c168aea4326936a4187fb4a0060a6f,"repository protocol modified

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@731928 13f79535-47bb-0310-9956-ffa450edef68"
8ab24a3be7fbbdeac75b7855c5d78695b1d6eda9,"release bundle downgrade to version 1.3 due to problems generating the notice file

fixes #212: Cannot add a WorkspaceManager instance to ProviderFactoryBean, thanks to Chris K Wensel


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@736035 13f79535-47bb-0310-9956-ffa450edef68"
b0eae4da9025dc63e40258ba75bfc5daf82e0c51,"Changes section updated.
Incubator disclaimer deleted.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@736744 13f79535-47bb-0310-9956-ffa450edef68"
4283deb02dfd92e6ab464ad2c1c234ef3a1cd391,"abdera url modified


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@736786 13f79535-47bb-0310-9956-ffa450edef68"
889a3f39c344478c9477e6a11372def84302ff79,"incubator references deleted

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@736811 13f79535-47bb-0310-9956-ffa450edef68"
eaeed401eb8f80bf4fcd11849a486426fe5c030e,"scm tag modified
rss extension added to new features


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@737326 13f79535-47bb-0310-9956-ffa450edef68"
f519dc993464f523be69fc45a23a83ced6985291,"[maven-release-plugin] prepare release abdera-1.0

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@737347 13f79535-47bb-0310-9956-ffa450edef68"
8b36fb859267aab71d9888d3c703e6e63cc77db1,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@737350 13f79535-47bb-0310-9956-ffa450edef68"
04d7823974bd9313c8cea7a324690f2c38768559,"version number reverted to 1.0-SNAPSHOT
htmlParser notice added to notice-supplement


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@737883 13f79535-47bb-0310-9956-ffa450edef68"
987f2b8e06e0994188ac13846f826cf54604e6f8,"Remove mis-spelled <reposiories> element.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@749155 13f79535-47bb-0310-9956-ffa450edef68"
7d696a0d5ba618518839ad25e5299ef4e1cc1869,"Creating AbderaClient using preconfigured HttpClient

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@771442 13f79535-47bb-0310-9956-ffa450edef68"
6b0a76b00800b31ddc3e3cc4983ffb33d3a62914,"IRI.toString() does not preserve empty fragment identifiers and queries

Per https://issues.apache.org/jira/browse/ABDERA-218

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@771444 13f79535-47bb-0310-9956-ffa450edef68"
e901fa68afde4250a1777332a38121a8a2f0391d,"One fix for two issues:

https://issues.apache.org/jira/browse/ABDERA-213
https://issues.apache.org/jira/browse/ABDERA-211

No way to explicitly declare namespaces using StreamWriter interface
StreamWriter interface not outputting correct namespace for atom:link element in service docs

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@771446 13f79535-47bb-0310-9956-ffa450edef68"
6812bd2e0b915662565813402924617e77d6cad4,"For https://issues.apache.org/jira/browse/ABDERA-210

ResponseContext needs to be able to support non-Atom binary resources so we cannot assume that 
AbderaServlet should always use a Writer. This adds a new method to ResponseContext called isBinary,
which defaults to false.  If true, the AbderaServlet will pass the OutputStream to ResponseContext,
if false, the servlet will pass the Writer to ResponseContext. 

This also fixes a bug in ResponseContextWrapper.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@771450 13f79535-47bb-0310-9956-ffa450edef68"
99354c481b1aecb18d18390c38ea4295ef845116,"Fix for https://issues.apache.org/jira/browse/ABDERA-222

The PeekAheadInputStream was writing too much back to the buffer, which introduces 0x0 chars to the stream

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@771487 13f79535-47bb-0310-9956-ffa450edef68"
3dd964a92a193cd8503fee24d6f08d5f7d426ef7,"Ignore eclipse artifacts

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@771562 13f79535-47bb-0310-9956-ffa450edef68"
f98aad3a94d5987d8ddb21a8eb53b1ed00da59c9,"Fixing the ant build

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@772316 13f79535-47bb-0310-9956-ffa450edef68"
a2397807182abcc7455d0340fb6c410ca24f7784,"Fix for https://issues.apache.org/jira/browse/ABDERA-225

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@772324 13f79535-47bb-0310-9956-ffa450edef68"
6b647530209f9db66faac32bceacc4b09f5b450c,"Some refactoring. the EncodingUtil class isn't strictly required, was mostly deprecated... moved the still relevant code to other areas and removed the EncodingUtil class.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@772343 13f79535-47bb-0310-9956-ffa450edef68"
58154d8c52cfd4db70f708a1849aa00156cd1ce4,"remove unnecessary compiler warnings

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@772409 13f79535-47bb-0310-9956-ffa450edef68"
6e31d5b27c4dbc340fe1b3be085a22aff55723ad,"Refactoring of some of the base level class discovery code. The moves things to a more logical location, improves the reliability of the implementation and simplifies the code structure a bit.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@772417 13f79535-47bb-0310-9956-ffa450edef68"
59a597489310a7fea9bdf897e640d6d28dad7fda,"Fix NPE waiting to happen

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@772439 13f79535-47bb-0310-9956-ffa450edef68"
bff3db5a32f411a9b85eafd957d8e5143dd0573f,"Refactoring of some of the base level class discovery code. The moves things to a more logical location, improves the reliability of the implementation and simplifies the code structure a bit.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@772446 13f79535-47bb-0310-9956-ffa450edef68"
f381f16ea2a6f1d1ab6e39be4552bb2530fdf45f,"Fix for https://issues.apache.org/jira/browse/ABDERA-231

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@773297 13f79535-47bb-0310-9956-ffa450edef68"
7a9cf7dbe719e040e7a55cb1987ed641ede1409f,"remove unnecessary compiler warning

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@773298 13f79535-47bb-0310-9956-ffa450edef68"
2d0e0de44876c7f3cc9129a89a7d650596b57004,"Fix compiler error

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@773610 13f79535-47bb-0310-9956-ffa450edef68"
0526889d70a433c812791e5adde65903cff93258,"avoid potential NPE

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@774027 13f79535-47bb-0310-9956-ffa450edef68"
525fd8ab3abfd534a43fe09a9a123dfce998f1d9,"Added dependency on commons-codec for i18n build

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@780661 13f79535-47bb-0310-9956-ffa450edef68"
892696bde7285cf663e7ecd83739786c1a399d6b,"LRUCacheFactory needs a constructor that takes an Abdera parameter

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@780662 13f79535-47bb-0310-9956-ffa450edef68"
e9b6a729d245a94b5be9c4e577190e7a672c77e4,"Applied patch from ABDERA-236

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@782570 13f79535-47bb-0310-9956-ffa450edef68"
9914f76ccb1bde8c691e7eace7296cfdf45949a0,"Don't use the discovery mechanism for cache impls. for now, this means the AbderaClient is hard coded to use the LRUCache in-memory cache implementation. The original design meant for the cache implementation to be pluggable. Ideally, however, the HttpClient would incorporate some kind of cache so we wouldn't have to do this at all. I'm wondering if there's some way we could separate all the http client related stuff out to a distinct subproject?

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@782732 13f79535-47bb-0310-9956-ffa450edef68"
84a4f7626522b0a6cb5e33d3a568bb6b83d618a8,"fixing providers discovering errors. Now we just need to fix the failing tests

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@914998 13f79535-47bb-0310-9956-ffa450edef68"
332f1634ce79805641488a042c928966624ecc64,"fixes redundant assignation of mimeType. Thanks to Pascal Christoph

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@916287 13f79535-47bb-0310-9956-ffa450edef68"
9af080e52fe6b2c8e28dbf020c9f894b047da1d5,"fixing a bug initializing providers

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@936027 13f79535-47bb-0310-9956-ffa450edef68"
f222bba918e4c30b1c2332bf62ac605d08c63f3e,"reverting ABDERA-210, since had other side effects. Thanks to Ck

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@936030 13f79535-47bb-0310-9956-ffa450edef68"
30d593ee53a1963c51fa06b8e55a9b869ba9e73f,"Allowing to use a custom XMLReader to parse documents. Thanks to Dan Beaulieu.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@936036 13f79535-47bb-0310-9956-ffa450edef68"
66541ea87c8a86a32815d92555e32955d362f571,"No changes just touch all the pom.xml's as a temp workaround for files not having eol native

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@940191 13f79535-47bb-0310-9956-ffa450edef68"
e21fc5bfeffa0a250fe73d6622042e515c9f4cfb,"Bump up trunk version to 1.1-SNAPSHOT instead of 1.0-snapshot as 1.0 has now been released

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@940192 13f79535-47bb-0310-9956-ffa450edef68"
630eeb67674719e2a25b61e9b747868b00ad3fc1,"ABDERA-256: take out test for now as its hanging

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@940193 13f79535-47bb-0310-9956-ffa450edef68"
e0687a8e506845a630199e1f68d85d9d6a5f7f1a,"Remove @Ignore as the testcase does work, its just a bit slow

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@940194 13f79535-47bb-0310-9956-ffa450edef68"
0042585bb51b58f4453aec27f21ed48901e0c5b5,"Update jaxen license text

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@940195 13f79535-47bb-0310-9956-ffa450edef68"
3313fe81312c2b044c13c868708b5a2ec57372cb,"ABDERA-233: initBaseUri() in the class ServletRequestContext will append the port 443 to https requests, fixed as suggested in JIRA by J G

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@940215 13f79535-47bb-0310-9956-ffa450edef68"
45c99404ea1bd0c353ed001d6d4bb1cadfdf64ab,"Fix GeoRSS extension from Nathan Reese on ML - http://www.mail-archive.com/dev@abdera.apache.org/msg00259.html

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@940218 13f79535-47bb-0310-9956-ffa450edef68"
5e5020962e785b98322f19fc128409faddc622de,"ABDERA-102: Apply patch from Christine Koppelt for Unit tests equality assertions, params in wrong order

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@940380 13f79535-47bb-0310-9956-ffa450edef68"
4a346f84079b8641e1a3059f2c69e6404ff7a0aa,"Add a changes file listing the changes since 1.0

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@941259 13f79535-47bb-0310-9956-ffa450edef68"
4bcc15debc9ae8bc22503fb4fbf578369e3d65d1,"Remove old KEYS files, the actual one thats used is at: http://www.apache.org/dist/abdera/KEYS

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944143 13f79535-47bb-0310-9956-ffa450edef68"
d91258f5534952a6766079ee53b9e111c8cf87cf,"minor refactoring of unit tests; adopt test structure to src structure


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944731 13f79535-47bb-0310-9956-ffa450edef68"
1d6a19fe27c03a4776a95b64882418d826d5e9c6,"removing all occurences of 'extend Testcase'


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944740 13f79535-47bb-0310-9956-ffa450edef68"
4e6879cbe9dc2b99a68e1cf31901389d49012dd6,"replaced all occurences of 'extends Assert' with static imports


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944745 13f79535-47bb-0310-9956-ffa450edef68"
13e6cc0fd290201f4e0b42290741a186d081d878,"replaced all occurences of 'extends Assert' with static imports


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944747 13f79535-47bb-0310-9956-ffa450edef68"
b52b4d88b41873931b60d10362bbd6511f3dd60d,"replaced all occurences of 'extends Assert' with static imports


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944748 13f79535-47bb-0310-9956-ffa450edef68"
1f2d186cf46bfd531ac2aa076b9bc4a9c5318c27,"update to junit 4.8.1


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944780 13f79535-47bb-0310-9956-ffa450edef68"
3f890f8c31b6240c2f6d0eca413a0534e58de58b,"easymock version update


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944792 13f79535-47bb-0310-9956-ffa450edef68"
0a8d15e9234a831a70cacf39dd4ae3489cb2688c,"fix for ABDERA-102


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944803 13f79535-47bb-0310-9956-ffa450edef68"
f2ecd433462b00dd9103814d04c3155fe37e16b1,"removed unnecessary try/catch from Unit Test


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944810 13f79535-47bb-0310-9956-ffa450edef68"
8287034b79b72709451a4b2a586ee2c60f5f56e9,"fix for ABDERA-102


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944813 13f79535-47bb-0310-9956-ffa450edef68"
4966403f4db453d49a42cadfd0f76503691da024,"fix for ABDERA-102


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944820 13f79535-47bb-0310-9956-ffa450edef68"
90bf0c928d81ee924da7e221d32016623aa5247b,"fix for ABDERA-102


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944823 13f79535-47bb-0310-9956-ffa450edef68"
0067f52e8dd7e8c14f5cdcee9dface826f47c3ee,"fix for ABDERA-102


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944830 13f79535-47bb-0310-9956-ffa450edef68"
dd7bf8207d91fd48382947d2713537ee1e5aca96,"fix for ABDERA-102


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944861 13f79535-47bb-0310-9956-ffa450edef68"
e575c8e1613c729f1a7ecc5ca3704a9427470387,"fix for ABDERA-102


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944863 13f79535-47bb-0310-9956-ffa450edef68"
afcac3717e814e8463430cc38c08591b33884dd0,"updated jetty version


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@944883 13f79535-47bb-0310-9956-ffa450edef68"
fc63ef1701566f769498266a9f2df3ed72000d7d,"fix for ABDERA-242


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@945376 13f79535-47bb-0310-9956-ffa450edef68"
cbfc425ac8df1b1278ae0d97c34340a4ff1e2603,"added FOMParserOptionsTest; fixed OElig


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@946755 13f79535-47bb-0310-9956-ffa450edef68"
07de5ccc0976989a437946508096da960c501be9,"added license header


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@946759 13f79535-47bb-0310-9956-ffa450edef68"
927466b03e00e349d785c6e8c0bd109b68c7cc95,"added Testcase for HTML special characters


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@946769 13f79535-47bb-0310-9956-ffa450edef68"
f7144852cc06cb440c721118042b576aa04b068e,"minor version updates


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@947102 13f79535-47bb-0310-9956-ffa450edef68"
43648343ea2d4d056f5c78503d6612c7c4df79af,"extended and refactored unit tests in core


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@947450 13f79535-47bb-0310-9956-ffa450edef68"
9df732844f016820247d264d291a243231021ed1,"patch for ABDERA-250 (the original patch couldn't be applied as there was a refactoring in the meantime)


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@948204 13f79535-47bb-0310-9956-ffa450edef68"
cce3f0f613bd2c38d878a5f61f5aadea2eede184,"Reformat codebase using the template at https://svn.apache.org/repos/asf/abdera/etc/

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@951666 13f79535-47bb-0310-9956-ffa450edef68"
c9370f6fd957f4e6bd1ca3e8b64860fd8c7effbb,"Update changes.txt with recent updates

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@954176 13f79535-47bb-0310-9956-ffa450edef68"
4b7978691a30fe76ed3a7f2c41e31cada4cd0ac5,"Rename changes.txt to CHANGES to match other doc files, update it for 1.1 release and include in bin distro

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@954178 13f79535-47bb-0310-9956-ffa450edef68"
086baa86fbeecfc140646db16dd966a1259fe37e,"fixes negative behaviour on uri templates

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@955502 13f79535-47bb-0310-9956-ffa450edef68"
7024ddc54e62a1d4c9db71ac638223ea5ee6e5b8,"Update changes file with latest fix from Josh Gordineer for URI templates

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@955868 13f79535-47bb-0310-9956-ffa450edef68"
63b483484896fb6291c96606b1bf4bf6f84db240,"Add some notes on releasing the artifacts

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@955891 13f79535-47bb-0310-9956-ffa450edef68"
309e8898929fb3d6c7c310723af3d698b2a49bbb,"Add an explicit cast to fix a compile error when building with JDK 1.5

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@956475 13f79535-47bb-0310-9956-ffa450edef68"
f811648cb3df6e69ee7809c8f95c3f8d49a5d29d,"ABDERA-267: Apply patch from Andreas Veithen to use latest axiom to get fix for performance issue. This is using the latest axiom snapshot so we can't release abdera till an axiom release is done with the fix, hopefullt that wont be too long

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1006114 13f79535-47bb-0310-9956-ffa450edef68"
c974451fefe1e9f6b693c0b2e57a9d8432e468df,"Update to use the mpw released 1.2.10 version of axiom instead of the snapshot

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1039210 13f79535-47bb-0310-9956-ffa450edef68"
57db07e2bc01ddd63c5d3f64b42620a96311a85c,"ABDERA-270: Apply patch from Guillaume Nodet for OSGi meta-data is broken

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1039664 13f79535-47bb-0310-9956-ffa450edef68"
995268af0e8345569a528badb02af32d781ab0cc,"Update CHANGES file with the commits since the 1.1 release

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1039667 13f79535-47bb-0310-9956-ffa450edef68"
ee2a91c054c5beed596de505697d191c8048835c,"Remove change comment duplicated from the 1.1 release

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1039671 13f79535-47bb-0310-9956-ffa450edef68"
9c0fbce6c54e436324bf10c57715f362069e96f2,"ABDERA-262: Apply patch from Nathan Reese to fix EntryRequestProcessor and MediaRequestProcessor do not support POST

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1039944 13f79535-47bb-0310-9956-ffa450edef68"
e80cc411750edc3fe2d9c90060bacdeb3e596de0,"Update the changes file with Nathan's fix

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1040675 13f79535-47bb-0310-9956-ffa450edef68"
ac4028a843dff60c5a8e16ab3a023ac27ca3329f,"fixed maven 3 build warnings


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1042248 13f79535-47bb-0310-9956-ffa450edef68"
06c507f6e8d169270073553843d8d8401a3e59d7,"fixed nullpointers; added unit tests - preparing a refactoring

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1042356 13f79535-47bb-0310-9956-ffa450edef68"
fed8120ae16921a934f0624f9fdd67cbfb8936b1,"fix for ABDERA-258

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1042481 13f79535-47bb-0310-9956-ffa450edef68"
ba5e5a0648869715a523ff8bc35cc36ff521c457,"fix for ABDERA-275

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1050475 13f79535-47bb-0310-9956-ffa450edef68"
e8b7972ebca809c36c0f1ecf0e32b3a1d5d7f4fb,"updated project version to 1.2-SNAPSHOT

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1050854 13f79535-47bb-0310-9956-ffa450edef68"
2b8bc197d24eab7cfb211b6c1c6886114437ec5f,"removed couchdb adapter from build files to get rid of the additional maven repo; updated some dependencies

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1051696 13f79535-47bb-0310-9956-ffa450edef68"
3dfd1f86a45b365cfc5642d472d29700c3861091,"applied patch for ABDERA-251

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1052368 13f79535-47bb-0310-9956-ffa450edef68"
15c791a5a93abf2b042f236e034844e6f28dbc37,"added unit test for ABDERA-251 and and ABDERA-243

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1052465 13f79535-47bb-0310-9956-ffa450edef68"
03cf598c3dc4667ac190df6dcc134e4ef0dcbe25,"ABDERA-277: Apply patch from Olve Sæther Hansen to fix Excessive calls to flush() on the Writer responsible for writing JSONStream data.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1056044 13f79535-47bb-0310-9956-ffa450edef68"
6dc510fbed8662129174f5cb35a86a090a877a1f,"ABDERA-277: Correct application of patch to fix Excessive calls to flush() on the Writer responsible for writing JSONStream data

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1056350 13f79535-47bb-0310-9956-ffa450edef68"
de576c6073f76b002d974e2eb9c7833c1591a3f5,"Update trunk CHANGES file for 1.1.2 release

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1056662 13f79535-47bb-0310-9956-ffa450edef68"
b0efb7119a8c5407f8a8da396a50a4842e1c4e88,"ABDERA-278: Fix to relax the version requirement for commons-codec in OSGi manifests

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1056895 13f79535-47bb-0310-9956-ffa450edef68"
acaca3f451b3eac88640b6328442d63b233b723f,"Update changes file for abdera-278

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1056896 13f79535-47bb-0310-9956-ffa450edef68"
134d8d80cfb511ee695eecc106fa87ea958db4b3,"moved doco to wiki

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1057926 13f79535-47bb-0310-9956-ffa450edef68"
80d019ca552bc49b8bae2367f318a10ffc8fd65c,"updated readme and build script

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1058008 13f79535-47bb-0310-9956-ffa450edef68"
48df3ea4e452983119ea63c87596b5efb6e815b1,"ABDERA-279: Apply patch from Antoine Toulme to fix Faulty classloading - unreachable code

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1058884 13f79535-47bb-0310-9956-ffa450edef68"
c59215d5ba4f13eefed82f86a75c53f37194b509,"finally removed outdated couchdb adapter

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1060056 13f79535-47bb-0310-9956-ffa450edef68"
f9f2c83de308410b6bdc50773e377b9b4a5e9f82,"fix for ABDERA-259

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1065250 13f79535-47bb-0310-9956-ffa450edef68"
0efd2ce1845b432c0a5f8a5cde8d041438f9eaab,"improved patch

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1065254 13f79535-47bb-0310-9956-ffa450edef68"
7243df7feb73374e8509fa2882021976e6a84b5b,"added quaility factors to request accept header

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1065346 13f79535-47bb-0310-9956-ffa450edef68"
7f0c51bec3d1309048cb20ca9d38c111a82a2918,"fix for ABDERA-282

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1066698 13f79535-47bb-0310-9956-ffa450edef68"
690b176da1d7a214e51b5aeb79057dcdf8058480,"fix for ABDERA-281. Add axiom-api dependency to parser.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1129903 13f79535-47bb-0310-9956-ffa450edef68"
5489321220d577a5e2387b3b56636c71d67fa233,"removed broken test

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1132940 13f79535-47bb-0310-9956-ffa450edef68"
a147e725d74761812f1a1432d931509721c4f593,"harmonized geronimo-activation version

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1136817 13f79535-47bb-0310-9956-ffa450edef68"
4acadcfc118a98b1b1503e66b9510dae96ce9a98,"Fix for ABDERA-285

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1136829 13f79535-47bb-0310-9956-ffa450edef68"
0cc7b4bda7ecbc614b8bd5cca7ac51813c9708bb,"added some new ISO 639-2 language codes

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1136868 13f79535-47bb-0310-9956-ffa450edef68"
3e65d5afbaf7b7abc6ac38b1ac8aea0e2113d677,"refactoring;added some new ISO 639-2 language codes

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1136911 13f79535-47bb-0310-9956-ffa450edef68"
fb2f0eaf55ed9d9db7916f26885224f7b17ea743,"further ISO 639-2 language codes added

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1137038 13f79535-47bb-0310-9956-ffa450edef68"
1e510f23a3767381609d824580e78dcaeb32862c,"ABDERA-290: Apply patch from Andreas Veithen and Olve Sæther Hansen to fix using Axiom 1.2.12 breaks Abdera-parser - compile-errors

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1184766 13f79535-47bb-0310-9956-ffa450edef68"
934c4e21343c296e1c2b182c39c2d1f0040fd2ac,"Update CHANGES file with changes since 1.1.2

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1184767 13f79535-47bb-0310-9956-ffa450edef68"
2941771c9a2fa2472d789a07c4c8ebee056c96f0,"ABDERA-284: Updated the Axiom version in the ant build (to match the one used in the Maven build).

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1210094 13f79535-47bb-0310-9956-ffa450edef68"
5fb33505a3606a4c58a068ac8999cb1ec878545a,"Only add default namespace declarations on ""service"" elements that are created programmatically, but not on elments that are created by the parser. Otherwise this may result in inconsistent namespaces. This change also makes Abdera 1.x compatible with Axiom 1.2.13 (which detects this situation and triggers an exception).


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1210126 13f79535-47bb-0310-9956-ffa450edef68"
6494ff3d4551b6d33788960d3899951dc5bb6a3e,"Let the root POM inherit from the Apache super-POM.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1371874 13f79535-47bb-0310-9956-ffa450edef68"
66fe5f576394c3d3350670a7ac093c33316a32c0,"Prevent the build from creating a derby.log file in the source tree (instead, create it in the target directory).


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1371875 13f79535-47bb-0310-9956-ffa450edef68"
738d959c245340723289b3a2d614bb6a1f637c49,"Fixed svn:ignore.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1371876 13f79535-47bb-0310-9956-ffa450edef68"
2b9f62a032fc5b4802dae2977ea44ec67451f97c,"Created a development branch to prepare the changes necessary to make Abdera compatible with the latest Axiom version.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/branches/axiom-upgrade@1371877 13f79535-47bb-0310-9956-ffa450edef68"
05edacf74d1547cc5a43ae9f46ac4b7e8737968e,"Some unfinished changes.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/branches/axiom-upgrade@1371880 13f79535-47bb-0310-9956-ffa450edef68"
7d9271528d496efcf82b045831791a43b02c901b,"Avoid usage of deprecated UUIDGenerator.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1371882 13f79535-47bb-0310-9956-ffa450edef68"
1efabbbc528375df3ec57d3d1d0735713443429b,"Removed unused attribute.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1371885 13f79535-47bb-0310-9956-ffa450edef68"
910168f6b77a5c688671205f1b0dea3258a9398a,"Removed unnecessary null checks.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1371887 13f79535-47bb-0310-9956-ffa450edef68"
41dbe1f6904e1e69591fdf605f97bf62175e97c8,"Removed method that duplicates code from the base class.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1371956 13f79535-47bb-0310-9956-ffa450edef68"
b41cbe5258fb1c1b354e3c26b087dbbee6e98797,"Realigned the control flow in FOMBuilder with the control flow in the standard Axiom builders.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1371962 13f79535-47bb-0310-9956-ffa450edef68"
13ab07d961e365026dc81d38085ba7d6c35bc18e,"Merged latest changes from trunk.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/branches/axiom-upgrade@1371964 13f79535-47bb-0310-9956-ffa450edef68"
03b93864b303ac4db1a9d172d3729c86b1c1f253,"No need to override createOMElement. The method in the base class now calls constructNode and we override that method.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/branches/axiom-upgrade@1371965 13f79535-47bb-0310-9956-ffa450edef68"
5506ef33b92ec0eb8211c952c961fa91cd73bc19,"Removed unnecessary repository declaration. The Apache snapshot repository is configured in the Apache super-POM.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1371984 13f79535-47bb-0310-9956-ffa450edef68"
1e297152fc33ad46dcbf9ea29ba516a9fad80921,"Don't let the build depend on external resources (other than artifacts from Maven repositories). Added the test cases from feedvalidator.org to the sources. They are MIT licensed, which is compatible with the Apache license.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1372029 13f79535-47bb-0310-9956-ffa450edef68"
1148695078e91615a4fd591945567ae57db5a84b,"Added a unit test to test various parser options for which there was no test coverage yet.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1372057 13f79535-47bb-0310-9956-ffa450edef68"
d6cd0cee681dbaa75efd8ef257ac2ec47839536d,"Started to decouple Abdera from the internals of the Axiom builder by moving the filtering logic (for whitespace, comments, etc.) out of FOMBuilder into an XMLStreamReader wrapper.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1372155 13f79535-47bb-0310-9956-ffa450edef68"
c9d2c56ca3dc0ff3c2feabd99abdb6a1983f0eec,"No need to replace the entire StAXOMBuilder#next() method. At this point we only need to override the method to transform exceptions.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1372161 13f79535-47bb-0310-9956-ffa450edef68"
7982919e01eef274c47d53df33c7fcfd975d5607,"Merged latest changes from trunk.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/branches/axiom-upgrade@1372163 13f79535-47bb-0310-9956-ffa450edef68"
0c8e0cdf04d8ad00abc5fa8ed96ff6e74c4c9f8d,"A processing instruction is always complete.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1372165 13f79535-47bb-0310-9956-ffa450edef68"
05a7d3565708742ccd0afd53633f39d49a98c560,"Use meaningful parameter names.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1372174 13f79535-47bb-0310-9956-ffa450edef68"
b6c122b61477585c49cfcc623e4bf96cb86cf1be,"Merged latest changes from trunk.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/branches/axiom-upgrade@1372274 13f79535-47bb-0310-9956-ffa450edef68"
c4dda9aee32907da286d99b5ca91bc888f42a11c,"Some more unfinished code.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/branches/axiom-upgrade@1372321 13f79535-47bb-0310-9956-ffa450edef68"
06b5b2480bf2c01ed0410a2b31576df8371dcb06,"Since we filter out DTDs, we don't need to handle them in FOMDocument#clone().


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1372497 13f79535-47bb-0310-9956-ffa450edef68"
c419255ab986e43f0d8b69d3f872d78d9388e8c9,"Fixed the qnameAliasMap stuff. It was not exactly working as expected because Axiom resets the namespace information after an element has been created. Moved the logic to FOMStAXFilter so that QName aliasing is entirely transparent to Axiom. Also added a test case.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1374550 13f79535-47bb-0310-9956-ffa450edef68"
f035bf9b702030c0f8d85ba9ee046b84fefa01a3,"Forgot to give the unit test a meaningful name.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1374699 13f79535-47bb-0310-9956-ffa450edef68"
61a398874c55456752e497c2c6e94ccdbcf9a806,"Added a unit test for attribute filtering.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1374700 13f79535-47bb-0310-9956-ffa450edef68"
2d43077dc168f6c6760a1a2b72d2100c531b99cb,"Also move attribute filtering to FOMStAXFilter, so that FOMBuilder no longer needs to override StAXOMBuilder#processAttributes. Now, all filtering and transformation is done in FOMStAXFilter.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1374702 13f79535-47bb-0310-9956-ffa450edef68"
7dd24076097885631a5e3a236230aa7db9df82ea,"Merged latest changes from trunk.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/branches/axiom-upgrade@1374703 13f79535-47bb-0310-9956-ffa450edef68"
6f6b78fcda1fb2db9ebf277af299aa721961627e,"Removed constructors that would allow to create OMElement instances that are not linked to an OMFactory.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1374707 13f79535-47bb-0310-9956-ffa450edef68"
b7e63829a6b02db09bb47e78246c1314ba24dcc6,"Merged latest changes from trunk.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/branches/axiom-upgrade@1374717 13f79535-47bb-0310-9956-ffa450edef68"
b76fb4195e7804c6b0ac26d6736bf1a849de31b1,"Some code simplifications.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1374724 13f79535-47bb-0310-9956-ffa450edef68"
73e2f28a2dd31fd2e97d46d74dd1977858477820,"When creating an element from the builder, only initialize the local name. The namespace will be set by StAXOMBuilder#processNamespaceData. This should avoid unnecessary creation of OMNamespace objects.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1374732 13f79535-47bb-0310-9956-ffa450edef68"
6ace5f8ee0aab916d968b62f8b962ba8619b7bb1,"Merged latest changes from trunk.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/branches/axiom-upgrade@1374754 13f79535-47bb-0310-9956-ffa450edef68"
6f5e097c3c3e3ed4775db95d1aaddc6162164c0e,"Updated to OMElementImpl constructors introduced in Axiom 1.2.14.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/branches/axiom-upgrade@1374757 13f79535-47bb-0310-9956-ffa450edef68"
a02b18164e038188d82da2f5f547f71be258756b,"Avoid calling OMElement#removeAttribute(OMAttribute) with a null value.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1374760 13f79535-47bb-0310-9956-ffa450edef68"
2057ab7f70f115e845706e8987ba707340c20c58,"Eliminated a couple of unnecessary/incorrect calls to setParentElement.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1374766 13f79535-47bb-0310-9956-ffa450edef68"
e10075e0361399d5149e4cb33deda59eb63382c1,"Merged latest changes from trunk.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/branches/axiom-upgrade@1374773 13f79535-47bb-0310-9956-ffa450edef68"
b0b610eed51caafdf342f6a2883a5003aae83d7a,"Upgraded Axiom to 1.2.14-SNAPSHOT.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1374815 13f79535-47bb-0310-9956-ffa450edef68"
502ba62d5ff388bbda426817262b95888f0677c3,"Removed empty svn:mergeinfo properties.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1374816 13f79535-47bb-0310-9956-ffa450edef68"
f390bba23c8e5a935fd866a278548bd7c0204737,"added patch from Willem Jiang for ABDERA-293

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1407291 13f79535-47bb-0310-9956-ffa450edef68"
b42e0cf1a78ae877b403e757c4d80e41395d732b,"fix for ABDERA-309

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1407379 13f79535-47bb-0310-9956-ffa450edef68"
adeb938d40cab5eb5b306c93d495442c147fcde7,"Set svn:ignore.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1409289 13f79535-47bb-0310-9956-ffa450edef68"
881cd4960e35ca69f6c8ec2608cea71b8c30e183,"Adapt to latest changes in Axiom.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1409331 13f79535-47bb-0310-9956-ffa450edef68"
b1dd8d4ffd1ffa80630fb04087640de3891ac0be,"fix for the Java7 build problems from ABDERA-311

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1412329 13f79535-47bb-0310-9956-ffa450edef68"
b615efac7044d6b8a59ce9ecef67e6feef7e1070,"Switched to Axiom release version.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1422616 13f79535-47bb-0310-9956-ffa450edef68"
2009f1ae2d408d03a454c7a27e6a0e3e9976a041,"Update CHANGES file for 1.1.3 release

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1424826 13f79535-47bb-0310-9956-ffa450edef68"
f49aadb10bdfc1942f21c21ab6955cf083945c01,"Removed unused imports and unnecessary @SuppressWarnings.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1435359 13f79535-47bb-0310-9956-ffa450edef68"
60866bf1666bd019359817073478c204120692ce,"Prevent FOMBuilder from modifying the internal state of its superclass (StAXOMBuilder) because this creates a compatibility issue with Axiom 1.2.15. Instead, let Axiom handle the creation of the FOMDocument instance.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1435571 13f79535-47bb-0310-9956-ffa450edef68"
f19937a5a9f8ce078e77ba1debefeb755d445f01,"Switched to Axiom snapshot version to detect regressions early.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1435577 13f79535-47bb-0310-9956-ffa450edef68"
753b571db714d5e81de2f8f4fc42cd0d4b71df2e,"Some code simplifications.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1435809 13f79535-47bb-0310-9956-ffa450edef68"
4d069b618345d6f06a740c317c349886384c4ea3,"Avoid using internal Axiom APIs.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1437727 13f79535-47bb-0310-9956-ffa450edef68"
555282c30ab00d3b1f49cb24f2d98076a82a7cad,"Removed unnecessary call to internal Axiom method corrupting the object model.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1438904 13f79535-47bb-0310-9956-ffa450edef68"
8b50372c43497bb79c3bfe8d76bdd874694bad0e,"Fixed formatting.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1444381 13f79535-47bb-0310-9956-ffa450edef68"
ca7a4c653b289be40f65fece060413b3e77c98f4,"Avoid using fixed TCP port numbers in unit tests.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1444390 13f79535-47bb-0310-9956-ffa450edef68"
a245adaa85204178bd29d63da8f85d82db3484bf,"If something goes wrong in the setUp method, let JUnit handle it and fail the test.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1452032 13f79535-47bb-0310-9956-ffa450edef68"
aa21321cf74e71be90765ab76e6006ec02f60f1d,"Avoid using fixed TCP port numbers in unit tests.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1452034 13f79535-47bb-0310-9956-ffa450edef68"
aa32b52432f8451b4523fcc9afb3b012ec084709,"If something goes wrong in the setUp method, let JUnit handle it and fail the test.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1452046 13f79535-47bb-0310-9956-ffa450edef68"
c43e39de75c4881d86f5e3e0f0ffa1123942d1cb,"Avoid using fixed TCP port numbers in unit tests.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1452052 13f79535-47bb-0310-9956-ffa450edef68"
e52ffe277d28dbd16f267c4a2f3e624faf178c47,"Fixed a test case issue (incorrect response to POST request; causing Axiom to throw an exception).


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1452103 13f79535-47bb-0310-9956-ffa450edef68"
2394792c697a2cbb2ab55f4faf1e70b1959163aa,"Applied the fix in r1452103 to the two other SimpleAdapter classes.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1452121 13f79535-47bb-0310-9956-ffa450edef68"
b49ab3fe8d06e92284cb29d8fb1d36f1eeab3c11,"Use the new style system property configuration for the surefire plugin.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1452130 13f79535-47bb-0310-9956-ffa450edef68"
d5ec967a3620ab3bdd4cec014cde6e407812e37d,"Prevent the build from creating the Jackrabbit repository in the source tree (instead, create it in the target directory).


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1454715 13f79535-47bb-0310-9956-ffa450edef68"
d36464ad0df6332243d2e2a35e63200c62d17d58,"Adapt to recent changes in Axiom and avoid using internal APIs.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1610231 13f79535-47bb-0310-9956-ffa450edef68"
297205bae04543ba0ea2335d5830701c7cdfe1f7,"Adapt to recent changes in Axiom and avoid accessing the internal state of Axiom nodes directly.


git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1611214 13f79535-47bb-0310-9956-ffa450edef68"
8e0086a5d4e9ee8e2270bd06b7fc474580ae4490,"Adapt to recent changes in Axiom.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1677470 13f79535-47bb-0310-9956-ffa450edef68"
6c5eced6ee2428cd505fa07d69f4506644a7d387,"Fix incorrect artifact ID.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1682151 13f79535-47bb-0310-9956-ffa450edef68"
82864e2ce1c7ba0059b4d6628bea1e9261b12a51,"Switch Axiom to release version.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1687949 13f79535-47bb-0310-9956-ffa450edef68"
5abfccf86d531092f6eb55c9a5b8770e57640843,"Switch Axiom to release version.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1689728 13f79535-47bb-0310-9956-ffa450edef68"
d7e4d9adf7f505eafe658adb773a743334d1d220,"Use factory to create FOMEntry instance.

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1697770 13f79535-47bb-0310-9956-ffa450edef68"
aea41cd4d54abe438c37fc1eaa33728b98216f72,"update to point at attic



git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1790123 13f79535-47bb-0310-9956-ffa450edef68"
8090fe09b0d0426e365325887a1aa0981816fb1d,"Fix broken Attic URL

git-svn-id: https://svn.apache.org/repos/asf/abdera/java/trunk@1790392 13f79535-47bb-0310-9956-ffa450edef68"
